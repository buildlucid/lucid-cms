import T from "../../translations/index.js";

export const renderPasswordForm = () => {
	return `<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Protected Share</title><style>/* Brand palette (mirrors admin Tailwind config) */:root{--primary-base:#C1FE77;--primary-hover:#D0FF96;--primary-contrast:#131313;--background-base:#0A0A0A;--card-base:#171717;--card-hover:#242424;--title:#F1F1F1;--body:#a1a1a1;--border:rgba(255,255,255,0.1);--input-base:#212121;--input-contrast:#E3E3E3}*{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;margin:0;display:flex;min-height:100vh;align-items:center;justify-content:center;background:var(--background-base);color:var(--body);background-image:radial-gradient(900px 600px at 5% 0%, rgba(193,254,119,.07), transparent 60%),radial-gradient(800px 500px at 100% 100%, rgba(208,255,150,.05), transparent 60%)}form{background:var(--card-base);padding:24px;border-radius:14px;min-width:320px;max-width:480px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.45);border:1px solid transparent;background-image:linear-gradient(var(--card-base),var(--card-base)),linear-gradient(135deg, rgba(193,254,119,.22), rgba(193,254,119,.03));background-origin:border-box;background-clip:padding-box,border-box}h1{margin:0 0 12px;font-size:18px;color:var(--title);letter-spacing:.2px}p{margin:0 0 16px;color:var(--body);font-size:14px}.row{display:flex;gap:8px}.row input{flex:1;border:1px solid var(--border);background:var(--input-base);color:var(--input-contrast);border-radius:10px;padding:10px 12px;font-size:14px;outline:none;transition:border-color .2s, box-shadow .2s}.row input::placeholder{color:#8a8a8a}.row input:focus{border-color:var(--primary-base);box-shadow:0 0 0 3px rgba(193,254,119,.18)}.row button{border:1px solid var(--border);background:var(--primary-base);color:var(--primary-contrast);border-radius:10px;padding:10px 14px;font-size:14px;cursor:pointer;font-weight:600;transition:background-color .2s, transform .05s ease}.row button:hover{background:var(--primary-hover)}.row button:active{transform:translateY(1px)}.err{display:none;margin-top:12px;color:#F75555;font-size:13px}</style></head><body><form id="share-form"><h1>${T("enter_password") || "Enter password"}</h1><div class="row"><input type="password" name="password" placeholder="Password" required autofocus/><button type="submit">${T("continue") || "Continue"}</button></div><div id="err" class="err">${T("please_ensure_password_is_correct")}</div></form><script>document.getElementById('share-form').addEventListener('submit',async function(e){e.preventDefault();const input=this.querySelector('input[name=\"password\"]');const password=input ? input.value : '';try{const res=await fetch(window.location.href,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password})});if(res.ok){window.location.reload();return;}if(res.status===401){document.getElementById('err').style.display='block';return;}alert('An error occurred.');}catch(err){alert('An error occurred.');}});</script></body></html>`;
};

export const renderErrorPage = (title: string, message: string) => {
	return `<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>${title}</title><style>:root{--primary-base:#C1FE77;--primary-hover:#D0FF96;--primary-contrast:#131313;--background-base:#0A0A0A;--card-base:#171717;--card-hover:#242424;--title:#F1F1F1;--body:#a1a1a1;--border:rgba(255,255,255,0.1)}*{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;margin:0;display:flex;min-height:100vh;align-items:center;justify-content:center;background:var(--background-base);color:var(--body);padding:16px;background-image:radial-gradient(900px 600px at 5% 0%, rgba(193,254,119,.07), transparent 60%),radial-gradient(800px 500px at 100% 100%, rgba(208,255,150,.05), transparent 60%)}.card{background:var(--card-base);padding:24px;border-radius:14px;min-width:320px;max-width:560px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.45);border:1px solid transparent;background-image:linear-gradient(var(--card-base),var(--card-base)),linear-gradient(135deg, rgba(193,254,119,.22), rgba(193,254,119,.03));background-origin:border-box;background-clip:padding-box,border-box}.title{margin:0 0 8px;font-size:18px;color:var(--title)}.msg{margin:0;color:var(--body);font-size:14px}.actions{margin-top:16px}.btn{display:inline-block;border:1px solid var(--border);background:var(--primary-base);color:var(--primary-contrast);border-radius:10px;padding:10px 14px;font-size:14px;text-decoration:none;font-weight:600;transition:background-color .2s, transform .05s ease}.btn:hover{background:var(--primary-hover)}.btn:active{transform:translateY(1px)}</style></head><body><div class="card"><h1 class="title">${title}</h1><p class="msg">${message}</p><div class="actions"><a class="btn" href="#" onclick="history.back();return false;">${T("go_back") || "Go back"}</a></div></div></body></html>`;
};
