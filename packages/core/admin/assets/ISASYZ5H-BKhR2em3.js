import{V as g,a as c,Z as f,f as x,X as y,y as E,d as R,an as X,a0 as z,b as u,$ as K,_ as Q}from"./index-CQ3-BSEL.js";import{_ as Y,h as M,m as C,Z as ee,$ as te,a0 as ne,M as oe,d as b,P as w,c as re,e as se,s as A,f as P,g as ie,i as T,J as ae,a1 as k}from"./Tooltip-C4WAYcWb.js";var le={};Y(le,{CloseButton:()=>L,Content:()=>N,Description:()=>G,Dialog:()=>ce,Overlay:()=>H,Portal:()=>U,Root:()=>Z,Title:()=>j,Trigger:()=>q});var B=K();function d(){const r=Q(B);if(r===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return r}function L(r){const t=d(),[e,a]=g(r,["aria-label","onClick"]);return c(M,f({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:s=>{T(s,e.onClick),t.close()}},a))}function N(r){let t;const e=d(),a=C({id:e.generateId("content")},r),[n,s]=g(a,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let l=!1,p=!1;const I=o=>{var i;(i=n.onPointerDownOutside)==null||i.call(n,o),e.modal()&&o.detail.isContextMenu&&o.preventDefault()},v=o=>{var i;(i=n.onFocusOutside)==null||i.call(n,o),e.modal()&&o.preventDefault()},h=o=>{var i;(i=n.onInteractOutside)==null||i.call(n,o),!e.modal()&&(o.defaultPrevented||(l=!0,o.detail.originalEvent.type==="pointerdown"&&(p=!0)),ae(e.triggerRef(),o.target)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&p&&o.preventDefault())},D=o=>{var i;(i=n.onCloseAutoFocus)==null||i.call(n,o),e.modal()?(o.preventDefault(),k(e.triggerRef())):(o.defaultPrevented||(l||k(e.triggerRef()),o.preventDefault()),l=!1,p=!1)};return ee({isDisabled:()=>!(e.isOpen()&&e.modal()),targets:()=>t?[t]:[]}),te({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),ne({trapFocus:()=>e.isOpen()&&e.modal(),onMountAutoFocus:n.onOpenAutoFocus,onUnmountAutoFocus:D},()=>t),x(()=>y(e.registerContentId(s.id))),c(R,{get when(){return e.contentPresent()},get children(){return c(oe,f({ref(o){var i=b(O=>{e.setContentRef(O),t=O},n.ref);typeof i=="function"&&i(o)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return E(()=>!!e.modal())()&&e.isOpen()},get excludedElements(){return[e.triggerRef]},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onPointerDownOutside:I,onFocusOutside:v,onInteractOutside:h,get onDismiss(){return e.close}},s))}})}function G(r){const t=d(),e=C({id:t.generateId("description")},r),[a,n]=g(e,["id"]);return x(()=>y(t.registerDescriptionId(a.id))),c(w,f({as:"p",get id(){return a.id}},n))}function H(r){const t=d(),[e,a]=g(r,["ref","style","onPointerDown"]),n=s=>{T(s,e.onPointerDown),s.target===s.currentTarget&&s.preventDefault()};return c(R,{get when(){return t.overlayPresent()},get children(){return c(w,f({as:"div",ref(s){var l=b(t.setOverlayRef,e.ref);typeof l=="function"&&l(s)},get style(){return re({"pointer-events":"auto"},e.style)},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:n},a))}})}function U(r){const t=d();return c(R,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return c(X,r)}})}var $={dismiss:"Dismiss"};function Z(r){const t=`dialog-${z()}`,e=C({id:t,modal:!0,translations:$},r),[a,n]=u(),[s,l]=u(),[p,I]=u(),[v,h]=u(),[D,o]=u(),[i,O]=u(),m=se({open:()=>e.open,defaultOpen:()=>e.defaultOpen,onOpenChange:W=>{var _;return(_=e.onOpenChange)==null?void 0:_.call(e,W)}}),F=()=>e.forceMount||m.isOpen(),{present:J}=A({show:F,element:()=>v()??null}),{present:V}=A({show:F,element:()=>D()??null}),S={translations:()=>e.translations??$,isOpen:m.isOpen,modal:()=>e.modal??!0,preventScroll:()=>e.preventScroll??S.modal(),contentId:a,titleId:s,descriptionId:p,triggerRef:i,overlayRef:v,setOverlayRef:h,contentRef:D,setContentRef:o,overlayPresent:J,contentPresent:V,close:m.close,toggle:m.toggle,setTriggerRef:O,generateId:ie(()=>e.id),registerContentId:P(n),registerTitleId:P(l),registerDescriptionId:P(I)};return c(B.Provider,{value:S,get children(){return e.children}})}function j(r){const t=d(),e=C({id:t.generateId("title")},r),[a,n]=g(e,["id"]);return x(()=>y(t.registerTitleId(a.id))),c(w,f({as:"h2",get id(){return a.id}},n))}function q(r){const t=d(),[e,a]=g(r,["ref","onClick"]);return c(M,f({ref(s){var l=b(t.setTriggerRef,e.ref);typeof l=="function"&&l(s)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return E(()=>!!t.isOpen())()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:s=>{T(s,e.onClick),t.toggle()}},a))}var ce=Object.assign(Z,{CloseButton:L,Content:N,Description:G,Overlay:H,Portal:U,Title:j,Trigger:q});export{q as D,j as a,Z as b,U as c,le as d,H as e,G as f,L as g,N as h};
