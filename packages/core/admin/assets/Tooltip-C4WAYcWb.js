var hf=Object.defineProperty;var gf=(t,e,n)=>e in t?hf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>gf(t,typeof e!="symbol"?e+"":e,n);import{t as Y,i as I,T as xe,w as ce,s as le,k as ie,y as ve,aP as mf,Z as fe,a as C,P as be,d as he,a9 as Kc,A as bf,X as de,f as re,b as ee,V as Le,aQ as pf,ad as jc,_ as ut,$ as dt,Q as fs,Y as ci,aR as yf,a0 as Jt,an as Uc,aS as vf,ax as wf,aa as $t,aT as xf,F as ns,aJ as zc,h as dr,M as Ye,r as rs,aN as pl,B as Ef,af as or,aU as Hc,aV as Tf,aG as Af,az as Sf,aW as Cf,aX as on,aY as Vc,ab as hs,ac as gt,R as Lf,aZ as Nf,J as Of,ay as _f}from"./index-CQ3-BSEL.js";const N2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='790'%20height='512.208'%20data-name='Layer%201'%3e%3cpath%20fill='%23e6e6e6'%20d='M720.563%20510.693%20698%20442.603s24.818%2024.817%2024.818%2045.181l-4.454-47.09s12.727%2017.18%2011.454%2043.272-9.255%2026.727-9.255%2026.727ZM236.02%20448.693%20214%20382.24s24.222%2024.222%2024.222%2044.096l-4.348-45.96s12.421%2016.77%2011.18%2042.233-9.033%2026.085-9.033%2026.085Z'/%3e%3cpath%20fill='%23e6e6e6'%20d='M579.726%20479.359c.037%2043.715-86.665%2030.268-192.81%2030.36s-191.535%2013.686-191.573-30.028%2086.633-53.298%20192.777-53.39%20191.568%209.343%20191.606%2053.058Z'/%3e%3cpath%20fill='%233f3d56'%20d='M0%20509.693h790v2H0z'/%3e%3cpath%20fill='%23a0616a'%20d='M505.336%20420.322h-13.877l-6.604-53.525h20.481v53.525z'/%3e%3cpath%20fill='%232f2e41'%20d='M480.006%20416.357h28.304v16.851h-43.613v-1.541a15.31%2015.31%200%200%201%2015.309-15.31Z'/%3e%3cpath%20fill='%23a0616a'%20d='M607.336%20499.322h-13.877l-6.604-53.525h20.481v53.525z'/%3e%3cpath%20fill='%232f2e41'%20d='M582.006%20495.357h28.304v16.851h-43.613v-1.541a15.31%2015.31%200%200%201%2015.309-15.31Z'/%3e%3cpath%20fill='%23a0616a'%20d='M671.345%20340.309a10.316%2010.316%200%200%200-2.896-15.551l-32.23-131.293-20.608%208.867%2038.336%20126.949a10.372%2010.372%200%200%200%2017.398%2011.028ZM646.208%2074.964a11.382%2011.382%200%200%200-17.416%201.152l-49.885%205.727%207.589%2019.242%2045.367-8.491a11.444%2011.444%200%200%200%2014.345-17.63Z'/%3e%3cpath%20fill='%232f2e41'%20d='m564%20326.693%2021.768%20163.374%2027.093-5.578s-3.984-118.981%209.563-133.325S605%20311.694%20605%20311.694Z'/%3e%3cpath%20fill='%232f2e41'%20d='m573%20281.693-10%2015s-77-32-77%2019-4.406%2085.61-6%2088%2018.438%208.594%2028%207c0%200%2011.797-82.219%2011-87%200%200%2075.534%2037.033%2089.877%2033.846S626.61%20343.068%20629%20336.693s-1-57-1-57l-47.81-14.59Z'/%3e%3cpath%20fill='%23ccc'%20d='m574.35%20191.633-2.851-3.42s-31.924-71.829-19.382-91.211%2067.267-22.233%2068.977-21.093-4.084%2015.943-.094%2022.784c0%200-42.394%209.191-45.244%2010.331s21.966%2043.274%2021.966%2043.274l-2.85%2025.653Z'/%3e%3cpath%20fill='%23ccc'%20d='M630.215%20156.289s-29.643%203.42-30.783%203.42-1.71-7.41-1.71-7.41l-26.223%2035.913S558.579%20292.403%20562%20290.693s66.505%208.112%2067.075%203.551-.57-27.363%201.14-28.503%2029.644-71.828%2029.644-71.828-2.85-14.822-12.542-19.952-17.102-17.672-17.102-17.672Z'/%3e%3cpath%20fill='%23ccc'%20d='m650.738%20184.222%209.12%209.69s13.553%20111.36%206.142%20114.781-22%203-22%203L629.645%20258.9Z'/%3e%3ccircle%20cx='601.73'%20cy='122.998'%20r='26.239'%20fill='%23a0616a'/%3e%3cpath%20fill='%232f2e41'%20d='M595.573%20127.092c-.355-5.445-7.223-5.631-12.68-5.683s-11.977.144-15.065-4.355c-2.04-2.973-1.65-7.1.035-10.288s4.458-5.639%207.186-7.997c7.041-6.09%2014.298-12.13%2022.752-16.027s18.36-5.472%2027.128-2.343c10.77%203.843%2025.329%2023.625%2026.586%2034.991s-3.285%2022.953-10.942%2031.446-25.182%205.067-36.21%208.088c6.704-9.49%202.285-26.732-8.456-31.164Z'/%3e%3ccircle%20cx='361.722'%20cy='403.505'%20r='62.989'%20fill='%23C1FE77'/%3e%3cpath%20fill='%23C1FE77'%20d='M319.656%20336.04a45.16%2045.16%200%200%201-41.255-26.787L178.449%2084.162a59.83%2059.83%200%201%201%20111.87-41.865l72.377%20235.412a45.08%2045.08%200%200%201-43.04%2058.33Z'/%3e%3c/svg%3e";var kf=Y('<div><svg aria-hidden=true viewBox="0 0 100 101"fill=none xmlns=http://www.w3.org/2000/svg><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"fill=currentColor></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"fill=currentFill></path></svg><span class=sr-only>');const Gc=t=>(()=>{var e=kf(),n=e.firstChild,r=n.nextSibling;return I(r,()=>xe()("loading"),null),I(r,()=>xe()("ellipsis"),null),ce(()=>le(n,"class",ie("animate-spin text-secondary-base fill-primary-base",{"w-4 h-4":t.size==="sm","w-6 h-6":t.size==="md","w-10 h-10":t.size==="lg"}))),e})();var If=Y("<div>"),Rf=Y("<button>");const O2=t=>{const e=ve(()=>ie("flex items-center justify-center min-w-max text-center focus:outline-none outline-none focus:ring-1 duration-200 transition-colors rounded-md relative disabled:cursor-not-allowed disabled:opacity-80 font-base",{"bg-primary-base hover:bg-primary-hover text-primary-contrast fill-primary-contrast ring-primary-base":t.theme==="primary","bg-secondary-base hover:bg-secondary-hover text-secondary-contrast fill-secondary-contrast ring-primary-base":t.theme==="secondary","bg-input-base border border-border hover:border-transparent hover:bg-secondary-hover fill-input-contrast text-title hover:text-secondary-contrast ring-primary-base":t.theme==="border-outline","bg-error-base hover:bg-error-hover text-error-contrast ring-primary-base fill-error-contrast":t.theme==="danger","bg-transparent border border-border hover:bg-error-hover ring-primary-base fill-error-contrast hover:text-error-contrast":t.theme==="danger-outline","ring-primary-base":t.theme==="secondary-toggle","bg-transparent text-body fill-body hover:bg-secondary-base hover:text-secondary-contrast hover:fill-primary-contrast border-border border":t.theme==="secondary-toggle"&&!t.active,"bg-primary-base text-primary-contrast fill-primary-contrast hover:bg-primary-hover border-primary-base border":t.theme==="secondary-toggle"&&t.active,"px-2 h-9 text-sm":t.size==="small","px-4 py-2 h-10 text-sm":t.size==="medium","w-9 h-9 p-0 min-w-[36px]!":t.size==="icon","opacity-80 cursor-not-allowed":t.permission===!1})),n=r=>{var i;if(t.permission===!1){Kc({title:xe()("no_permission_toast_title"),message:xe()("no_permission_toast_message"),status:"warning"}),r.preventDefault(),r.stopPropagation();return}(i=t.onClick)==null||i.call(t)};return(()=>{var r=Rf();return mf(r,fe(t,{get type(){return t.type},get class(){return ie(e(),t.classes,{"pointer-events-none":t.loading})},onClick:n,get disabled(){return t.disabled||t.loading}}),!1,!0),I(r,C(he,{get when(){return t.loading!==void 0&&t.loading},get children(){var i=If();return I(i,C(Gc,{size:"sm"})),ce(()=>be(i,ie("flex items-center justify-center absolute inset-0 z-10 rounded-md bg-card-base/50"))),i}}),null),I(r,()=>t.children,null),r})()},Mf=t=>{const e=ve(()=>ie("flex items-center justify-center text-center focus:outline-hidden focus:ring-1 duration-200 transition-colors rounded-md relative font-base",{"bg-primary-base hover:bg-primary-hover text-primary-contrast fill-primary-contrast ring-primary-base":t.theme==="primary","bg-secondary-base hover:bg-secondary-hover text-secondary-contrast fill-secondary-contrast ring-primary-base":t.theme==="secondary","bg-input-base border border-border hover:border-transparent hover:bg-secondary-hover fill-input-contrast text-title hover:text-secondary-contrast ring-primary-base":t.theme==="border-outline","bg-error-base hover:bg-error-hover text-error-contrast ring-primary-base fill-error-contrast":t.theme==="danger","bg-transparent border border-border hover:bg-error-hover ring-primary-base fill-error-contrast hover:text-error-contrast":t.theme==="danger-outline","px-2 h-9 text-sm":t.size==="small","px-4 py-2 h-10 text-sm":t.size==="medium","w-9 h-9 p-0 min-w-[36px]!":t.size==="icon","opacity-80 cursor-not-allowed":t.permission===!1}));return C(bf,fe({get class(){return ie(e(),t.classes)},get href(){return t.href||""},get replace(){return t.replace}},t,{onClick:n=>{t.permission===!1&&(Kc({title:xe()("no_permission_toast_title"),message:xe()("no_permission_toast_message"),status:"warning"}),n.preventDefault(),n.stopPropagation())},get children(){return t.children}}))};var Pf=Y('<img class="h-auto mx-auto mb-6 max-w-xs w-full max-h-40 object-contain"alt>'),qf=Y("<div class=mt-6>"),Df=Y('<div class="flex items-center justify-center"><div class="text-center max-w-xl w-full flex flex-col items-center p-6"><h2 class=mb-2></h2><p>');const _2=t=>(()=>{var e=Df(),n=e.firstChild,r=n.firstChild,i=r.nextSibling;return I(n,C(he,{get when(){return t.content.image},get children(){var s=Pf();return ce(()=>le(s,"src",t.content.image)),s}}),r),I(r,()=>t.content.title??xe()("error_title")),I(i,()=>t.content.description??xe()("error_message")),I(n,C(he,{get when(){return t.link!==void 0},get children(){return C(Mf,{theme:"primary",size:"medium",classes:"mt-6",get href(){var s;return((s=t.link)==null?void 0:s.href)||""},get children(){var s;return((s=t.link)==null?void 0:s.text)||""}})}}),null),I(n,C(he,{get when(){return t.children},get children(){var s=qf();return I(s,()=>t.children),s}}),null),ce(()=>{var s,o;return be(i,ie("text-sm",{"max-w-96":((s=t.options)==null?void 0:s.contentMaxWidth)===void 0,"max-w-lg":((o=t.options)==null?void 0:o.contentMaxWidth)==="md"}))}),e})();function $f(t){return(...e)=>{for(const n of t)n&&n(...e)}}const q=t=>typeof t=="function"&&!t.length?t():t,ia=t=>Array.isArray(t)?t:t?[t]:[];function Bf(t,...e){return typeof t=="function"?t(...e):t}const Ff=de;function Kf(t,e,n,r){return t.addEventListener(e,n,r),Ff(t.removeEventListener.bind(t,e,n,r))}function jf(t,e,n,r){const i=()=>{ia(q(t)).forEach(s=>{s&&ia(q(e)).forEach(o=>Kf(s,o,n,r))})};typeof t=="function"?re(i):ce(i)}const Uf=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function sa(t){const e={};let n;for(;n=Uf.exec(t);)e[n[1]]=n[2];return e}function gs(t,e){if(typeof t=="string"){if(typeof e=="string")return`${t};${e}`;t=sa(t)}else typeof e=="string"&&(e=sa(e));return{...t,...e}}function Je(...t){return $f(t)}function zf(t,e,n=-1){return n in t?[...t.slice(0,n),e,...t.slice(n)]:[...t,e]}function $o(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Hf(t){return typeof t=="number"}function Jn(t){return Object.prototype.toString.call(t)==="[object String]"}function Vf(t){return typeof t=="function"}function yl(t){return e=>`${t()}-${e}`}function Gf(){const t=new Map,e=(i,s,o,l)=>{const a=l!=null&&l.once?(...c)=>{t.delete(o),o(...c)}:o;t.set(o,{type:s,eventTarget:i,fn:a,options:l}),i.addEventListener(s,o,l)},n=(i,s,o,l)=>{var c;const a=((c=t.get(o))==null?void 0:c.fn)||o;i.removeEventListener(s,a,l),t.delete(o)},r=()=>{t.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})};return de(()=>{r()}),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function Xe(t,e){return t?t===e||t.contains(e):!1}function Kr(t,e=!1){const{activeElement:n}=Mt(t);if(!(n!=null&&n.nodeName))return null;if(Wc(n)&&n.contentDocument)return Kr(n.contentDocument.body,e);if(e){const r=n.getAttribute("aria-activedescendant");if(r){const i=Mt(n).getElementById(r);if(i)return i}}return n}function Wf(t){return Mt(t).defaultView||window}function Mt(t){return t?t.ownerDocument||t:document}function Wc(t){return t.tagName==="IFRAME"}var Zc=(t=>(t.Escape="Escape",t.Enter="Enter",t.Tab="Tab",t.Space=" ",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t))(Zc||{});function vl(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function ms(){return vl(/^Mac/i)}function Zf(){return vl(/^iPhone/i)}function Yf(){return vl(/^iPad/i)||ms()&&navigator.maxTouchPoints>1}function Xf(){return Zf()||Yf()}function Jf(){return ms()||Xf()}function _e(t,e){return e&&(Vf(e)?e(t):e[0](e[1],t)),t==null?void 0:t.defaultPrevented}function Me(t){return e=>{for(const n of t)_e(e,n)}}function Qf(t){return ms()?t.metaKey&&!t.ctrlKey:t.ctrlKey&&!t.metaKey}function Ue(t){if(t)if(eh())t.focus({preventScroll:!0});else{const e=th(t);t.focus(),nh(e)}}var $i=null;function eh(){if($i==null){$i=!1;try{document.createElement("div").focus({get preventScroll(){return $i=!0,!0}})}catch{}}return $i}function th(t){let e=t.parentNode;const n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function nh(t){for(const{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}var Yc=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],rh=[...Yc,'[tabindex]:not([tabindex="-1"]):not([disabled])'],wl=`${Yc.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,ih=rh.join(':not([hidden]):not([tabindex="-1"]),');function Xc(t,e){const r=Array.from(t.querySelectorAll(wl)).filter(oa);return e&&oa(t)&&r.unshift(t),r.forEach((i,s)=>{if(Wc(i)&&i.contentDocument){const o=i.contentDocument.body,l=Xc(o,!1);r.splice(s,1,...l)}}),r}function oa(t){return Jc(t)&&!sh(t)}function Jc(t){return t.matches(wl)&&xl(t)}function sh(t){return Number.parseInt(t.getAttribute("tabindex")||"0",10)<0}function xl(t,e){return t.nodeName!=="#comment"&&oh(t)&&lh(t,e)&&(!t.parentElement||xl(t.parentElement,t))}function oh(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;const{display:e,visibility:n}=t.style;let r=e!=="none"&&n!=="hidden"&&n!=="collapse";if(r){if(!t.ownerDocument.defaultView)return r;const{getComputedStyle:i}=t.ownerDocument.defaultView,{display:s,visibility:o}=i(t);r=s!=="none"&&o!=="hidden"&&o!=="collapse"}return r}function lh(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function ah(t,e,n){const r=e!=null&&e.tabbable?ih:wl,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var o;return(o=e==null?void 0:e.from)!=null&&o.contains(s)?NodeFilter.FILTER_REJECT:s.matches(r)&&xl(s)&&(!(e!=null&&e.accept)||e.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function la(t){let e=t;for(;e&&!ch(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function ch(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function uh(){}function dh(t){return[t.clientX,t.clientY]}function Qc(t,e){const[n,r]=t;let i=!1;const s=e.length;for(let o=s,l=0,a=o-1;l<o;a=l++){const[c,f]=e[l],[h,d]=e[a],[,g]=e[a===0?o-1:a-1]||[0,0],m=(f-d)*(n-c)-(c-h)*(r-f);if(d<f){if(r>=d&&r<f){if(m===0)return!0;m>0&&(r===d?r>g&&(i=!i):i=!i)}}else if(f<d){if(r>f&&r<=d){if(m===0)return!0;m<0&&(r===d?r<g&&(i=!i):i=!i)}}else if(r===f&&(n>=h&&n<=c||n>=c&&n<=h))return!0}return i}function Oe(t,e){return fe(t,e)}var Dr=new Map,aa=new Set;function ca(){if(typeof window>"u")return;const t=n=>{if(!n.target)return;let r=Dr.get(n.target);r||(r=new Set,Dr.set(n.target,r),n.target.addEventListener("transitioncancel",e)),r.add(n.propertyName)},e=n=>{if(!n.target)return;const r=Dr.get(n.target);if(r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",e),Dr.delete(n.target)),Dr.size===0)){for(const i of aa)i();aa.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?ca():document.addEventListener("DOMContentLoaded",ca));function Bo(t,e){const n=ua(t,e,"left"),r=ua(t,e,"top"),i=e.offsetWidth,s=e.offsetHeight;let o=t.scrollLeft,l=t.scrollTop;const a=o+t.offsetWidth,c=l+t.offsetHeight;n<=o?o=n:n+i>a&&(o+=n+i-a),r<=l?l=r:r+s>c&&(l+=r+s-c),t.scrollLeft=o,t.scrollTop=l}function ua(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[r],e.offsetParent!==t);){if(e.offsetParent.contains(t)){i-=t[r];break}e=e.offsetParent}return i}function fh(t,e){var n,r;if(document.contains(t)){const i=document.scrollingElement||document.documentElement;if(window.getComputedStyle(i).overflow==="hidden"){let o=la(t);for(;t&&o&&t!==i&&o!==i;)Bo(o,t),t=o,o=la(t)}else{const{left:o,top:l}=t.getBoundingClientRect();(n=t==null?void 0:t.scrollIntoView)==null||n.call(t,{block:"nearest"});const{left:a,top:c}=t.getBoundingClientRect();(Math.abs(o-a)>1||Math.abs(l-c)>1)&&((r=t.scrollIntoView)==null||r.call(t,{block:"nearest"}))}}}var hh={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function bs(t,e){const[n,r]=ee(da(e==null?void 0:e()));return re(()=>{var i;r(((i=t())==null?void 0:i.tagName.toLowerCase())||da(e==null?void 0:e()))}),n}function da(t){return Jn(t)?t:void 0}function Ge(t){const[e,n]=Le(t,["as"]);if(!e.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return C(pf,fe(n,{get component(){return e.as}}))}var gh=Object.defineProperty,ui=(t,e)=>{for(var n in e)gh(t,n,{get:e[n],enumerable:!0})},mh={};ui(mh,{Button:()=>yh,Root:()=>El});var bh=["button","color","file","image","reset","submit"];function ph(t){const e=t.tagName.toLowerCase();return e==="button"?!0:e==="input"&&t.type?bh.indexOf(t.type)!==-1:!1}function El(t){let e;const n=Oe({type:"button"},t),[r,i]=Le(n,["ref","type","disabled"]),s=bs(()=>e,()=>"button"),o=ve(()=>{const c=s();return c==null?!1:ph({tagName:c,type:r.type})}),l=ve(()=>s()==="input"),a=ve(()=>s()==="a"&&(e==null?void 0:e.getAttribute("href"))!=null);return C(Ge,fe({as:"button",ref(c){var f=Je(h=>e=h,r.ref);typeof f=="function"&&f(c)},get type(){return o()||l()?r.type:void 0},get role(){return!o()&&!a()?"button":void 0},get tabIndex(){return!o()&&!a()&&!r.disabled?0:void 0},get disabled(){return o()||l()?r.disabled:void 0},get"aria-disabled"(){return!o()&&!l()&&r.disabled?!0:void 0},get"data-disabled"(){return r.disabled?"":void 0}},i))}var yh=El;function ps(t){var o;const[e,n]=ee((o=t.defaultValue)==null?void 0:o.call(t)),r=ve(()=>{var l;return((l=t.value)==null?void 0:l.call(t))!==void 0}),i=ve(()=>{var l;return r()?(l=t.value)==null?void 0:l.call(t):e()});return[i,l=>{jc(()=>{var c;const a=Bf(l,i());return Object.is(a,i())||(r()||n(a),(c=t.onChange)==null||c.call(t,a)),a})}]}function eu(t){const[e,n]=ps(t);return[()=>e()??!1,n]}function vh(t){const[e,n]=ps(t);return[()=>e()??[],n]}function wh(t={}){const[e,n]=eu({value:()=>q(t.isSelected),defaultValue:()=>!!q(t.defaultIsSelected),onChange:s=>{var o;return(o=t.onSelectedChange)==null?void 0:o.call(t,s)}});return{isSelected:e,setIsSelected:s=>{!q(t.isReadOnly)&&!q(t.isDisabled)&&n(s)},toggle:()=>{!q(t.isReadOnly)&&!q(t.isDisabled)&&n(!e())}}}function tu(t){let e=t.startIndex??0;const n=t.startLevel??0,r=[],i=a=>{if(a==null)return"";const c=t.getKey??"key",f=Jn(c)?a[c]:c(a);return f!=null?String(f):""},s=a=>{if(a==null)return"";const c=t.getTextValue??"textValue",f=Jn(c)?a[c]:c(a);return f!=null?String(f):""},o=a=>{if(a==null)return!1;const c=t.getDisabled??"disabled";return(Jn(c)?a[c]:c(a))??!1},l=a=>{var c;if(a!=null)return Jn(t.getSectionChildren)?a[t.getSectionChildren]:(c=t.getSectionChildren)==null?void 0:c.call(t,a)};for(const a of t.dataSource){if(Jn(a)||Hf(a)){r.push({type:"item",rawValue:a,key:String(a),textValue:String(a),disabled:o(a),level:n,index:e}),e++;continue}if(l(a)!=null){r.push({type:"section",rawValue:a,key:"",textValue:"",disabled:!1,level:n,index:e}),e++;const c=l(a)??[];if(c.length>0){const f=tu({dataSource:c,getKey:t.getKey,getTextValue:t.getTextValue,getDisabled:t.getDisabled,getSectionChildren:t.getSectionChildren,startIndex:e,startLevel:n+1});r.push(...f),e+=f.length}}else r.push({type:"item",rawValue:a,key:i(a),textValue:s(a),disabled:o(a),level:n,index:e}),e++}return r}function xh(t,e=[]){return ve(()=>{const n=tu({dataSource:q(t.dataSource),getKey:q(t.getKey),getTextValue:q(t.getTextValue),getDisabled:q(t.getDisabled),getSectionChildren:q(t.getSectionChildren)});for(let r=0;r<e.length;r++)e[r]();return t.factory(n)})}var Eh=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Th=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Ah(t){if(Intl.Locale){const n=new Intl.Locale(t).maximize().script??"";return Eh.has(n)}const e=t.split("-")[0];return Th.has(e)}function Sh(t){return Ah(t)?"rtl":"ltr"}function nu(){let t=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:Sh(t)}}var Fo=nu(),jr=new Set;function fa(){Fo=nu();for(const t of jr)t(Fo)}function Ch(){const[t,e]=ee(Fo),n=ve(()=>t());return fs(()=>{jr.size===0&&window.addEventListener("languagechange",fa),jr.add(e),de(()=>{jr.delete(e),jr.size===0&&window.removeEventListener("languagechange",fa)})}),{locale:()=>n().locale,direction:()=>n().direction}}var Lh=dt();function mn(){const t=Ch();return ut(Lh)||t}var wo=new Map;function Nh(t){const{locale:e}=mn(),n=ve(()=>e()+(t?Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:1).join():""));return ve(()=>{const r=n();let i;return wo.has(r)&&(i=wo.get(r)),i||(i=new Intl.Collator(e(),t),wo.set(r,i)),i})}var Gt=class ru extends Set{constructor(n,r,i){super(n);$(this,"anchorKey");$(this,"currentKey");n instanceof ru?(this.anchorKey=r||n.anchorKey,this.currentKey=i||n.currentKey):(this.anchorKey=r,this.currentKey=i)}};function Oh(t){const[e,n]=ps(t);return[()=>e()??new Gt,n]}function iu(t){return Jf()?t.altKey:t.ctrlKey}function Qn(t){return ms()?t.metaKey:t.ctrlKey}function ha(t){return new Gt(t)}function _h(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function kh(t){const e=Oe({selectionMode:"none",selectionBehavior:"toggle"},t),[n,r]=ee(!1),[i,s]=ee(),o=ve(()=>{const p=q(e.selectedKeys);return p!=null?ha(p):p}),l=ve(()=>{const p=q(e.defaultSelectedKeys);return p!=null?ha(p):new Gt}),[a,c]=Oh({value:o,defaultValue:l,onChange:p=>{var y;return(y=e.onSelectionChange)==null?void 0:y.call(e,p)}}),[f,h]=ee(q(e.selectionBehavior)),d=()=>q(e.selectionMode),g=()=>q(e.disallowEmptySelection)??!1,m=p=>{(q(e.allowDuplicateSelectionEvents)||!_h(p,a()))&&c(p)};return re(()=>{const p=a();q(e.selectionBehavior)==="replace"&&f()==="toggle"&&typeof p=="object"&&p.size===0&&h("replace")}),re(()=>{h(q(e.selectionBehavior)??"toggle")}),{selectionMode:d,disallowEmptySelection:g,selectionBehavior:f,setSelectionBehavior:h,isFocused:n,setFocused:r,focusedKey:i,setFocusedKey:s,selectedKeys:a,setSelectedKeys:m}}function Ih(t){const[e,n]=ee(""),[r,i]=ee(-1);return{typeSelectHandlers:{onKeyDown:o=>{var d;if(q(t.isDisabled))return;const l=q(t.keyboardDelegate),a=q(t.selectionManager);if(!l.getKeyForSearch)return;const c=Rh(o.key);if(!c||o.ctrlKey||o.metaKey)return;c===" "&&e().trim().length>0&&(o.preventDefault(),o.stopPropagation());let f=n(g=>g+c),h=l.getKeyForSearch(f,a.focusedKey())??l.getKeyForSearch(f);h==null&&Mh(f)&&(f=f[0],h=l.getKeyForSearch(f,a.focusedKey())??l.getKeyForSearch(f)),h!=null&&(a.setFocusedKey(h),(d=t.onTypeSelect)==null||d.call(t,h)),clearTimeout(r()),i(window.setTimeout(()=>n(""),500))}}}}function Rh(t){return t.length===1||!/^[A-Z]/i.test(t)?t:""}function Mh(t){return t.split("").every(e=>e===t[0])}function Ph(t,e,n){const i=fe({selectOnFocus:()=>q(t.selectionManager).selectionBehavior()==="replace"},t),s=()=>e(),{direction:o}=mn();let l={top:0,left:0};jf(()=>q(i.isVirtualized)?void 0:s(),"scroll",()=>{const y=s();y&&(l={top:y.scrollTop,left:y.scrollLeft})});const{typeSelectHandlers:a}=Ih({isDisabled:()=>q(i.disallowTypeAhead),keyboardDelegate:()=>q(i.keyboardDelegate),selectionManager:()=>q(i.selectionManager)}),c=()=>q(i.orientation)??"vertical",f=y=>{var V,j,J,w,_,S,M,P;_e(y,a.onKeyDown),y.altKey&&y.key==="Tab"&&y.preventDefault();const v=e();if(!(v!=null&&v.contains(y.target)))return;const x=q(i.selectionManager),T=q(i.selectOnFocus),A=N=>{N!=null&&(x.setFocusedKey(N),y.shiftKey&&x.selectionMode()==="multiple"?x.extendSelection(N):T&&!iu(y)&&x.replaceSelection(N))},L=q(i.keyboardDelegate),K=q(i.shouldFocusWrap),D=x.focusedKey();switch(y.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if(L.getKeyBelow){y.preventDefault();let N;D!=null?N=L.getKeyBelow(D):N=(V=L.getFirstKey)==null?void 0:V.call(L),N==null&&K&&(N=(j=L.getFirstKey)==null?void 0:j.call(L,D)),A(N)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if(L.getKeyAbove){y.preventDefault();let N;D!=null?N=L.getKeyAbove(D):N=(J=L.getLastKey)==null?void 0:J.call(L),N==null&&K&&(N=(w=L.getLastKey)==null?void 0:w.call(L,D)),A(N)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if(L.getKeyLeftOf){y.preventDefault();const N=o()==="rtl";let R;D!=null?R=L.getKeyLeftOf(D):R=N?(_=L.getFirstKey)==null?void 0:_.call(L):(S=L.getLastKey)==null?void 0:S.call(L),A(R)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if(L.getKeyRightOf){y.preventDefault();const N=o()==="rtl";let R;D!=null?R=L.getKeyRightOf(D):R=N?(M=L.getLastKey)==null?void 0:M.call(L):(P=L.getFirstKey)==null?void 0:P.call(L),A(R)}break}case"Home":if(L.getFirstKey){y.preventDefault();const N=L.getFirstKey(D,Qn(y));N!=null&&(x.setFocusedKey(N),Qn(y)&&y.shiftKey&&x.selectionMode()==="multiple"?x.extendSelection(N):T&&x.replaceSelection(N))}break;case"End":if(L.getLastKey){y.preventDefault();const N=L.getLastKey(D,Qn(y));N!=null&&(x.setFocusedKey(N),Qn(y)&&y.shiftKey&&x.selectionMode()==="multiple"?x.extendSelection(N):T&&x.replaceSelection(N))}break;case"PageDown":if(L.getKeyPageBelow&&D!=null){y.preventDefault();const N=L.getKeyPageBelow(D);A(N)}break;case"PageUp":if(L.getKeyPageAbove&&D!=null){y.preventDefault();const N=L.getKeyPageAbove(D);A(N)}break;case"a":Qn(y)&&x.selectionMode()==="multiple"&&q(i.disallowSelectAll)!==!0&&(y.preventDefault(),x.selectAll());break;case"Escape":y.defaultPrevented||(y.preventDefault(),q(i.disallowEmptySelection)||x.clearSelection());break;case"Tab":if(!q(i.allowsTabNavigation)){if(y.shiftKey)v.focus();else{const N=ah(v,{tabbable:!0});let R,B;do B=N.lastChild(),B&&(R=B);while(B);R&&!R.contains(document.activeElement)&&Ue(R)}break}}},h=y=>{var A,L;const v=q(i.selectionManager),x=q(i.keyboardDelegate),T=q(i.selectOnFocus);if(v.isFocused()){y.currentTarget.contains(y.target)||v.setFocused(!1);return}if(y.currentTarget.contains(y.target)){if(v.setFocused(!0),v.focusedKey()==null){const K=V=>{V!=null&&(v.setFocusedKey(V),T&&v.replaceSelection(V))},D=y.relatedTarget;D&&y.currentTarget.compareDocumentPosition(D)&Node.DOCUMENT_POSITION_FOLLOWING?K(v.lastSelectedKey()??((A=x.getLastKey)==null?void 0:A.call(x))):K(v.firstSelectedKey()??((L=x.getFirstKey)==null?void 0:L.call(x)))}else if(!q(i.isVirtualized)){const K=s();if(K){K.scrollTop=l.top,K.scrollLeft=l.left;const D=K.querySelector(`[data-key="${v.focusedKey()}"]`);D&&(Ue(D),Bo(K,D))}}}},d=y=>{const v=q(i.selectionManager);y.currentTarget.contains(y.relatedTarget)||v.setFocused(!1)},g=y=>{s()===y.target&&y.preventDefault()},m=()=>{var K,D;const y=q(i.autoFocus);if(!y)return;const v=q(i.selectionManager),x=q(i.keyboardDelegate);let T;y==="first"&&(T=(K=x.getFirstKey)==null?void 0:K.call(x)),y==="last"&&(T=(D=x.getLastKey)==null?void 0:D.call(x));const A=v.selectedKeys();A.size&&(T=A.values().next().value),v.setFocused(!0),v.setFocusedKey(T);const L=e();L&&T==null&&!q(i.shouldUseVirtualFocus)&&Ue(L)};return fs(()=>{i.deferAutoFocus?setTimeout(m,0):m()}),re(ci([s,()=>q(i.isVirtualized),()=>q(i.selectionManager).focusedKey()],y=>{var A;const[v,x,T]=y;if(x)T&&((A=i.scrollToKey)==null||A.call(i,T));else if(T&&v){const L=v.querySelector(`[data-key="${T}"]`);L&&Bo(v,L)}})),{tabIndex:ve(()=>{if(!q(i.shouldUseVirtualFocus))return q(i.selectionManager).focusedKey()==null?0:-1}),onKeyDown:f,onMouseDown:g,onFocusIn:h,onFocusOut:d}}function su(t,e){const n=()=>q(t.selectionManager),r=()=>q(t.key),i=()=>q(t.shouldUseVirtualFocus),s=x=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(r())&&!n().disallowEmptySelection()?n().toggleSelection(r()):n().replaceSelection(r()):x!=null&&x.shiftKey?n().extendSelection(r()):n().selectionBehavior()==="toggle"||Qn(x)||"pointerType"in x&&x.pointerType==="touch"?n().toggleSelection(r()):n().replaceSelection(r()))},o=()=>n().isSelected(r()),l=()=>q(t.disabled)||n().isDisabled(r()),a=()=>!l()&&n().canSelectItem(r());let c=null;const f=x=>{a()&&(c=x.pointerType,x.pointerType==="mouse"&&x.button===0&&!q(t.shouldSelectOnPressUp)&&s(x))},h=x=>{a()&&x.pointerType==="mouse"&&x.button===0&&q(t.shouldSelectOnPressUp)&&q(t.allowsDifferentPressOrigin)&&s(x)},d=x=>{a()&&(q(t.shouldSelectOnPressUp)&&!q(t.allowsDifferentPressOrigin)||c!=="mouse")&&s(x)},g=x=>{!a()||!["Enter"," "].includes(x.key)||(iu(x)?n().toggleSelection(r()):s(x))},m=x=>{l()&&x.preventDefault()},p=x=>{const T=e();i()||l()||!T||x.target===T&&n().setFocusedKey(r())},y=ve(()=>{if(!(i()||l()))return r()===n().focusedKey()?0:-1}),v=ve(()=>q(t.virtualized)?void 0:r());return re(ci([e,r,i,()=>n().focusedKey(),()=>n().isFocused()],([x,T,A,L,K])=>{x&&T===L&&K&&!A&&document.activeElement!==x&&(t.focus?t.focus():Ue(x))})),{isSelected:o,isDisabled:l,allowsSelection:a,tabIndex:y,dataKey:v,onPointerDown:f,onPointerUp:h,onClick:d,onKeyDown:g,onMouseDown:m,onFocus:p}}var qh=class{constructor(t,e){$(this,"collection");$(this,"state");this.collection=t,this.state=e}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}isFocused(){return this.state.isFocused()}setFocused(t){this.state.setFocused(t)}focusedKey(){return this.state.focusedKey()}setFocusedKey(t){(t==null||this.collection().getItem(t))&&this.state.setFocusedKey(t)}selectedKeys(){return this.state.selectedKeys()}isSelected(t){if(this.state.selectionMode()==="none")return!1;const e=this.getKey(t);return e==null?!1:this.state.selectedKeys().has(e)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const t=this.state.selectedKeys();return this.getAllSelectableKeys().every(e=>t.has(e))}firstSelectedKey(){let t;for(const e of this.state.selectedKeys()){const n=this.collection().getItem(e),r=(n==null?void 0:n.index)!=null&&(t==null?void 0:t.index)!=null&&n.index<t.index;(!t||r)&&(t=n)}return t==null?void 0:t.key}lastSelectedKey(){let t;for(const e of this.state.selectedKeys()){const n=this.collection().getItem(e),r=(n==null?void 0:n.index)!=null&&(t==null?void 0:t.index)!=null&&n.index>t.index;(!t||r)&&(t=n)}return t==null?void 0:t.key}extendSelection(t){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(t);return}const e=this.getKey(t);if(e==null)return;const n=this.state.selectedKeys(),r=n.anchorKey||e,i=new Gt(n,r,e);for(const s of this.getKeyRange(r,n.currentKey||e))i.delete(s);for(const s of this.getKeyRange(e,r))this.canSelectItem(s)&&i.add(s);this.state.setSelectedKeys(i)}getKeyRange(t,e){const n=this.collection().getItem(t),r=this.collection().getItem(e);return n&&r?n.index!=null&&r.index!=null&&n.index<=r.index?this.getKeyRangeInternal(t,e):this.getKeyRangeInternal(e,t):[]}getKeyRangeInternal(t,e){const n=[];let r=t;for(;r!=null;){const i=this.collection().getItem(r);if(i&&i.type==="item"&&n.push(r),r===e)return n;r=this.collection().getKeyAfter(r)}return[]}getKey(t){const e=this.collection().getItem(t);return e?!e||e.type!=="item"?null:e.key:t}toggleSelection(t){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}const e=this.getKey(t);if(e==null)return;const n=new Gt(this.state.selectedKeys());n.has(e)?n.delete(e):this.canSelectItem(e)&&(n.add(e),n.anchorKey=e,n.currentKey=e),!(this.disallowEmptySelection()&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(t){if(this.selectionMode()==="none")return;const e=this.getKey(t);if(e==null)return;const n=this.canSelectItem(e)?new Gt([e],e,e):new Gt;this.state.setSelectedKeys(n)}setSelectedKeys(t){if(this.selectionMode()==="none")return;const e=new Gt;for(const n of t){const r=this.getKey(n);if(r!=null&&(e.add(r),this.selectionMode()==="single"))break}this.state.setSelectedKeys(e)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const t=this.state.selectedKeys();!this.disallowEmptySelection()&&t.size>0&&this.state.setSelectedKeys(new Gt)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(t,e){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(t)&&!this.disallowEmptySelection()?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior()==="toggle"||e&&e.pointerType==="touch"?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys())return!0;const e=this.selectedKeys();if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;for(const n of e)if(!t.has(n))return!1;return!0}canSelectItem(t){if(this.state.selectionMode()==="none")return!1;const e=this.collection().getItem(t);return e!=null&&!e.disabled}isDisabled(t){const e=this.collection().getItem(t);return!e||e.disabled}getAllSelectableKeys(){const t=[];return(n=>{for(;n!=null;){if(this.canSelectItem(n)){const r=this.collection().getItem(n);if(!r)continue;r.type==="item"&&t.push(n)}n=this.collection().getKeyAfter(n)}})(this.collection().getFirstKey()),t}},ga=class{constructor(t){$(this,"keyMap",new Map);$(this,"iterable");$(this,"firstKey");$(this,"lastKey");this.iterable=t;for(const r of t)this.keyMap.set(r.key,r);if(this.keyMap.size===0)return;let e,n=0;for(const[r,i]of this.keyMap)e?(e.nextKey=r,i.prevKey=e.key):(this.firstKey=r,i.prevKey=void 0),i.type==="item"&&(i.index=n++),e=i,e.nextKey=void 0;this.lastKey=e.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){var e;return(e=this.keyMap.get(t))==null?void 0:e.prevKey}getKeyAfter(t){var e;return(e=this.keyMap.get(t))==null?void 0:e.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const e=[...this.getKeys()];return this.getItem(e[t])}};function Dh(t){const e=kh(t),r=xh({dataSource:()=>q(t.dataSource),getKey:()=>q(t.getKey),getTextValue:()=>q(t.getTextValue),getDisabled:()=>q(t.getDisabled),getSectionChildren:()=>q(t.getSectionChildren),factory:s=>t.filter?new ga(t.filter(s)):new ga(s)},[()=>t.filter]),i=new qh(r,e);return yf(()=>{const s=e.focusedKey();s!=null&&!r().getItem(s)&&e.setFocusedKey(void 0)}),{collection:r,selectionManager:()=>i}}var ou=dt();function lu(){return ut(ou)}function $h(){const t=lu();if(t===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return t}function au(t,e){return!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}function Bh(t,e){var i;const n=e.ref();if(!n)return-1;let r=t.length;if(!r)return-1;for(;r--;){const s=(i=t[r])==null?void 0:i.ref();if(s&&au(s,n))return r+1}return 0}function Fh(t){const e=t.map((r,i)=>[i,r]);let n=!1;return e.sort(([r,i],[s,o])=>{const l=i.ref(),a=o.ref();return l===a||!l||!a?0:au(l,a)?(r>s&&(n=!0),-1):(r<s&&(n=!0),1)}),n?e.map(([r,i])=>i):t}function cu(t,e){const n=Fh(t);t!==n&&e(n)}function Kh(t){var i,s;const e=t[0],n=(i=t[t.length-1])==null?void 0:i.ref();let r=(s=e==null?void 0:e.ref())==null?void 0:s.parentElement;for(;r;){if(n&&r.contains(n))return r;r=r.parentElement}return Mt(r).body}function jh(t,e){re(()=>{const n=setTimeout(()=>{cu(t(),e)});de(()=>clearTimeout(n))})}function Uh(t,e){if(typeof IntersectionObserver!="function"){jh(t,e);return}let n=[];re(()=>{const r=()=>{const o=!!n.length;n=t(),o&&cu(t(),e)},i=Kh(t()),s=new IntersectionObserver(r,{root:i});for(const o of t()){const l=o.ref();l&&s.observe(l)}de(()=>s.disconnect())})}function zh(t={}){const[e,n]=vh({value:()=>q(t.items),onChange:s=>{var o;return(o=t.onItemsChange)==null?void 0:o.call(t,s)}});Uh(e,n);const r=s=>(n(o=>{const l=Bh(o,s);return zf(o,s,l)}),()=>{n(o=>{const l=o.filter(a=>a.ref()!==s.ref());return o.length===l.length?o:l})});return{DomCollectionProvider:s=>C(ou.Provider,{value:{registerItem:r},get children(){return s.children}})}}function Hh(t){const e=$h(),n=Oe({shouldRegisterItem:!0},t);re(()=>{if(!n.shouldRegisterItem)return;const r=e.registerItem(n.getItem());de(r)})}const Vh=["top","right","bottom","left"],dn=Math.min,et=Math.max,is=Math.round,Bi=Math.floor,kt=t=>({x:t,y:t}),Gh={left:"right",right:"left",bottom:"top",top:"bottom"},Wh={start:"end",end:"start"};function Ko(t,e,n){return et(t,dn(e,n))}function Rn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function yr(t){return t.split("-")[1]}function uu(t){return t==="x"?"y":"x"}function Tl(t){return t==="y"?"height":"width"}function Nn(t){return["top","bottom"].includes(fn(t))?"y":"x"}function Al(t){return uu(Nn(t))}function Zh(t,e,n){n===void 0&&(n=!1);const r=yr(t),i=Al(t),s=Tl(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ss(o)),[o,ss(o)]}function Yh(t){const e=ss(t);return[jo(t),e,jo(e)]}function jo(t){return t.replace(/start|end/g,e=>Wh[e])}function Xh(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Jh(t,e,n,r){const i=yr(t);let s=Xh(fn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(jo)))),s}function ss(t){return t.replace(/left|right|bottom|top/g,e=>Gh[e])}function Qh(t){return{top:0,right:0,bottom:0,left:0,...t}}function du(t){return typeof t!="number"?Qh(t):{top:t,right:t,bottom:t,left:t}}function os(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ma(t,e,n){let{reference:r,floating:i}=t;const s=Nn(e),o=Al(e),l=Tl(o),a=fn(e),c=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[l]/2-i[l]/2;let g;switch(a){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(yr(e)){case"start":g[o]-=d*(n&&c?-1:1);break;case"end":g[o]+=d*(n&&c?-1:1);break}return g}const eg=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=ma(c,r,a),d=r,g={},m=0;for(let p=0;p<l.length;p++){const{name:y,fn:v}=l[p],{x,y:T,data:A,reset:L}=await v({x:f,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});f=x??f,h=T??h,g={...g,[y]:{...g[y],...A}},L&&m<=50&&(m++,typeof L=="object"&&(L.placement&&(d=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:f,y:h}=ma(c,d,a)),p=-1)}return{x:f,y:h,placement:d,strategy:i,middlewareData:g}};async function Xr(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:d=!1,padding:g=0}=Rn(e,t),m=du(g),y=l[d?h==="floating"?"reference":"floating":h],v=os(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:f,strategy:a})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},L=os(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:T,strategy:a}):x);return{top:(v.top-L.top+m.top)/A.y,bottom:(L.bottom-v.bottom+m.bottom)/A.y,left:(v.left-L.left+m.left)/A.x,right:(L.right-v.right+m.right)/A.x}}const tg=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:a}=e,{element:c,padding:f=0}=Rn(t,e)||{};if(c==null)return{};const h=du(f),d={x:n,y:r},g=Al(i),m=Tl(g),p=await o.getDimensions(c),y=g==="y",v=y?"top":"left",x=y?"bottom":"right",T=y?"clientHeight":"clientWidth",A=s.reference[m]+s.reference[g]-d[g]-s.floating[m],L=d[g]-s.reference[g],K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let D=K?K[T]:0;(!D||!await(o.isElement==null?void 0:o.isElement(K)))&&(D=l.floating[T]||s.floating[m]);const V=A/2-L/2,j=D/2-p[m]/2-1,J=dn(h[v],j),w=dn(h[x],j),_=J,S=D-p[m]-w,M=D/2-p[m]/2+V,P=Ko(_,M,S),N=!a.arrow&&yr(i)!=null&&M!==P&&s.reference[m]/2-(M<_?J:w)-p[m]/2<0,R=N?M<_?M-_:M-S:0;return{[g]:d[g]+R,data:{[g]:P,centerOffset:M-P-R,...N&&{alignmentOffset:R}},reset:N}}}),ng=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...y}=Rn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=fn(i),x=Nn(l),T=fn(l)===l,A=await(a.isRTL==null?void 0:a.isRTL(c.floating)),L=d||(T||!p?[ss(l)]:Yh(l)),K=m!=="none";!d&&K&&L.push(...Jh(l,p,m,A));const D=[l,...L],V=await Xr(e,y),j=[];let J=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&j.push(V[v]),h){const M=Zh(i,o,A);j.push(V[M[0]],V[M[1]])}if(J=[...J,{placement:i,overflows:j}],!j.every(M=>M<=0)){var w,_;const M=(((w=s.flip)==null?void 0:w.index)||0)+1,P=D[M];if(P)return{data:{index:M,overflows:J},reset:{placement:P}};let N=(_=J.filter(R=>R.overflows[0]<=0).sort((R,B)=>R.overflows[1]-B.overflows[1])[0])==null?void 0:_.placement;if(!N)switch(g){case"bestFit":{var S;const R=(S=J.filter(B=>{if(K){const z=Nn(B.placement);return z===x||z==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(z=>z>0).reduce((z,U)=>z+U,0)]).sort((B,z)=>B[1]-z[1])[0])==null?void 0:S[0];R&&(N=R);break}case"initialPlacement":N=l;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function ba(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pa(t){return Vh.some(e=>t[e]>=0)}const rg=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Rn(t,e);switch(r){case"referenceHidden":{const s=await Xr(e,{...i,elementContext:"reference"}),o=ba(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pa(o)}}}case"escaped":{const s=await Xr(e,{...i,altBoundary:!0}),o=ba(s,n.floating);return{data:{escapedOffsets:o,escaped:pa(o)}}}default:return{}}}}};async function ig(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=fn(n),l=yr(n),a=Nn(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&a?-1:1,h=Rn(e,t);let{mainAxis:d,crossAxis:g,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),a?{x:g*f,y:d*c}:{x:d*c,y:g*f}}const sg=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,a=await ig(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},og=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...a}=Rn(t,e),c={x:n,y:r},f=await Xr(e,a),h=Nn(fn(i)),d=uu(h);let g=c[d],m=c[h];if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=g+f[y],T=g-f[v];g=Ko(x,g,T)}if(o){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=m+f[y],T=m-f[v];m=Ko(x,m,T)}const p=l.fn({...e,[d]:g,[h]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:s,[h]:o}}}}}},lg=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:a=()=>{},...c}=Rn(t,e),f=await Xr(e,c),h=fn(i),d=yr(i),g=Nn(i)==="y",{width:m,height:p}=s.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=d===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,y=d==="end"?"top":"bottom");const x=p-f.top-f.bottom,T=m-f.left-f.right,A=dn(p-f[y],x),L=dn(m-f[v],T),K=!e.middlewareData.shift;let D=A,V=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=x),K&&!d){const J=et(f.left,0),w=et(f.right,0),_=et(f.top,0),S=et(f.bottom,0);g?V=m-2*(J!==0||w!==0?J+w:et(f.left,f.right)):D=p-2*(_!==0||S!==0?_+S:et(f.top,f.bottom))}await a({...e,availableWidth:V,availableHeight:D});const j=await o.getDimensions(l.floating);return m!==j.width||p!==j.height?{reset:{rects:!0}}:{}}}};function ys(){return typeof window<"u"}function vr(t){return fu(t)?(t.nodeName||"").toLowerCase():"#document"}function tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bt(t){var e;return(e=(fu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fu(t){return ys()?t instanceof Node||t instanceof tt(t).Node:!1}function wt(t){return ys()?t instanceof Element||t instanceof tt(t).Element:!1}function Pt(t){return ys()?t instanceof HTMLElement||t instanceof tt(t).HTMLElement:!1}function ya(t){return!ys()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tt(t).ShadowRoot}function di(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ag(t){return["table","td","th"].includes(vr(t))}function vs(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Sl(t){const e=Cl(),n=wt(t)?xt(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cg(t){let e=hn(t);for(;Pt(e)&&!fr(e);){if(Sl(e))return e;if(vs(e))return null;e=hn(e)}return null}function Cl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fr(t){return["html","body","#document"].includes(vr(t))}function xt(t){return tt(t).getComputedStyle(t)}function ws(t){return wt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hn(t){if(vr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ya(t)&&t.host||Bt(t);return ya(e)?e.host:e}function hu(t){const e=hn(t);return fr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pt(e)&&di(e)?e:hu(e)}function Jr(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hu(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=tt(i);if(s){const l=Uo(o);return e.concat(o,o.visualViewport||[],di(i)?i:[],l&&n?Jr(l):[])}return e.concat(i,Jr(i,[],n))}function Uo(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gu(t){const e=xt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Pt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=is(n)!==s||is(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Ll(t){return wt(t)?t:t.contextElement}function lr(t){const e=Ll(t);if(!Pt(e))return kt(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=gu(e);let o=(s?is(n.width):n.width)/r,l=(s?is(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ug=kt(0);function mu(t){const e=tt(t);return!Cl()||!e.visualViewport?ug:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dg(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tt(t)?!1:e}function On(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ll(t);let o=kt(1);e&&(r?wt(r)&&(o=lr(r)):o=lr(t));const l=dg(s,n,r)?mu(s):kt(0);let a=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const d=tt(s),g=r&&wt(r)?tt(r):r;let m=d,p=Uo(m);for(;p&&r&&g!==m;){const y=lr(p),v=p.getBoundingClientRect(),x=xt(p),T=v.left+(p.clientLeft+parseFloat(x.paddingLeft))*y.x,A=v.top+(p.clientTop+parseFloat(x.paddingTop))*y.y;a*=y.x,c*=y.y,f*=y.x,h*=y.y,a+=T,c+=A,m=tt(p),p=Uo(m)}}return os({width:f,height:h,x:a,y:c})}function Nl(t,e){const n=ws(t).scrollLeft;return e?e.left+n:On(Bt(t)).left+n}function bu(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Nl(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function fg(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Bt(r),l=e?vs(e.floating):!1;if(r===o||l&&s)return n;let a={scrollLeft:0,scrollTop:0},c=kt(1);const f=kt(0),h=Pt(r);if((h||!h&&!s)&&((vr(r)!=="body"||di(o))&&(a=ws(r)),Pt(r))){const g=On(r);c=lr(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const d=o&&!h&&!s?bu(o,a,!0):kt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+f.x+d.x,y:n.y*c.y-a.scrollTop*c.y+f.y+d.y}}function hg(t){return Array.from(t.getClientRects())}function gg(t){const e=Bt(t),n=ws(t),r=t.ownerDocument.body,i=et(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=et(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Nl(t);const l=-n.scrollTop;return xt(r).direction==="rtl"&&(o+=et(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function mg(t,e){const n=tt(t),r=Bt(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,a=0;if(i){s=i.width,o=i.height;const c=Cl();(!c||c&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:l,y:a}}function bg(t,e){const n=On(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Pt(t)?lr(t):kt(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,a=i*s.x,c=r*s.y;return{width:o,height:l,x:a,y:c}}function va(t,e,n){let r;if(e==="viewport")r=mg(t,n);else if(e==="document")r=gg(Bt(t));else if(wt(e))r=bg(e,n);else{const i=mu(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return os(r)}function pu(t,e){const n=hn(t);return n===e||!wt(n)||fr(n)?!1:xt(n).position==="fixed"||pu(n,e)}function pg(t,e){const n=e.get(t);if(n)return n;let r=Jr(t,[],!1).filter(l=>wt(l)&&vr(l)!=="body"),i=null;const s=xt(t).position==="fixed";let o=s?hn(t):t;for(;wt(o)&&!fr(o);){const l=xt(o),a=Sl(o);!a&&l.position==="fixed"&&(i=null),(s?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||di(o)&&!a&&pu(t,o))?r=r.filter(f=>f!==o):i=l,o=hn(o)}return e.set(t,r),r}function yg(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?vs(e)?[]:pg(e,this._c):[].concat(n),r],l=o[0],a=o.reduce((c,f)=>{const h=va(e,f,i);return c.top=et(h.top,c.top),c.right=dn(h.right,c.right),c.bottom=dn(h.bottom,c.bottom),c.left=et(h.left,c.left),c},va(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function vg(t){const{width:e,height:n}=gu(t);return{width:e,height:n}}function wg(t,e,n){const r=Pt(e),i=Bt(e),s=n==="fixed",o=On(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=kt(0);if(r||!r&&!s)if((vr(e)!=="body"||di(i))&&(l=ws(e)),r){const d=On(e,!0,s,e);a.x=d.x+e.clientLeft,a.y=d.y+e.clientTop}else i&&(a.x=Nl(i));const c=i&&!r&&!s?bu(i,l):kt(0),f=o.left+l.scrollLeft-a.x-c.x,h=o.top+l.scrollTop-a.y-c.y;return{x:f,y:h,width:o.width,height:o.height}}function xo(t){return xt(t).position==="static"}function wa(t,e){if(!Pt(t)||xt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bt(t)===n&&(n=n.ownerDocument.body),n}function yu(t,e){const n=tt(t);if(vs(t))return n;if(!Pt(t)){let i=hn(t);for(;i&&!fr(i);){if(wt(i)&&!xo(i))return i;i=hn(i)}return n}let r=wa(t,e);for(;r&&ag(r)&&xo(r);)r=wa(r,e);return r&&fr(r)&&xo(r)&&!Sl(r)?n:r||cg(t)||n}const xg=async function(t){const e=this.getOffsetParent||yu,n=this.getDimensions,r=await n(t.floating);return{reference:wg(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Eg(t){return xt(t).direction==="rtl"}const vu={convertOffsetParentRelativeRectToViewportRelativeRect:fg,getDocumentElement:Bt,getClippingRect:yg,getOffsetParent:yu,getElementRects:xg,getClientRects:hg,getDimensions:vg,getScale:lr,isElement:wt,isRTL:Eg};function wu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Tg(t,e){let n=null,r;const i=Bt(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=t.getBoundingClientRect(),{left:f,top:h,width:d,height:g}=c;if(l||e(),!d||!g)return;const m=Bi(h),p=Bi(i.clientWidth-(f+d)),y=Bi(i.clientHeight-(h+g)),v=Bi(f),T={rootMargin:-m+"px "+-p+"px "+-y+"px "+-v+"px",threshold:et(0,dn(1,a))||1};let A=!0;function L(K){const D=K[0].intersectionRatio;if(D!==a){if(!A)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!wu(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(L,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,T)}n.observe(t)}return o(!0),s}function Ag(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=Ll(t),f=i||s?[...c?Jr(c):[],...Jr(e)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=c&&l?Tg(c,n):null;let d=-1,g=null;o&&(g=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!a&&g.observe(c),g.observe(e));let m,p=a?On(t):null;a&&y();function y(){const v=On(t);p&&!wu(p,v)&&n(),p=v,m=requestAnimationFrame(y)}return n(),()=>{var v;f.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,a&&cancelAnimationFrame(m)}}const Sg=sg,Cg=og,Lg=ng,Ng=lg,Og=rg,_g=tg,kg=(t,e,n)=>{const r=new Map,i={platform:vu,...n},s={...i.platform,_c:r};return eg(t,e,{...i,platform:s})};var Ig=Y('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),Ol=dt();function _l(){const t=ut(Ol);if(t===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return t}var zo=30,xa=zo/2,Rg={top:180,right:-90,bottom:0,left:90};function fi(t){const e=_l(),n=Oe({size:zo},t),[r,i]=Le(n,["ref","style","size"]),s=()=>e.currentPlacement().split("-")[0],o=Mg(e.contentRef),l=()=>{var d;return((d=o())==null?void 0:d.getPropertyValue("background-color"))||"none"},a=()=>{var d;return((d=o())==null?void 0:d.getPropertyValue(`border-${s()}-color`))||"none"},c=()=>{var d;return((d=o())==null?void 0:d.getPropertyValue(`border-${s()}-width`))||"0px"},f=()=>Number.parseInt(c())*2*(zo/r.size),h=()=>`rotate(${Rg[s()]} ${xa} ${xa}) translate(0 2)`;return C(Ge,fe({as:"div",ref(d){var g=Je(e.setArrowRef,r.ref);typeof g=="function"&&g(d)},"aria-hidden":"true",get style(){return gs({position:"absolute","font-size":`${r.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:l(),stroke:a(),"stroke-width":f()},r.style)}},i,{get children(){var d=Ig(),g=d.firstChild,m=g.firstChild;return m.nextSibling,ce(()=>le(g,"transform",h())),d}}))}function Mg(t){const[e,n]=ee();return re(()=>{const r=t();r&&n(Wf(r).getComputedStyle(r))}),e}function Pg(t){const e=_l(),[n,r]=Le(t,["ref","style"]);return C(Ge,fe({as:"div",ref(i){var s=Je(e.setPositionerRef,n.ref);typeof s=="function"&&s(i)},"data-popper-positioner":"",get style(){return gs({position:"absolute",top:0,left:0,"min-width":"max-content"},n.style)}},r))}function Ea(t){const{x:e=0,y:n=0,width:r=0,height:i=0}=t??{};if(typeof DOMRect=="function")return new DOMRect(e,n,r,i);const s={x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:n+i,left:e};return{...s,toJSON:()=>s}}function qg(t,e){return{contextElement:t,getBoundingClientRect:()=>{const r=e(t);return r?Ea(r):t?t.getBoundingClientRect():Ea()}}}function Dg(t){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(t)}var $g={top:"bottom",right:"left",bottom:"top",left:"right"};function Bg(t,e){const[n,r]=t.split("-"),i=$g[n];return r?n==="left"||n==="right"?`${i} ${r==="start"?"top":"bottom"}`:r==="start"?`${i} ${e==="rtl"?"right":"left"}`:`${i} ${e==="rtl"?"left":"right"}`:`${i} center`}function Fg(t){const e=Oe({getAnchorRect:d=>d==null?void 0:d.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},t),[n,r]=ee(),[i,s]=ee(),[o,l]=ee(e.placement),a=()=>{var d;return qg((d=e.anchorRef)==null?void 0:d.call(e),e.getAnchorRect)},{direction:c}=mn();async function f(){var K,D;const d=a(),g=n(),m=i();if(!d||!g)return;const p=((m==null?void 0:m.clientHeight)||0)/2,y=typeof e.gutter=="number"?e.gutter+p:e.gutter??p;g.style.setProperty("--kb-popper-content-overflow-padding",`${e.overflowPadding}px`),d.getBoundingClientRect();const v=[Sg(({placement:V})=>{const j=!!V.split("-")[1];return{mainAxis:y,crossAxis:j?void 0:e.shift,alignmentAxis:e.shift}})];if(e.flip!==!1){const V=typeof e.flip=="string"?e.flip.split(" "):void 0;if(V!==void 0&&!V.every(Dg))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(Lg({padding:e.overflowPadding,fallbackPlacements:V}))}(e.slide||e.overlap)&&v.push(Cg({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding})),v.push(Ng({padding:e.overflowPadding,apply({availableWidth:V,availableHeight:j,rects:J}){const w=Math.round(J.reference.width);V=Math.floor(V),j=Math.floor(j),g.style.setProperty("--kb-popper-anchor-width",`${w}px`),g.style.setProperty("--kb-popper-content-available-width",`${V}px`),g.style.setProperty("--kb-popper-content-available-height",`${j}px`),e.sameWidth&&(g.style.width=`${w}px`),e.fitViewport&&(g.style.maxWidth=`${V}px`,g.style.maxHeight=`${j}px`)}})),e.hideWhenDetached&&v.push(Og({padding:e.detachedPadding})),m&&v.push(_g({element:m,padding:e.arrowPadding}));const x=await kg(d,g,{placement:e.placement,strategy:"absolute",middleware:v,platform:{...vu,isRTL:()=>c()==="rtl"}});if(l(x.placement),(K=e.onCurrentPlacementChange)==null||K.call(e,x.placement),!g)return;g.style.setProperty("--kb-popper-content-transform-origin",Bg(x.placement,c()));const T=Math.round(x.x),A=Math.round(x.y);let L;if(e.hideWhenDetached&&(L=(D=x.middlewareData.hide)!=null&&D.referenceHidden?"hidden":"visible"),Object.assign(g.style,{top:"0",left:"0",transform:`translate3d(${T}px, ${A}px, 0)`,visibility:L}),m&&x.middlewareData.arrow){const{x:V,y:j}=x.middlewareData.arrow,J=x.placement.split("-")[0];Object.assign(m.style,{left:V!=null?`${V}px`:"",top:j!=null?`${j}px`:"",[J]:"100%"})}}re(()=>{const d=a(),g=n();if(!d||!g)return;const m=Ag(d,g,f,{elementResize:typeof ResizeObserver=="function"});de(m)}),re(()=>{var m;const d=n(),g=(m=e.contentRef)==null?void 0:m.call(e);!d||!g||queueMicrotask(()=>{d.style.zIndex=getComputedStyle(g).zIndex})});const h={currentPlacement:o,contentRef:()=>{var d;return(d=e.contentRef)==null?void 0:d.call(e)},setPositionerRef:r,setArrowRef:s};return C(Ol.Provider,{value:h,get children(){return e.children}})}var xs=Object.assign(Fg,{Arrow:fi,Context:Ol,usePopperContext:_l,Positioner:Pg}),ls="data-kb-top-layer",xu,Ho=!1,Wt=[];function Qr(t){return Wt.findIndex(e=>e.node===t)}function Kg(t){return Wt[Qr(t)]}function jg(t){return Wt[Wt.length-1].node===t}function Eu(){return Wt.filter(t=>t.isPointerBlocking)}function Ug(){return[...Eu()].slice(-1)[0]}function kl(){return Eu().length>0}function Tu(t){var n;const e=Qr((n=Ug())==null?void 0:n.node);return Qr(t)<e}function zg(t){Wt.push(t)}function Hg(t){const e=Qr(t);e<0||Wt.splice(e,1)}function Vg(){for(const{node:t}of Wt)t.style.pointerEvents=Tu(t)?"none":"auto"}function Gg(t){if(kl()&&!Ho){const e=Mt(t);xu=document.body.style.pointerEvents,e.body.style.pointerEvents="none",Ho=!0}}function Wg(t){if(kl())return;const e=Mt(t);e.body.style.pointerEvents=xu,e.body.style.length===0&&e.body.removeAttribute("style"),Ho=!1}var Qe={layers:Wt,isTopMostLayer:jg,hasPointerBlockingLayer:kl,isBelowPointerBlockingLayer:Tu,addLayer:zg,removeLayer:Hg,indexOf:Qr,find:Kg,assignPointerEventToLayers:Vg,disableBodyPointerEvents:Gg,restoreBodyPointerEvents:Wg},Ta="interactOutside.pointerDownOutside",Aa="interactOutside.focusOutside";function Zg(t,e){let n,r=uh;const i=()=>Mt(e()),s=h=>{var d;return(d=t.onPointerDownOutside)==null?void 0:d.call(t,h)},o=h=>{var d;return(d=t.onFocusOutside)==null?void 0:d.call(t,h)},l=h=>{var d;return(d=t.onInteractOutside)==null?void 0:d.call(t,h)},a=h=>{var g;const d=h.target;return!(d instanceof HTMLElement)||d.closest(`[${ls}]`)||!Xe(i(),d)||Xe(e(),d)?!1:!((g=t.shouldExcludeElement)!=null&&g.call(t,d))},c=h=>{function d(){const g=e(),m=h.target;if(!g||!m||!a(h))return;const p=Me([s,l]);m.addEventListener(Ta,p,{once:!0});const y=new CustomEvent(Ta,{bubbles:!1,cancelable:!0,detail:{originalEvent:h,isContextMenu:h.button===2||Qf(h)&&h.button===0}});m.dispatchEvent(y)}h.pointerType==="touch"?(i().removeEventListener("click",d),r=d,i().addEventListener("click",d,{once:!0})):d()},f=h=>{const d=e(),g=h.target;if(!d||!g||!a(h))return;const m=Me([o,l]);g.addEventListener(Aa,m,{once:!0});const p=new CustomEvent(Aa,{bubbles:!1,cancelable:!0,detail:{originalEvent:h,isContextMenu:!1}});g.dispatchEvent(p)};re(()=>{q(t.isDisabled)||(n=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",f,!0),de(()=>{window.clearTimeout(n),i().removeEventListener("click",r),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",f,!0)}))})}function Yg(t){const e=n=>{var r;n.key===Zc.Escape&&((r=t.onEscapeKeyDown)==null||r.call(t,n))};re(()=>{var r;if(q(t.isDisabled))return;const n=((r=t.ownerDocument)==null?void 0:r.call(t))??Mt();n.addEventListener("keydown",e),de(()=>{n.removeEventListener("keydown",e)})})}var Au=dt();function Xg(){return ut(Au)}function Su(t){let e;const n=Xg(),[r,i]=Le(t,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),s=new Set([]),o=h=>{s.add(h);const d=n==null?void 0:n.registerNestedLayer(h);return()=>{s.delete(h),d==null||d()}};Zg({shouldExcludeElement:h=>{var d;return e?((d=r.excludedElements)==null?void 0:d.some(g=>Xe(g(),h)))||[...s].some(g=>Xe(g,h)):!1},onPointerDownOutside:h=>{var d,g,m;!e||Qe.isBelowPointerBlockingLayer(e)||!r.bypassTopMostLayerCheck&&!Qe.isTopMostLayer(e)||((d=r.onPointerDownOutside)==null||d.call(r,h),(g=r.onInteractOutside)==null||g.call(r,h),h.defaultPrevented||(m=r.onDismiss)==null||m.call(r))},onFocusOutside:h=>{var d,g,m;(d=r.onFocusOutside)==null||d.call(r,h),(g=r.onInteractOutside)==null||g.call(r,h),h.defaultPrevented||(m=r.onDismiss)==null||m.call(r)}},()=>e),Yg({ownerDocument:()=>Mt(e),onEscapeKeyDown:h=>{var d;!e||!Qe.isTopMostLayer(e)||((d=r.onEscapeKeyDown)==null||d.call(r,h),!h.defaultPrevented&&r.onDismiss&&(h.preventDefault(),r.onDismiss()))}}),fs(()=>{if(!e)return;Qe.addLayer({node:e,isPointerBlocking:r.disableOutsidePointerEvents,dismiss:r.onDismiss});const h=n==null?void 0:n.registerNestedLayer(e);Qe.assignPointerEventToLayers(),Qe.disableBodyPointerEvents(e),de(()=>{e&&(Qe.removeLayer(e),h==null||h(),Qe.assignPointerEventToLayers(),Qe.restoreBodyPointerEvents(e))})}),re(ci([()=>e,()=>r.disableOutsidePointerEvents],([h,d])=>{if(!h)return;const g=Qe.find(h);g&&g.isPointerBlocking!==d&&(g.isPointerBlocking=d,Qe.assignPointerEventToLayers()),d&&Qe.disableBodyPointerEvents(h),de(()=>{Qe.restoreBodyPointerEvents(h)})},{defer:!0}));const f={registerNestedLayer:o};return C(Au.Provider,{value:f,get children(){return C(Ge,fe({as:"div",ref(h){var d=Je(g=>e=g,r.ref);typeof d=="function"&&d(h)}},i))}})}function Il(t={}){const[e,n]=eu({value:()=>q(t.open),defaultValue:()=>!!q(t.defaultOpen),onChange:o=>{var l;return(l=t.onOpenChange)==null?void 0:l.call(t,o)}}),r=()=>{n(!0)},i=()=>{n(!1)};return{isOpen:e,setIsOpen:n,open:r,close:i,toggle:()=>{e()?i():r()}}}function ei(t){return e=>(t(e),()=>t(void 0))}var je=t=>typeof t=="function"?t():t,Jg=t=>{const e=ve(()=>{const o=je(t.element);if(o)return getComputedStyle(o)}),n=()=>{var o;return((o=e())==null?void 0:o.animationName)??"none"},[r,i]=ee(je(t.show)?"present":"hidden");let s="none";return re(o=>{const l=je(t.show);return jc(()=>{var f;if(o===l)return l;const a=s,c=n();l?i("present"):c==="none"||((f=e())==null?void 0:f.display)==="none"?i("hidden"):i(o===!0&&a!==c?"hiding":"hidden")}),l}),re(()=>{const o=je(t.element);if(!o)return;const l=c=>{c.target===o&&(s=n())},a=c=>{const h=n().includes(c.animationName);c.target===o&&h&&r()==="hiding"&&i("hidden")};o.addEventListener("animationstart",l),o.addEventListener("animationcancel",a),o.addEventListener("animationend",a),de(()=>{o.removeEventListener("animationstart",l),o.removeEventListener("animationcancel",a),o.removeEventListener("animationend",a)})}),{present:()=>r()==="present"||r()==="hiding",state:r,setState:i}},Qg=Jg,Cu=Qg,em="data-live-announcer";function tm(t){re(()=>{q(t.isDisabled)||de(nm(q(t.targets),q(t.root)))})}var $r=new WeakMap,it=[];function nm(t,e=document.body){const n=new Set(t),r=new Set,i=a=>{for(const d of a.querySelectorAll(`[${em}], [${ls}]`))n.add(d);const c=d=>{if(n.has(d)||d.parentElement&&r.has(d.parentElement)&&d.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const g of n)if(d.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},f=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),h=c(a);if(h===NodeFilter.FILTER_ACCEPT&&s(a),h!==NodeFilter.FILTER_REJECT){let d=f.nextNode();for(;d!=null;)s(d),d=f.nextNode()}},s=a=>{const c=$r.get(a)??0;a.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&a.setAttribute("aria-hidden","true"),r.add(a),$r.set(a,c+1))};it.length&&it[it.length-1].disconnect(),i(e);const o=new MutationObserver(a=>{for(const c of a)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...r].some(f=>f.contains(c.target))){for(const f of c.removedNodes)f instanceof Element&&(n.delete(f),r.delete(f));for(const f of c.addedNodes)(f instanceof HTMLElement||f instanceof SVGElement)&&(f.dataset.liveAnnouncer==="true"||f.dataset.reactAriaTopLayer==="true")?n.add(f):f instanceof Element&&i(f)}});o.observe(e,{childList:!0,subtree:!0});const l={observe(){o.observe(e,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return it.push(l),()=>{o.disconnect();for(const a of r){const c=$r.get(a);if(c==null)return;c===1?(a.removeAttribute("aria-hidden"),$r.delete(a)):$r.set(a,c-1)}l===it[it.length-1]?(it.pop(),it.length&&it[it.length-1].observe()):it.splice(it.indexOf(l),1)}}var Eo="focusScope.autoFocusOnMount",To="focusScope.autoFocusOnUnmount",Sa={bubbles:!1,cancelable:!0},Ca={stack:[],active(){return this.stack[0]},add(t){var e;t!==this.active()&&((e=this.active())==null||e.pause()),this.stack=$o(this.stack,t),this.stack.unshift(t)},remove(t){var e;this.stack=$o(this.stack,t),(e=this.active())==null||e.resume()}};function rm(t,e){const[n,r]=ee(!1),i={pause(){r(!0)},resume(){r(!1)}};let s=null;const o=m=>{var p;return(p=t.onMountAutoFocus)==null?void 0:p.call(t,m)},l=m=>{var p;return(p=t.onUnmountAutoFocus)==null?void 0:p.call(t,m)},a=()=>Mt(e()),c=()=>{const m=a().createElement("span");return m.setAttribute("data-focus-trap",""),m.tabIndex=0,Object.assign(m.style,hh),m},f=()=>{const m=e();return m?Xc(m,!0).filter(p=>!p.hasAttribute("data-focus-trap")):[]},h=()=>{const m=f();return m.length>0?m[0]:null},d=()=>{const m=f();return m.length>0?m[m.length-1]:null},g=()=>{const m=e();if(!m)return!1;const p=Kr(m);return!p||Xe(m,p)?!1:Jc(p)};re(()=>{const m=e();if(!m)return;Ca.add(i);const p=Kr(m);if(!Xe(m,p)){const v=new CustomEvent(Eo,Sa);m.addEventListener(Eo,o),m.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{Ue(h()),Kr(m)===p&&Ue(m)},0)}de(()=>{m.removeEventListener(Eo,o),setTimeout(()=>{const v=new CustomEvent(To,Sa);g()&&v.preventDefault(),m.addEventListener(To,l),m.dispatchEvent(v),v.defaultPrevented||Ue(p??a().body),m.removeEventListener(To,l),Ca.remove(i)},0)})}),re(()=>{const m=e();if(!m||!q(t.trapFocus)||n())return;const p=v=>{const x=v.target;x!=null&&x.closest(`[${ls}]`)||(Xe(m,x)?s=x:Ue(s))},y=v=>{const T=v.relatedTarget??Kr(m);T!=null&&T.closest(`[${ls}]`)||Xe(m,T)||Ue(s)};a().addEventListener("focusin",p),a().addEventListener("focusout",y),de(()=>{a().removeEventListener("focusin",p),a().removeEventListener("focusout",y)})}),re(()=>{const m=e();if(!m||!q(t.trapFocus)||n())return;const p=c();m.insertAdjacentElement("afterbegin",p);const y=c();m.insertAdjacentElement("beforeend",y);function v(T){const A=h(),L=d();T.relatedTarget===A?Ue(L):Ue(A)}p.addEventListener("focusin",v),y.addEventListener("focusin",v);const x=new MutationObserver(T=>{for(const A of T)A.previousSibling===y&&(y.remove(),m.insertAdjacentElement("beforeend",y)),A.nextSibling===p&&(p.remove(),m.insertAdjacentElement("afterbegin",p))});x.observe(m,{childList:!0,subtree:!1}),de(()=>{p.removeEventListener("focusin",v),y.removeEventListener("focusin",v),p.remove(),y.remove(),x.disconnect()})})}var Vo=(t,e)=>{if(t.contains(e))return!0;let n=e;for(;n;){if(n===t)return!0;n=n._$host??n.parentElement}return!1},Fi=new Map,im=t=>{re(()=>{const e=je(t.style)??{},n=je(t.properties)??[],r={};for(const s in e)r[s]=t.element.style[s];const i=Fi.get(t.key);i?i.activeCount++:Fi.set(t.key,{activeCount:1,originalStyles:r,properties:n.map(s=>s.key)}),Object.assign(t.element.style,t.style);for(const s of n)t.element.style.setProperty(s.key,s.value);de(()=>{var o;const s=Fi.get(t.key);if(s){if(s.activeCount!==1){s.activeCount--;return}Fi.delete(t.key);for(const[l,a]of Object.entries(s.originalStyles))t.element.style[l]=a;for(const l of s.properties)t.element.style.removeProperty(l);t.element.style.length===0&&t.element.removeAttribute("style"),(o=t.cleanup)==null||o.call(t)}})})},La=im,sm=(t,e)=>{switch(e){case"x":return[t.clientWidth,t.scrollLeft,t.scrollWidth];case"y":return[t.clientHeight,t.scrollTop,t.scrollHeight]}},om=(t,e)=>{const n=getComputedStyle(t),r=e==="x"?n.overflowX:n.overflowY;return r==="auto"||r==="scroll"||t.tagName==="HTML"&&r==="visible"},lm=(t,e,n)=>{const r=e==="x"&&window.getComputedStyle(t).direction==="rtl"?-1:1;let i=t,s=0,o=0,l=!1;do{const[a,c,f]=sm(i,e),h=f-a-r*c;(c!==0||h!==0)&&om(i,e)&&(s+=h,o+=c),i===(n??document.documentElement)?l=!0:i=i._$host??i.parentElement}while(i&&!l);return[s,o]},[Na,Oa]=ee([]),am=t=>Na().indexOf(t)===Na().length-1,cm=t=>{const e=fe({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},t),n=Jt();let r=[0,0],i=null,s=null;re(()=>{je(e.enabled)&&(Oa(c=>[...c,n]),de(()=>{Oa(c=>c.filter(f=>f!==n))}))}),re(()=>{if(!je(e.enabled)||!je(e.hideScrollbar))return;const{body:c}=document,f=window.innerWidth-c.offsetWidth;if(je(e.preventScrollbarShift)){const h={overflow:"hidden"},d=[];f>0&&(je(e.preventScrollbarShiftMode)==="padding"?h.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${f}px)`:h.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${f}px)`,d.push({key:"--scrollbar-width",value:`${f}px`}));const g=window.scrollY,m=window.scrollX;La({key:"prevent-scroll",element:c,style:h,properties:d,cleanup:()=>{je(e.restoreScrollPosition)&&f>0&&window.scrollTo(m,g)}})}else La({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),re(()=>{!am(n)||!je(e.enabled)||(document.addEventListener("wheel",l,{passive:!1}),document.addEventListener("touchstart",o,{passive:!1}),document.addEventListener("touchmove",a,{passive:!1}),de(()=>{document.removeEventListener("wheel",l),document.removeEventListener("touchstart",o),document.removeEventListener("touchmove",a)}))});const o=c=>{r=_a(c),i=null,s=null},l=c=>{const f=c.target,h=je(e.element),d=um(c),g=Math.abs(d[0])>Math.abs(d[1])?"x":"y",m=g==="x"?d[0]:d[1],p=ka(f,g,m,h);let y;h&&Vo(h,f)?y=!p:y=!0,y&&c.cancelable&&c.preventDefault()},a=c=>{const f=je(e.element),h=c.target;let d;if(c.touches.length===2)d=!je(e.allowPinchZoom);else{if(i==null||s===null){const g=_a(c).map((p,y)=>r[y]-p),m=Math.abs(g[0])>Math.abs(g[1])?"x":"y";i=m,s=m==="x"?g[0]:g[1]}if(h.type==="range")d=!1;else{const g=ka(h,i,s,f);f&&Vo(f,h)?d=!g:d=!0}}d&&c.cancelable&&c.preventDefault()}},um=t=>[t.deltaX,t.deltaY],_a=t=>t.changedTouches[0]?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0],ka=(t,e,n,r)=>{const i=r!==null&&Vo(r,t),[s,o]=lm(t,e,i?r:void 0);return!(n>0&&Math.abs(s)<=1||n<0&&Math.abs(o)<1)},dm=cm,fm=dm,hm=class{constructor(t,e,n){$(this,"collection");$(this,"ref");$(this,"collator");this.collection=t,this.ref=e,this.collator=n}getKeyBelow(t){let e=this.collection().getKeyAfter(t);for(;e!=null;){const n=this.collection().getItem(e);if(n&&n.type==="item"&&!n.disabled)return e;e=this.collection().getKeyAfter(e)}}getKeyAbove(t){let e=this.collection().getKeyBefore(t);for(;e!=null;){const n=this.collection().getItem(e);if(n&&n.type==="item"&&!n.disabled)return e;e=this.collection().getKeyBefore(e)}}getFirstKey(){let t=this.collection().getFirstKey();for(;t!=null;){const e=this.collection().getItem(t);if(e&&e.type==="item"&&!e.disabled)return t;t=this.collection().getKeyAfter(t)}}getLastKey(){let t=this.collection().getLastKey();for(;t!=null;){const e=this.collection().getItem(t);if(e&&e.type==="item"&&!e.disabled)return t;t=this.collection().getKeyBefore(t)}}getItem(t){var e,n;return((n=(e=this.ref)==null?void 0:e.call(this))==null?void 0:n.querySelector(`[data-key="${t}"]`))??null}getKeyPageAbove(t){var s;const e=(s=this.ref)==null?void 0:s.call(this);let n=this.getItem(t);if(!e||!n)return;const r=Math.max(0,n.offsetTop+n.offsetHeight-e.offsetHeight);let i=t;for(;i&&n&&n.offsetTop>r;)i=this.getKeyAbove(i),n=i!=null?this.getItem(i):null;return i}getKeyPageBelow(t){var s;const e=(s=this.ref)==null?void 0:s.call(this);let n=this.getItem(t);if(!e||!n)return;const r=Math.min(e.scrollHeight,n.offsetTop-n.offsetHeight+e.offsetHeight);let i=t;for(;i&&n&&n.offsetTop<r;)i=this.getKeyBelow(i),n=i!=null?this.getItem(i):null;return i}getKeyForSearch(t,e){var i;const n=(i=this.collator)==null?void 0:i.call(this);if(!n)return;let r=e!=null?this.getKeyBelow(e):this.getFirstKey();for(;r!=null;){const s=this.collection().getItem(r);if(s){const o=s.textValue.slice(0,t.length);if(s.textValue&&n.compare(o,t)===0)return r}r=this.getKeyBelow(r)}}};function gm(t,e,n){const r=Nh({usage:"search",sensitivity:"base"}),i=ve(()=>{const s=q(t.keyboardDelegate);return s||new hm(t.collection,e,r)});return Ph({selectionManager:()=>q(t.selectionManager),keyboardDelegate:i,autoFocus:()=>q(t.autoFocus),deferAutoFocus:()=>q(t.deferAutoFocus),shouldFocusWrap:()=>q(t.shouldFocusWrap),disallowEmptySelection:()=>q(t.disallowEmptySelection),selectOnFocus:()=>q(t.selectOnFocus),disallowTypeAhead:()=>q(t.disallowTypeAhead),shouldUseVirtualFocus:()=>q(t.shouldUseVirtualFocus),allowsTabNavigation:()=>q(t.allowsTabNavigation),isVirtualized:()=>q(t.isVirtualized),scrollToKey:s=>{var o;return(o=q(t.scrollToKey))==null?void 0:o(s)},orientation:()=>q(t.orientation)},e)}var Lu=dt();function Nu(){return ut(Lu)}function Qt(){const t=Nu();if(t===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return t}var Ou=dt();function Rl(){const t=ut(Ou);if(t===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return t}var _u=dt();function Ft(){const t=ut(_u);if(t===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return t}function Ml(t){let e;const n=Ft(),r=Qt(),i=Oe({id:n.generateId(`item-${Jt()}`)},t),[s,o]=Le(i,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[l,a]=ee(),[c,f]=ee(),[h,d]=ee(),g=()=>r.listState().selectionManager(),m=()=>o.id,p=()=>g().focusedKey()===m(),y=()=>{var j;(j=s.onSelect)==null||j.call(s),s.closeOnSelect&&setTimeout(()=>{r.close(!0)})};Hh({getItem:()=>{var j;return{ref:()=>e,type:"item",key:m(),textValue:s.textValue??((j=h())==null?void 0:j.textContent)??(e==null?void 0:e.textContent)??"",disabled:s.disabled??!1}}});const v=su({key:m,selectionManager:g,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>s.disabled},()=>e),x=j=>{_e(j,s.onPointerMove),j.pointerType==="mouse"&&(s.disabled?r.onItemLeave(j):(r.onItemEnter(j),j.defaultPrevented||(Ue(j.currentTarget),r.listState().selectionManager().setFocused(!0),r.listState().selectionManager().setFocusedKey(m()))))},T=j=>{_e(j,s.onPointerLeave),j.pointerType==="mouse"&&r.onItemLeave(j)},A=j=>{_e(j,s.onPointerUp),!s.disabled&&j.button===0&&y()},L=j=>{if(_e(j,s.onKeyDown),!j.repeat&&!s.disabled)switch(j.key){case"Enter":case" ":y();break}},K=ve(()=>{if(s.indeterminate)return"mixed";if(s.checked!=null)return s.checked}),D=ve(()=>({"data-indeterminate":s.indeterminate?"":void 0,"data-checked":s.checked&&!s.indeterminate?"":void 0,"data-disabled":s.disabled?"":void 0,"data-highlighted":p()?"":void 0})),V={isChecked:()=>s.checked,dataset:D,setLabelRef:d,generateId:yl(()=>o.id),registerLabel:ei(a),registerDescription:ei(f)};return C(Ou.Provider,{value:V,get children(){return C(Ge,fe({as:"div",ref(j){var J=Je(w=>e=w,s.ref);typeof J=="function"&&J(j)},get tabIndex(){return v.tabIndex()},get"aria-checked"(){return K()},get"aria-disabled"(){return s.disabled},get"aria-labelledby"(){return l()},get"aria-describedby"(){return c()},get"data-key"(){return v.dataKey()},get onPointerDown(){return Me([s.onPointerDown,v.onPointerDown])},get onPointerUp(){return Me([A,v.onPointerUp])},get onClick(){return Me([s.onClick,v.onClick])},get onKeyDown(){return Me([L,v.onKeyDown])},get onMouseDown(){return Me([s.onMouseDown,v.onMouseDown])},get onFocus(){return Me([s.onFocus,v.onFocus])},onPointerMove:x,onPointerLeave:T},D,o))}})}function ku(t){const e=Oe({closeOnSelect:!1},t),[n,r]=Le(e,["checked","defaultChecked","onChange","onSelect"]),i=wh({isSelected:()=>n.checked,defaultIsSelected:()=>n.defaultChecked,onSelectedChange:o=>{var l;return(l=n.onChange)==null?void 0:l.call(n,o)},isDisabled:()=>r.disabled});return C(Ml,fe({role:"menuitemcheckbox",get checked(){return i.isSelected()},onSelect:()=>{var o;(o=n.onSelect)==null||o.call(n),i.toggle()}},r))}var mm=dt();function Es(){return ut(mm)}var ti={next:(t,e)=>t==="ltr"?e==="horizontal"?"ArrowRight":"ArrowDown":e==="horizontal"?"ArrowLeft":"ArrowUp",previous:(t,e)=>ti.next(t==="ltr"?"rtl":"ltr",e)},Ia={first:t=>t==="horizontal"?"ArrowDown":"ArrowRight",last:t=>t==="horizontal"?"ArrowUp":"ArrowLeft"};function Iu(t){const e=Ft(),n=Qt(),r=Es(),{direction:i}=mn(),s=Oe({id:e.generateId("trigger")},t),[o,l]=Le(s,["ref","id","disabled","onPointerDown","onClick","onKeyDown","onMouseOver","onFocus"]);let a=()=>e.value();r!==void 0&&(a=()=>e.value()??o.id,r.lastValue()===void 0&&r.setLastValue(a));const c=bs(()=>n.triggerRef(),()=>"button"),f=ve(()=>{var v;return c()==="a"&&((v=n.triggerRef())==null?void 0:v.getAttribute("href"))!=null});re(ci(()=>r==null?void 0:r.value(),v=>{var x;f()&&v===a()&&((x=n.triggerRef())==null||x.focus())}));const h=()=>{r!==void 0?n.isOpen()?r.value()===a()&&r.closeMenu():(r.autoFocusMenu()||r.setAutoFocusMenu(!0),n.open(!1)):n.toggle(!0)},d=v=>{_e(v,o.onPointerDown),v.currentTarget.dataset.pointerType=v.pointerType,!o.disabled&&v.pointerType!=="touch"&&v.button===0&&h()},g=v=>{_e(v,o.onClick),o.disabled||v.currentTarget.dataset.pointerType==="touch"&&h()},m=v=>{if(_e(v,o.onKeyDown),!o.disabled){if(f())switch(v.key){case"Enter":case" ":return}switch(v.key){case"Enter":case" ":case Ia.first(e.orientation()):v.stopPropagation(),v.preventDefault(),fh(v.currentTarget),n.open("first"),r==null||r.setAutoFocusMenu(!0),r==null||r.setValue(a);break;case Ia.last(e.orientation()):v.stopPropagation(),v.preventDefault(),n.open("last");break;case ti.next(i(),e.orientation()):if(r===void 0)break;v.stopPropagation(),v.preventDefault(),r.nextMenu();break;case ti.previous(i(),e.orientation()):if(r===void 0)break;v.stopPropagation(),v.preventDefault(),r.previousMenu();break}}},p=v=>{var x;_e(v,o.onMouseOver),((x=n.triggerRef())==null?void 0:x.dataset.pointerType)!=="touch"&&!o.disabled&&r!==void 0&&r.value()!==void 0&&r.setValue(a)},y=v=>{_e(v,o.onFocus),r!==void 0&&v.currentTarget.dataset.pointerType!=="touch"&&r.setValue(a)};return re(()=>de(n.registerTriggerId(o.id))),C(El,fe({ref(v){var x=Je(n.setTriggerRef,o.ref);typeof x=="function"&&x(v)},get"data-kb-menu-value-trigger"(){return e.value()},get id(){return o.id},get disabled(){return o.disabled},"aria-haspopup":"true",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return ve(()=>!!n.isOpen())()?n.contentId():void 0},get"data-highlighted"(){return a()!==void 0&&(r==null?void 0:r.value())===a()?!0:void 0},get tabIndex(){return r!==void 0?r.value()===a()||r.lastValue()===a()?0:-1:void 0},onPointerDown:d,onMouseOver:p,onClick:g,onKeyDown:m,onFocus:y,role:r!==void 0?"menuitem":void 0},()=>n.dataset(),l))}var bm=dt();function Ru(){return ut(bm)}function Mu(t){let e;const n=Ft(),r=Qt(),i=Es(),s=Ru(),{direction:o}=mn(),l=Oe({id:n.generateId(`content-${Jt()}`)},t),[a,c]=Le(l,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]);let f=0;const h=()=>r.parentMenuContext()==null&&i===void 0&&n.isModal(),d=gm({selectionManager:r.listState().selectionManager,collection:r.listState().collection,autoFocus:r.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!r.listState().selectionManager().isFocused(),orientation:()=>n.orientation()==="horizontal"?"vertical":"horizontal"},()=>e);rm({trapFocus:()=>h()&&r.isOpen(),onMountAutoFocus:T=>{var A;i===void 0&&((A=a.onOpenAutoFocus)==null||A.call(a,T))},onUnmountAutoFocus:a.onCloseAutoFocus},()=>e);const g=T=>{if(Xe(T.currentTarget,T.target)&&(T.key==="Tab"&&r.isOpen()&&T.preventDefault(),i!==void 0&&T.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(T.key){case ti.next(o(),n.orientation()):T.stopPropagation(),T.preventDefault(),r.close(!0),i.setAutoFocusMenu(!0),i.nextMenu();break;case ti.previous(o(),n.orientation()):if(T.currentTarget.hasAttribute("data-closed"))break;T.stopPropagation(),T.preventDefault(),r.close(!0),i.setAutoFocusMenu(!0),i.previousMenu();break}},m=T=>{var A;(A=a.onEscapeKeyDown)==null||A.call(a,T),i==null||i.setAutoFocusMenu(!1),r.close(!0)},p=T=>{var A;(A=a.onFocusOutside)==null||A.call(a,T),n.isModal()&&T.preventDefault()},y=T=>{var A,L;_e(T,a.onPointerEnter),r.isOpen()&&((A=r.parentMenuContext())==null||A.listState().selectionManager().setFocused(!1),(L=r.parentMenuContext())==null||L.listState().selectionManager().setFocusedKey(void 0))},v=T=>{if(_e(T,a.onPointerMove),T.pointerType!=="mouse")return;const A=T.target,L=f!==T.clientX;Xe(T.currentTarget,A)&&L&&(r.setPointerDir(T.clientX>f?"right":"left"),f=T.clientX)};re(()=>de(r.registerContentId(a.id))),de(()=>r.setContentRef(void 0));const x={ref:Je(T=>{r.setContentRef(T),e=T},a.ref),role:"menu",get id(){return a.id},get tabIndex(){return d.tabIndex()},get"aria-labelledby"(){return r.triggerId()},onKeyDown:Me([a.onKeyDown,d.onKeyDown,g]),onMouseDown:Me([a.onMouseDown,d.onMouseDown]),onFocusIn:Me([a.onFocusIn,d.onFocusIn]),onFocusOut:Me([a.onFocusOut,d.onFocusOut]),onPointerEnter:y,onPointerMove:v,get"data-orientation"(){return n.orientation()}};return C(he,{get when(){return r.contentPresent()},get children(){return C(he,{get when(){return s===void 0||r.parentMenuContext()!=null},get fallback(){return C(Ge,fe({as:"div"},()=>r.dataset(),x,c))},get children(){return C(xs.Positioner,{get children(){return C(Su,fe({get disableOutsidePointerEvents(){return ve(()=>!!h())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return gs({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},a.style)},onEscapeKeyDown:m,onFocusOutside:p,get onDismiss(){return r.close}},()=>r.dataset(),x,c))}})}})}})}function pm(t){let e;const n=Ft(),r=Qt(),[i,s]=Le(t,["ref"]);return fm({element:()=>e??null,enabled:()=>r.contentPresent()&&n.preventScroll()}),C(Mu,fe({ref(o){var l=Je(a=>{e=a},i.ref);typeof l=="function"&&l(o)}},s))}var Pu=dt();function ym(){const t=ut(Pu);if(t===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return t}function Pl(t){const e=Ft(),n=Oe({id:e.generateId(`group-${Jt()}`)},t),[r,i]=ee(),s={generateId:yl(()=>n.id),registerLabelId:ei(i)};return C(Pu.Provider,{value:s,get children(){return C(Ge,fe({as:"div",role:"group",get"aria-labelledby"(){return r()}},n))}})}function qu(t){const e=ym(),n=Oe({id:e.generateId("label")},t),[r,i]=Le(n,["id"]);return re(()=>de(e.registerLabelId(r.id))),C(Ge,fe({as:"span",get id(){return r.id},"aria-hidden":"true"},i))}function Du(t){const e=Qt(),n=Oe({children:"▼"},t);return C(Ge,fe({as:"span","aria-hidden":"true"},()=>e.dataset(),n))}function $u(t){return C(Ml,fe({role:"menuitem",closeOnSelect:!0},t))}function Bu(t){const e=Rl(),n=Oe({id:e.generateId("description")},t),[r,i]=Le(n,["id"]);return re(()=>de(e.registerDescription(r.id))),C(Ge,fe({as:"div",get id(){return r.id}},()=>e.dataset(),i))}function Fu(t){const e=Rl(),n=Oe({id:e.generateId("indicator")},t),[r,i]=Le(n,["forceMount"]);return C(he,{get when(){return r.forceMount||e.isChecked()},get children(){return C(Ge,fe({as:"div"},()=>e.dataset(),i))}})}function Ku(t){const e=Rl(),n=Oe({id:e.generateId("label")},t),[r,i]=Le(n,["ref","id"]);return re(()=>de(e.registerLabel(r.id))),C(Ge,fe({as:"div",ref(s){var o=Je(e.setLabelRef,r.ref);typeof o=="function"&&o(s)},get id(){return r.id}},()=>e.dataset(),i))}function ju(t){const e=Qt();return C(he,{get when(){return e.contentPresent()},get children(){return C(Uc,t)}})}var Uu=dt();function vm(){const t=ut(Uu);if(t===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return t}function zu(t){const n=Ft().generateId(`radiogroup-${Jt()}`),r=Oe({id:n},t),[i,s]=Le(r,["value","defaultValue","onChange","disabled"]),[o,l]=ps({value:()=>i.value,defaultValue:()=>i.defaultValue,onChange:c=>{var f;return(f=i.onChange)==null?void 0:f.call(i,c)}}),a={isDisabled:()=>i.disabled,isSelectedValue:c=>c===o(),setSelectedValue:l};return C(Uu.Provider,{value:a,get children(){return C(Pl,s)}})}function Hu(t){const e=vm(),n=Oe({closeOnSelect:!1},t),[r,i]=Le(n,["value","onSelect"]);return C(Ml,fe({role:"menuitemradio",get checked(){return e.isSelectedValue(r.value)},onSelect:()=>{var o;(o=r.onSelect)==null||o.call(r),e.setSelectedValue(r.value)}},i))}function wm(t,e,n){const r=t.split("-")[0],i=n.getBoundingClientRect(),s=[],o=e.clientX,l=e.clientY;switch(r){case"top":s.push([o,l+5]),s.push([i.left,i.bottom]),s.push([i.left,i.top]),s.push([i.right,i.top]),s.push([i.right,i.bottom]);break;case"right":s.push([o-5,l]),s.push([i.left,i.top]),s.push([i.right,i.top]),s.push([i.right,i.bottom]),s.push([i.left,i.bottom]);break;case"bottom":s.push([o,l-5]),s.push([i.right,i.top]),s.push([i.right,i.bottom]),s.push([i.left,i.bottom]),s.push([i.left,i.top]);break;case"left":s.push([o+5,l]),s.push([i.right,i.bottom]),s.push([i.left,i.bottom]),s.push([i.left,i.top]),s.push([i.right,i.top]);break}return s}function xm(t,e){return e?Qc([t.clientX,t.clientY],e):!1}function Vu(t){const e=Ft(),n=lu(),r=Nu(),i=Es(),s=Ru(),o=Oe({placement:e.orientation()==="horizontal"?"bottom-start":"right-start"},t),[l,a]=Le(o,["open","defaultOpen","onOpenChange"]);let c=0,f=null,h="right";const[d,g]=ee(),[m,p]=ee(),[y,v]=ee(),[x,T]=ee(),[A,L]=ee(!0),[K,D]=ee(a.placement),[V,j]=ee([]),[J,w]=ee([]),{DomCollectionProvider:_}=zh({items:J,onItemsChange:w}),S=Il({open:()=>l.open,defaultOpen:()=>l.defaultOpen,onOpenChange:F=>{var se;return(se=l.onOpenChange)==null?void 0:se.call(l,F)}}),{present:M}=Cu({show:()=>e.forceMount()||S.isOpen(),element:()=>x()??null}),P=Dh({selectionMode:"none",dataSource:J}),N=F=>{L(F),S.open()},R=(F=!1)=>{S.close(),F&&r&&r.close(!0)},B=F=>{L(F),S.toggle()},z=()=>{const F=x();F&&(Ue(F),P.selectionManager().setFocused(!0),P.selectionManager().setFocusedKey(void 0))},U=()=>{s!=null?setTimeout(()=>z()):z()},te=F=>{j(ue=>[...ue,F]);const se=r==null?void 0:r.registerNestedMenu(F);return()=>{j(ue=>$o(ue,F)),se==null||se()}},Q=F=>h===(f==null?void 0:f.side)&&xm(F,f==null?void 0:f.area),oe=F=>{Q(F)&&F.preventDefault()},ae=F=>{Q(F)||U()},X=F=>{Q(F)&&F.preventDefault()};tm({isDisabled:()=>!(r==null&&S.isOpen()&&e.isModal()),targets:()=>[x(),...V()].filter(Boolean)}),re(()=>{const F=x();if(!F||!r)return;const se=r.registerNestedMenu(F);de(()=>{se()})}),re(()=>{r===void 0&&(i==null||i.registerMenu(e.value(),[x(),...V()]))}),re(()=>{var F;r!==void 0||i===void 0||(i.value()===e.value()?((F=y())==null||F.focus(),i.autoFocusMenu()&&N(!0)):R())}),re(()=>{r!==void 0||i===void 0||S.isOpen()&&i.setValue(e.value())}),de(()=>{r===void 0&&(i==null||i.unregisterMenu(e.value()))});const Se={dataset:ve(()=>({"data-expanded":S.isOpen()?"":void 0,"data-closed":S.isOpen()?void 0:""})),isOpen:S.isOpen,contentPresent:M,nestedMenus:V,currentPlacement:K,pointerGraceTimeoutId:()=>c,autoFocus:A,listState:()=>P,parentMenuContext:()=>r,triggerRef:y,contentRef:x,triggerId:d,contentId:m,setTriggerRef:v,setContentRef:T,open:N,close:R,toggle:B,focusContent:U,onItemEnter:oe,onItemLeave:ae,onTriggerLeave:X,setPointerDir:F=>h=F,setPointerGraceTimeoutId:F=>c=F,setPointerGraceIntent:F=>f=F,registerNestedMenu:te,registerItemToParentDomCollection:n==null?void 0:n.registerItem,registerTriggerId:ei(g),registerContentId:ei(p)};return C(_,{get children(){return C(Lu.Provider,{value:Se,get children(){return C(he,{when:s===void 0,get fallback(){return a.children},get children(){return C(xs,fe({anchorRef:y,contentRef:x,onCurrentPlacementChange:D},a))}})}})}})}function Gu(t){const{direction:e}=mn();return C(Vu,fe({get placement(){return e()==="rtl"?"left-start":"right-start"},flip:!0},t))}var Em={close:(t,e)=>t==="ltr"?[e==="horizontal"?"ArrowLeft":"ArrowUp"]:[e==="horizontal"?"ArrowRight":"ArrowDown"]};function Wu(t){const e=Qt(),n=Ft(),[r,i]=Le(t,["onFocusOutside","onKeyDown"]),{direction:s}=mn();return C(Mu,fe({onOpenAutoFocus:f=>{f.preventDefault()},onCloseAutoFocus:f=>{f.preventDefault()},onFocusOutside:f=>{var d;(d=r.onFocusOutside)==null||d.call(r,f);const h=f.target;Xe(e.triggerRef(),h)||e.close()},onKeyDown:f=>{_e(f,r.onKeyDown);const h=Xe(f.currentTarget,f.target),d=Em.close(s(),n.orientation()).includes(f.key),g=e.parentMenuContext()!=null;h&&d&&g&&(e.close(),Ue(e.triggerRef()))}},i))}var Ra=["Enter"," "],Tm={open:(t,e)=>t==="ltr"?[...Ra,e==="horizontal"?"ArrowRight":"ArrowDown"]:[...Ra,e==="horizontal"?"ArrowLeft":"ArrowUp"]};function Zu(t){let e;const n=Ft(),r=Qt(),i=Oe({id:n.generateId(`sub-trigger-${Jt()}`)},t),[s,o]=Le(i,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]);let l=null;const a=()=>{l&&window.clearTimeout(l),l=null},{direction:c}=mn(),f=()=>s.id,h=()=>{const T=r.parentMenuContext();if(T==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return T.listState().selectionManager()},d=()=>r.listState().collection(),g=()=>h().focusedKey()===f(),m=su({key:f,selectionManager:h,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>s.disabled},()=>e),p=T=>{_e(T,s.onClick),!r.isOpen()&&!s.disabled&&r.open(!0)},y=T=>{var L;if(_e(T,s.onPointerMove),T.pointerType!=="mouse")return;const A=r.parentMenuContext();if(A==null||A.onItemEnter(T),!T.defaultPrevented){if(s.disabled){A==null||A.onItemLeave(T);return}!r.isOpen()&&!l&&((L=r.parentMenuContext())==null||L.setPointerGraceIntent(null),l=window.setTimeout(()=>{r.open(!1),a()},100)),A==null||A.onItemEnter(T),T.defaultPrevented||(r.listState().selectionManager().isFocused()&&(r.listState().selectionManager().setFocused(!1),r.listState().selectionManager().setFocusedKey(void 0)),Ue(T.currentTarget),A==null||A.listState().selectionManager().setFocused(!0),A==null||A.listState().selectionManager().setFocusedKey(f()))}},v=T=>{if(_e(T,s.onPointerLeave),T.pointerType!=="mouse")return;a();const A=r.parentMenuContext(),L=r.contentRef();if(L){A==null||A.setPointerGraceIntent({area:wm(r.currentPlacement(),T,L),side:r.currentPlacement().split("-")[0]}),window.clearTimeout(A==null?void 0:A.pointerGraceTimeoutId());const K=window.setTimeout(()=>{A==null||A.setPointerGraceIntent(null)},300);A==null||A.setPointerGraceTimeoutId(K)}else{if(A==null||A.onTriggerLeave(T),T.defaultPrevented)return;A==null||A.setPointerGraceIntent(null)}A==null||A.onItemLeave(T)},x=T=>{_e(T,s.onKeyDown),!T.repeat&&(s.disabled||Tm.open(c(),n.orientation()).includes(T.key)&&(T.stopPropagation(),T.preventDefault(),h().setFocused(!1),h().setFocusedKey(void 0),r.isOpen()||r.open("first"),r.focusContent(),r.listState().selectionManager().setFocused(!0),r.listState().selectionManager().setFocusedKey(d().getFirstKey())))};return re(()=>{if(r.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");const T=r.registerItemToParentDomCollection({ref:()=>e,type:"item",key:f(),textValue:s.textValue??(e==null?void 0:e.textContent)??"",disabled:s.disabled??!1});de(T)}),re(ci(()=>{var T;return(T=r.parentMenuContext())==null?void 0:T.pointerGraceTimeoutId()},T=>{de(()=>{var A;window.clearTimeout(T),(A=r.parentMenuContext())==null||A.setPointerGraceIntent(null)})})),re(()=>de(r.registerTriggerId(s.id))),de(()=>{a()}),C(Ge,fe({as:"div",ref(T){var A=Je(L=>{r.setTriggerRef(L),e=L},s.ref);typeof A=="function"&&A(T)},get id(){return s.id},role:"menuitem",get tabIndex(){return m.tabIndex()},"aria-haspopup":"true",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return ve(()=>!!r.isOpen())()?r.contentId():void 0},get"aria-disabled"(){return s.disabled},get"data-key"(){return m.dataKey()},get"data-highlighted"(){return g()?"":void 0},get"data-disabled"(){return s.disabled?"":void 0},get onPointerDown(){return Me([s.onPointerDown,m.onPointerDown])},get onPointerUp(){return Me([s.onPointerUp,m.onPointerUp])},get onClick(){return Me([p,m.onClick])},get onKeyDown(){return Me([x,m.onKeyDown])},get onMouseDown(){return Me([s.onMouseDown,m.onMouseDown])},get onFocus(){return Me([s.onFocus,m.onFocus])},onPointerMove:y,onPointerLeave:v},()=>r.dataset(),o))}function Am(t){const e=Es(),n=`menu-${Jt()}`,r=Oe({id:n,modal:!0},t),[i,s]=Le(r,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value","orientation"]),o=Il({open:()=>i.open,defaultOpen:()=>i.defaultOpen,onOpenChange:a=>{var c;return(c=i.onOpenChange)==null?void 0:c.call(i,a)}}),l={isModal:()=>i.modal??!0,preventScroll:()=>i.preventScroll??l.isModal(),forceMount:()=>i.forceMount??!1,generateId:yl(()=>i.id),value:()=>i.value,orientation:()=>i.orientation??(e==null?void 0:e.orientation())??"horizontal"};return C(_u.Provider,{value:l,get children(){return C(Vu,fe({get open(){return o.isOpen()},get onOpenChange(){return o.setIsOpen}},s))}})}var Sm={};ui(Sm,{Root:()=>Ts,Separator:()=>Cm});function Ts(t){let e;const n=Oe({orientation:"horizontal"},t),[r,i]=Le(n,["ref","orientation"]),s=bs(()=>e,()=>"hr");return C(Ge,fe({as:"hr",ref(o){var l=Je(a=>e=a,r.ref);typeof l=="function"&&l(o)},get role(){return s()!=="hr"?"separator":void 0},get"aria-orientation"(){return r.orientation==="vertical"?"vertical":void 0},get"data-orientation"(){return r.orientation}},i))}var Cm=Ts,cn={};ui(cn,{Arrow:()=>fi,CheckboxItem:()=>ku,Content:()=>Yu,DropdownMenu:()=>Lm,Group:()=>Pl,GroupLabel:()=>qu,Icon:()=>Du,Item:()=>$u,ItemDescription:()=>Bu,ItemIndicator:()=>Fu,ItemLabel:()=>Ku,Portal:()=>ju,RadioGroup:()=>zu,RadioItem:()=>Hu,Root:()=>Xu,Separator:()=>Ts,Sub:()=>Gu,SubContent:()=>Wu,SubTrigger:()=>Zu,Trigger:()=>Iu});function Yu(t){const e=Ft(),n=Qt(),[r,i]=Le(t,["onCloseAutoFocus","onInteractOutside"]);let s=!1;return C(pm,fe({onCloseAutoFocus:a=>{var c;(c=r.onCloseAutoFocus)==null||c.call(r,a),s||Ue(n.triggerRef()),s=!1,a.preventDefault()},onInteractOutside:a=>{var c;(c=r.onInteractOutside)==null||c.call(r,a),(!e.isModal()||a.detail.isContextMenu)&&(s=!0)}},i))}function Xu(t){const e=`dropdownmenu-${Jt()}`,n=Oe({id:e},t);return C(Am,n)}var Lm=Object.assign(Xu,{Arrow:fi,CheckboxItem:ku,Content:Yu,Group:Pl,GroupLabel:qu,Icon:Du,Item:$u,ItemDescription:Bu,ItemIndicator:Fu,ItemLabel:Ku,Portal:ju,RadioGroup:zu,RadioItem:Hu,Separator:Ts,Sub:Gu,SubContent:Wu,SubTrigger:Zu,Trigger:Iu}),Nm={};ui(Nm,{Link:()=>Om,Root:()=>ql});function ql(t){let e;const[n,r]=Le(t,["ref","href","disabled"]),i=bs(()=>e,()=>"a");return C(Ge,fe({as:"a",ref(s){var o=Je(l=>e=l,n.ref);typeof o=="function"&&o(s)},get role(){return i()!=="a"||n.disabled?"link":void 0},get tabIndex(){return i()!=="a"&&!n.disabled?0:void 0},get href(){return n.disabled?void 0:n.href},get"aria-disabled"(){return n.disabled?!0:void 0},get"data-disabled"(){return n.disabled?"":void 0}},r))}var Om=ql,Ur={};ui(Ur,{Arrow:()=>fi,Content:()=>Qu,HoverCard:()=>km,Portal:()=>ed,Root:()=>td,Trigger:()=>nd});var Ju=dt();function Dl(){const t=ut(Ju);if(t===void 0)throw new Error("[kobalte]: `useHoverCardContext` must be used within a `HoverCard` component");return t}function Qu(t){const e=Dl(),[n,r]=Le(t,["ref","style"]);return C(he,{get when(){return e.contentPresent()},get children(){return C(xs.Positioner,{get children(){return C(Su,fe({ref(i){var s=Je(o=>{e.setContentRef(o)},n.ref);typeof s=="function"&&s(i)},disableOutsidePointerEvents:!1,get style(){return gs({"--kb-hovercard-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},n.style)},onFocusOutside:i=>i.preventDefault(),get onDismiss(){return e.close}},()=>e.dataset(),r))}})}})}function ed(t){const e=Dl();return C(he,{get when(){return e.contentPresent()},get children(){return C(Uc,t)}})}function _m(t,e,n){const r=t.split("-")[0],i=e.getBoundingClientRect(),s=n.getBoundingClientRect(),o=[],l=i.left+i.width/2,a=i.top+i.height/2;switch(r){case"top":o.push([i.left,a]),o.push([s.left,s.bottom]),o.push([s.left,s.top]),o.push([s.right,s.top]),o.push([s.right,s.bottom]),o.push([i.right,a]);break;case"right":o.push([l,i.top]),o.push([s.left,s.top]),o.push([s.right,s.top]),o.push([s.right,s.bottom]),o.push([s.left,s.bottom]),o.push([l,i.bottom]);break;case"bottom":o.push([i.left,a]),o.push([s.left,s.top]),o.push([s.left,s.bottom]),o.push([s.right,s.bottom]),o.push([s.right,s.top]),o.push([i.right,a]);break;case"left":o.push([l,i.top]),o.push([s.right,s.top]),o.push([s.left,s.top]),o.push([s.left,s.bottom]),o.push([s.right,s.bottom]),o.push([l,i.bottom]);break}return o}function td(t){const e=`hovercard-${Jt()}`,n=Oe({id:e,openDelay:700,closeDelay:300},t),[r,i]=Le(n,["id","open","defaultOpen","onOpenChange","openDelay","closeDelay","ignoreSafeArea","forceMount"]);let s,o;const[l,a]=ee(),[c,f]=ee(),[h,d]=ee(i.placement),g=Il({open:()=>r.open,defaultOpen:()=>r.defaultOpen,onOpenChange:J=>{var w;return(w=r.onOpenChange)==null?void 0:w.call(r,J)}}),{present:m}=Cu({show:()=>r.forceMount||g.isOpen(),element:()=>c()??null}),{addGlobalListener:p,removeGlobalListener:y}=Gf(),v=()=>{s=window.setTimeout(()=>{s=void 0,g.open()},r.openDelay)},x=()=>{o=window.setTimeout(()=>{o=void 0,g.close()},r.closeDelay)},T=()=>{window.clearTimeout(s),s=void 0},A=()=>{window.clearTimeout(o),o=void 0},L=J=>Xe(l(),J)||Xe(c(),J),K=J=>{const w=l(),_=c();if(!(!w||!_))return _m(J,w,_)},D=J=>{const w=J.target;if(L(w)){A();return}if(!r.ignoreSafeArea){const _=K(h());if(_&&Qc(dh(J),_)){A();return}}o||x()};re(()=>{g.isOpen()&&(p(document,"pointermove",D,!0),de(()=>{y(document,"pointermove",D,!0)}))}),de(()=>{T(),A()});const j={dataset:ve(()=>({"data-expanded":g.isOpen()?"":void 0,"data-closed":g.isOpen()?void 0:""})),isOpen:g.isOpen,contentPresent:m,openWithDelay:v,closeWithDelay:x,cancelOpening:T,cancelClosing:A,close:g.close,isTargetOnHoverCard:L,setTriggerRef:a,setContentRef:f};return C(Ju.Provider,{value:j,get children(){return C(xs,fe({anchorRef:l,contentRef:c,onCurrentPlacementChange:d},i))}})}function nd(t){const e=Dl(),[n,r]=Le(t,["ref","onPointerEnter","onPointerLeave","onFocus","onBlur"]),i=a=>{_e(a,n.onPointerEnter),!(a.pointerType==="touch"||r.disabled||a.defaultPrevented)&&(e.cancelClosing(),e.isOpen()||e.openWithDelay())},s=a=>{_e(a,n.onPointerLeave),a.pointerType!=="touch"&&e.cancelOpening()},o=a=>{_e(a,n.onFocus),!(r.disabled||a.defaultPrevented)&&(e.cancelClosing(),e.isOpen()||e.openWithDelay())},l=a=>{_e(a,n.onBlur),e.cancelOpening();const c=a.relatedTarget;e.isTargetOnHoverCard(c)||e.closeWithDelay()};return de(e.cancelOpening),C(ql,fe({ref(a){var c=Je(e.setTriggerRef,n.ref);typeof c=="function"&&c(a)},onPointerEnter:i,onPointerLeave:s,onFocus:o,onBlur:l},()=>e.dataset(),r))}var km=Object.assign(td,{Arrow:fi,Content:Qu,Portal:ed,Trigger:nd}),Im=Y('<button type=button class="absolute right-2.5 top-1/2 -translate-y-1/2 text-primary-hover hover:text-primary-base duration-200 transition-colors"tabindex=-1>'),Rm=Y("<div><div><input>");const k2=t=>{const[e,n]=ee(!1),[r,i]=ee(!1),s=ve(()=>t.type==="password"&&r()?"text":t.type);return(()=>{var o=Rm(),l=o.firstChild,a=l.firstChild;return I(l,C(wn,{get id(){return t.id},get label(){var c;return(c=t.copy)==null?void 0:c.label},get focused(){return e()},get required(){return t.required},get theme(){return t.theme},get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get hideOptionalText(){return t.hideOptionalText},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),a),a.addEventListener("blur",()=>{var c;n(!1),(c=t.onBlur)==null||c.call(t)}),a.$$keyup=c=>{var f;return(f=t.onKeyUp)==null?void 0:f.call(t,c)},a.addEventListener("focus",()=>n(!0)),a.$$input=c=>t.onChange(c.currentTarget.value),a.$$keydown=c=>{c.stopPropagation()},I(l,C(he,{get when(){return t.type==="password"},get children(){var c=Im();return c.$$click=()=>{i(!r())},I(c,C(he,{get when(){return r()},get children(){return C(vf,{size:18,class:"text-unfocused"})}}),null),I(c,C(he,{get when(){return!r()},get children(){return C(wf,{size:18,class:"text-unfocused"})}}),null),c}}),null),I(l,C(ff,{get copy(){var c;return(c=t.copy)==null?void 0:c.tooltip},get theme(){return t.theme}}),null),I(o,C(vn,{get id(){return t.id},get describedBy(){var c;return(c=t.copy)==null?void 0:c.describedBy}}),null),I(o,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(c=>{var K,D,V,j;var f=ie("w-full",{"mb-0":t.noMargin,"mb-4 last:mb-0":!t.noMargin&&t.theme==="full","mb-2.5 last:mb-0":!t.noMargin&&t.theme==="basic"}),h=ie("flex flex-col transition-colors duration-200 ease-in-out relative",{"border-primary-base":e()&&t.theme==="full","border-error-base":((K=t.errors)==null?void 0:K.message)!==void 0,"bg-input-base rounded-md border border-border":t.theme==="full"}),d=ie("focus:outline-hidden px-2 text-sm text-title disabled:cursor-not-allowed disabled:opacity-80",{"pr-[32px]":t.type==="password","pt-2":((D=t.copy)==null?void 0:D.label)===void 0,"bg-input-base border border-border h-10 rounded-md mt-1 focus:border-primary-base duration-200 transition-colors":t.theme==="basic","bg-transparent pb-2 pt-1 rounded-b-md":t.theme==="full"}),g=t.id,m=t.name,p=s(),y=(V=t.copy)==null?void 0:V.placeholder,v=(j=t.copy)!=null&&j.describedBy?`${t.id}-description`:void 0,x=t.autoComplete,T=t.autoFoucs,A=t.required,L=t.disabled;return f!==c.e&&be(o,c.e=f),h!==c.t&&be(l,c.t=h),d!==c.a&&be(a,c.a=d),g!==c.o&&le(a,"id",c.o=g),m!==c.i&&le(a,"name",c.i=m),p!==c.n&&le(a,"type",c.n=p),y!==c.s&&le(a,"placeholder",c.s=y),v!==c.h&&le(a,"aria-describedby",c.h=v),x!==c.r&&le(a,"autocomplete",c.r=x),T!==c.d&&(a.autofocus=c.d=T),A!==c.l&&(a.required=c.l=A),L!==c.u&&(a.disabled=c.u=L),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),ce(()=>a.value=t.value),o})()};$t(["keydown","input","keyup","click"]);var Mm=Y("<div><div><textarea>");const I2=t=>{const[e,n]=ee(!1);return(()=>{var r=Mm(),i=r.firstChild,s=i.firstChild;return I(i,C(wn,{get id(){return t.id},get label(){var o;return(o=t.copy)==null?void 0:o.label},get focused(){return e()},get required(){return t.required},get theme(){return t.theme},get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),s),s.addEventListener("blur",()=>{var o;n(!1),(o=t.onBlur)==null||o.call(t)}),s.$$keyup=o=>{var l;return(l=t.onKeyUp)==null?void 0:l.call(t,o)},s.addEventListener("focus",()=>n(!0)),s.$$input=o=>t.onChange(o.currentTarget.value),s.$$keydown=o=>{o.stopPropagation()},I(r,C(vn,{get id(){return t.id},get describedBy(){var o;return(o=t.copy)==null?void 0:o.describedBy}}),null),I(r,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(o=>{var x,T,A,L;var l=ie("w-full",{"mb-0":t.noMargin,"mb-5 last:mb-0":!t.noMargin}),a=ie("flex flex-col transition-colors duration-200 ease-in-out relative",{"border-primary-base":e()&&t.theme==="full","border-error-base":((x=t.errors)==null?void 0:x.message)!==void 0,"bg-input-base rounded-md border border-border":t.theme==="full"}),c=ie("focus:outline-hidden text-sm text-title font-medium resize-none w-full block disabled:cursor-not-allowed disabled:opacity-80",{"pt-2":((T=t.copy)==null?void 0:T.label)===void 0,"bg-input-base border border-border rounded-md mt-1 p-2 focus:border-primary-base duration-200 transition-colors":t.theme==="basic","bg-transparent pb-2 px-2 pt-1 rounded-b-md":t.theme==="full"}),f=t.id,h=t.name,d=(A=t.copy)==null?void 0:A.placeholder,g=(L=t.copy)!=null&&L.describedBy?`${t.id}-description`:void 0,m=t.autoFoucs,p=t.required,y=t.disabled,v=t.rows??6;return l!==o.e&&be(r,o.e=l),a!==o.t&&be(i,o.t=a),c!==o.a&&be(s,o.a=c),f!==o.o&&le(s,"id",o.o=f),h!==o.i&&le(s,"name",o.i=h),d!==o.n&&le(s,"placeholder",o.n=d),g!==o.s&&le(s,"aria-describedby",o.s=g),m!==o.h&&(s.autofocus=o.h=m),p!==o.r&&(s.required=o.r=p),y!==o.d&&(s.disabled=o.d=y),v!==o.l&&le(s,"rows",o.l=v),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),ce(()=>s.value=t.value),r})()};$t(["keydown","input","keyup"]);const Pm=(t,e)=>{let n;const r=()=>clearTimeout(n);return xf()&&de(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>t(...s),e)},{clear:r})},rd=t=>C(cn.Portal,{get children(){return C(cn.Content,{get as(){var e;return(e=t.options)==null?void 0:e.as},get class(){var e,n,r;return ie("bg-dropdown-base border border-border px-2.5 py-2.5 shadow-md animate-animate-dropdown focus:outline-hidden focus:ring-1 ring-primary-base scrollbar",{"rounded-md":(e=t.options)==null?void 0:e.rounded,"max-h-60 overflow-y-auto":((n=t.options)==null?void 0:n.maxHeight)==="md"},(r=t.options)==null?void 0:r.class)},get style(){var e;return{width:(e=t.options)!=null&&e.anchorWidth?"var(--kb-popper-anchor-width)":void 0}},get children(){return t.children}})}});var qm=Y('<span class="text-xs bg-background-base px-2 py-1 rounded-md mr-1 border border-border">'),Dm=Y('<div class="flex items-center">'),$m=Y('<button type=button class="pointer-events-auto h-5 w-5 flex items-center justify-center rounded-full text-primary-contrast hover:bg-error-base duration-200 transition-colors focus:outline-hidden focus:ring-1 ring-error-base focus:fill-error-base">'),Bm=Y('<div class="flex items-center gap-1">'),Ma=Y("<div>"),Fm=Y('<div class="absolute right-2 top-0 bottom-0 flex items-center">'),Km=Y('<div class="absolute right-2 top-0 bottom-0 flex items-center"><button type=button class="bg-primary-base pointer-events-auto h-5 w-5 flex items-center justify-center rounded-full mr-1 text-primary-contrast hover:bg-error-base duration-200 transition-colors focus:outline-hidden focus:ring-1 ring-error-base focus:fill-error-base"><span class=sr-only>'),jm=Y('<div class="mb-1.5 sticky top-0"><div class=relative><input type=text class="bg-dropdown-base px-2 rounded-md w-full border border-border text-sm text-title font-medium h-10 focus:outline-hidden focus:border-primary-base">'),Um=Y('<ul class="flex flex-col">'),Pa=Y('<span class="text-body w-full block px-2 py-1 text-sm">'),zm=Y("<span class=truncate>"),Hm=Y("<span class=text-body>"),Vm=Y('<li class="flex items-center justify-between text-sm text-body hover:bg-primary-hover hover:text-primary-contrast px-2 py-1 rounded-md cursor-pointer focus:outline-hidden focus:bg-primary-hover focus:text-primary-contrast"><span>');const R2=t=>{const[e,n]=ee(!1),[r,i]=ee(!1),[s,o]=ee(""),[l,a]=ee(""),c=Pm(f=>{o(f)},500);return re(()=>{var f;(f=t.search)==null||f.onChange(s())}),re(()=>{t.value===void 0&&a(xe()("nothing_selected"));const f=t.options.find(h=>h.value===t.value);f&&a(f.label)}),(()=>{var f=Ma();return I(f,C(cn.Root,{sameWidth:!0,get open(){return e()},onOpenChange:n,flip:!0,gutter:5,get children(){return[(()=>{var h=Ma();return I(h,C(wn,{get id(){return t.id},get label(){var d;return(d=t.copy)==null?void 0:d.label},get focused(){return r()},get required(){return t.required},get theme(){return t.theme},get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),null),I(h,C(cn.Trigger,{get class(){var d,g;return ie("focus:outline-hidden overflow-hidden px-2 text-sm text-title font-medium w-full flex justify-between disabled:cursor-not-allowed disabled:opacity-80 focus:ring-0",{"bg-input-base border border-border flex items-center rounded-md focus:border-primary-base duration-200 transition-colors":t.theme==="basic"||t.theme==="basic-small","h-10 bg-input-base border-border":t.theme==="basic","h-9 bg-input-base border-border":t.theme==="basic-small","mt-1":t.theme!=="full"&&((d=t.copy)==null?void 0:d.label),"pt-2 h-10 flex items-center":((g=t.copy)==null?void 0:g.label)===void 0&&t.theme==="full","bg-transparent pb-2 pt-1 rounded-b-md":t.theme==="full","border-error-base":t.hasError&&t.theme==="basic-small"})},onFocus:()=>i(!0),onBlur:()=>i(!1),get disabled(){return t.disabled},get children(){return[(()=>{var d=Dm();return I(d,C(he,{get when(){return t.shortcut},get children(){var g=qm();return I(g,()=>t.shortcut),g}}),null),I(d,(()=>{var g=ve(()=>!!l());return()=>g()?(()=>{var m=zm();return I(m,l),m})():(()=>{var m=Hm();return I(m,()=>xe()("nothing_selected")),m})()})(),null),d})(),(()=>{var d=Bm();return I(d,C(he,{get when(){return t.noClear!==!0},get children(){var g=$m();return g.$$click=m=>{m.stopPropagation(),t.onChange(void 0)},I(g,C(ns,{size:16,class:"text-title"})),g}}),null),I(d,C(zc,{size:16,class:"text-title ml-1"}),null),d})()]}}),null),ce(()=>{var d;return be(h,ie("flex flex-col transition-colors duration-200 ease-in-out relative",{"border-primary-base":r()&&t.theme==="full","border-error-base":((d=t.errors)==null?void 0:d.message)!==void 0||t.hasError,"bg-input-base rounded-md border border-border":t.theme==="full"}))}),h})(),C(rd,{options:{anchorWidth:!0,rounded:!0,class:"z-70 p-1.5!",maxHeight:"md"},get children(){return[C(he,{get when(){return t.search!==void 0},get children(){var h=jm(),d=h.firstChild,g=d.firstChild;return h.$$keydown=m=>{m.stopPropagation()},g.$$input=m=>c(m.currentTarget.value),g.$$keydown=m=>{m.stopPropagation()},I(d,C(dr,{get children(){return[C(Ye,{get when(){var m;return(m=t.search)==null?void 0:m.isLoading},get children(){var m=Fm();return I(m,C(Gc,{size:"sm"})),m}}),C(Ye,{get when(){var m;return(m=t.search)==null?void 0:m.value},get children(){var m=Km(),p=m.firstChild,y=p.firstChild;return p.$$keydown=v=>{(v.key==="Backspace"||v.key==="Delete"||v.key==="Enter"||v.key===" ")&&o("")},p.$$click=()=>{o("")},I(p,C(ns,{size:14}),y),I(y,()=>xe()("clear")),m}})]}}),null),ce(()=>{var m;return le(g,"placeholder",((m=t.copy)==null?void 0:m.searchPlaceholder)||xe()("search"))}),ce(()=>{var m;return g.value=((m=t.search)==null?void 0:m.value)||""}),h}}),C(dr,{get children(){return[C(Ye,{get when(){return t.options.length>0},get children(){var h=Um();return I(h,C(rs,{get each(){return t.options},children:d=>(()=>{var g=Vm(),m=g.firstChild;return g.$$keydown=p=>{p.key==="Enter"&&(t.onChange(d.value),o(""),n(!1))},g.$$click=()=>{t.onChange(d.value),o(""),n(!1)},I(m,()=>d.label),I(g,C(he,{get when(){return t.value===d.value},get children(){return C(pl,{size:14,class:"text-current mr-2"})}}),null),g})()})),h}}),C(Ye,{get when(){var h;return t.options.length===0&&((h=t.search)==null?void 0:h.value)},get children(){var h=Pa();return I(h,()=>xe()("no_results_found")),h}}),C(Ye,{get when(){return t.options.length===0},get children(){var h=Pa();return I(h,()=>xe()("no_options_available")),h}})]}})]}})]}}),null),I(f,C(vn,{get id(){return t.id},get describedBy(){var h;return(h=t.copy)==null?void 0:h.describedBy}}),null),I(f,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(()=>be(f,ie("w-full",{"mb-0":t.noMargin,"mb-4 last:mb-0":!t.noMargin,"mb-2.5 last:mb-0":!t.noMargin&&(t.theme==="basic"||t.theme==="basic-small")}))),f})()};$t(["click","keydown","input"]);var Gm=Y('<div><div><div class="flex flex-wrap gap-1"></div><div class="flex items-center ml-2">'),Wm=Y('<ul class="flex flex-col">'),Zm=Y('<span class="text-body w-full block px-2 py-1 text-sm">'),Ym=Y("<div>"),Xm=Y('<span class="bg-primary-base hover:bg-primary-hover duration-200 transition-colors rounded-md text-primary-contrast px-2 py-0.5 flex items-center text-sm focus:outline-hidden"><button type=button class="ml-1 pointer-events-auto duration-200 transition-colors rounded-full focus:outline-hidden focus:ring-1 ring-error-base focus:fill-error-base hover:text-error-base"><span class=sr-only>'),Jm=Y("<span>");const M2=t=>{const[e,n]=ee(!1),[r,i]=ee(!1),s=l=>{t.onChange(l)},o=l=>{const a=t.values.find(c=>c.value===l.value);s(a?t.values.filter(c=>c.value!==l.value):[...t.values,l])};return(()=>{var l=Ym();return I(l,C(cn.Root,{sameWidth:!0,get open(){return e()},onOpenChange:n,flip:!0,gutter:5,get children(){return[(()=>{var a=Gm(),c=a.firstChild,f=c.firstChild,h=f.nextSibling;return I(a,C(wn,{get id(){return t.id},get label(){var d;return(d=t.copy)==null?void 0:d.label},get required(){return t.required},get theme(){return t.theme},get altLocaleError(){return t.altLocaleError},get localised(){return t.localised}}),c),I(f,C(rs,{get each(){return t.values},children:d=>(()=>{var g=Xm(),m=g.firstChild,p=m.firstChild;return I(g,()=>d.label,m),m.$$click=y=>{y.stopPropagation(),y.preventDefault(),s(t.values.filter(v=>v.value!==d.value))},I(m,C(ns,{size:16,class:""}),p),I(p,()=>xe()("remove")),g})()})),I(h,C(zc,{size:16,class:"text-title ml-1"})),I(a,C(cn.Trigger,{class:"absolute inset-0 w-full left-0 rounded-md focus:outline-hidden",onFocus:()=>i(!0),onBlur:()=>i(!1)}),null),ce(d=>{var p,y,v;var g=ie("flex flex-col transition-colors duration-200 ease-in-out relative",{"border-primary-base":r()&&t.theme==="full","border-error-base":((p=t.errors)==null?void 0:p.message)!==void 0,"bg-input-base rounded-md border border-border":t.theme==="full"}),m=ie("w-full pointer-events-none z-10 focus:outline-hidden px-2 text-sm text-title font-medium justify-between flex ",{"pt-2 min-h-[40px]":((y=t.copy)==null?void 0:y.label)===void 0,"min-h-[32px] mt-1":((v=t.copy)==null?void 0:v.label)!==void 0,"bg-input-base border border-border flex items-center min-h-10 rounded-md mt-1 focus:border-primary-base duration-200 transition-colors":t.theme==="basic","bg-transparent pb-2 rounded-b-md":t.theme==="full"});return g!==d.e&&be(a,d.e=g),m!==d.t&&be(c,d.t=m),d},{e:void 0,t:void 0}),a})(),C(rd,{options:{anchorWidth:!0,rounded:!0,class:"max-h-36 overflow-y-auto z-70 p-1.5!"},get children(){return C(dr,{get children(){return[C(Ye,{get when(){return t.options.length>0},get children(){var a=Wm();return I(a,C(rs,{get each(){return t.options},children:c=>C(cn.Item,{class:"flex items-center justify-between text-sm text-body hover:bg-primary-hover hover:text-primary-contrast px-2 py-1 rounded-md cursor-pointer focus:outline-hidden focus:bg-primary-hover focus:text-primary-contrast",onSelect:()=>{o(c)},closeOnSelect:!1,get children(){return[(()=>{var f=Jm();return I(f,()=>c.label),f})(),C(he,{get when(){return t.values.find(f=>f.value===c.value)},get children(){return C(pl,{size:14,class:"fill-current mr-2"})}})]}})})),a}}),C(Ye,{get when(){return t.options.length===0},get children(){var a=Zm();return I(a,()=>xe()("no_options_available")),a}})]}})}})]}}),null),I(l,C(vn,{get id(){return t.id},get describedBy(){var a;return(a=t.copy)==null?void 0:a.describedBy}}),null),I(l,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(()=>be(l,ie("w-full",{"mb-0":t.noMargin,"mb-4 last:mb-0":!t.noMargin,"mb-2.5 last:mb-0":!t.noMargin&&t.theme==="basic"}))),l})()};$t(["click"]);var Qm=Y("<p class=text-sm>"),e0=Y('<div class="mt-5 text-center flex flex-col items-center"><button type=button class="text-unfocused fill-unfocused font-medium text-sm flex items-center mt-2">'),t0=Y('<div class="w-full h-full flex justify-center items-center flex-col p-4 md:p-6"><p class="text-center text-base font-medium text-title"> <button type=button class="text-primary-base font-medium">'),n0=Y("<div><input type=file class=hidden><div>"),r0=Y('<div class="w-full h-[calc(100%-49px)] relative z-10 p-4"><img class="w-full h-full object-contain">'),i0=Y('<span class="absolute inset-0 z-0 bg-cover bg-center w-full h-full blur-md scale-110 after:block after:absolute after:inset-0 after:bg-black after:opacity-30 after:z-10">'),s0=Y('<div class="w-full h-[calc(100%-49px)] relative z-10 bg-input-base"><video class="w-full h-full object-contain"controls preload=auto>'),o0=Y('<div class="w-full h-[calc(100%-49px)] relative z-10 bg-input-base flex justify-center items-center"><audio class=w-2/3 controls>'),qa=Y('<button type=button><span class="hidden md:inline">'),l0=Y('<div class="relative w-full h-full flex justify-center items-center flex-col"><div><button type=button><span class="hidden md:inline">'),a0=Y('<p class="text-center text-sm font-medium text-title">'),c0=Y('<div class="w-full h-[calc(100%-49px)] relative z-10 bg-input-base flex flex-col justify-center items-center">');const P2=t=>{const[e,n]=ee(!1);let r;const i=()=>{t.state.setValue(null),t.state.setRemovedCurrent(!0)},s=()=>{t.state.setValue(null),t.state.setRemovedCurrent(!1)},o=()=>{r&&r.click()},l=()=>{var d,g,m;const h=(g=(d=t.currentFile)==null?void 0:d.url)!=null&&g.includes("?")?t.currentFile.url.split("?")[0]:(m=t.currentFile)==null?void 0:m.url;window.open(h,"_blank")},a=()=>{i(),o()};re(()=>{t.state.value===null&&r&&(r.value="")});const c=ve(()=>t.state.value!==null?"new-file":t.state.removedCurrent&&t.state.value===null?"no-file":t.state.value===null&&t.currentFile!==void 0?"current-file":"no-file"),f=ve(()=>{var h;return Ef.getMediaType((h=t.state.value)==null?void 0:h.type)});return(()=>{var h=n0(),d=h.firstChild,g=d.nextSibling;I(h,C(wn,{get id(){return t.id},get label(){var p;return(p=t.copy)==null?void 0:p.label},get required(){return t.required},noPadding:!0,get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},theme:"basic"}),d),d.addEventListener("change",p=>{var y;(y=p.currentTarget.files)!=null&&y.length?(t.state.setValue(p.currentTarget.files[0]),t.state.setRemovedCurrent(!1)):(t.state.setValue(null),t.state.setRemovedCurrent(!0))});var m=r;return typeof m=="function"?or(m,d):r=d,g.addEventListener("dragleave",p=>{p.preventDefault(),n(!1)}),g.addEventListener("drop",p=>{var y;p.preventDefault(),(y=p.dataTransfer)!=null&&y.files.length&&(t.state.setValue(p.dataTransfer.files[0]),t.state.setRemovedCurrent(!1)),n(!1)}),g.addEventListener("dragover",p=>{p.preventDefault(),n(!0)}),I(g,C(dr,{get children(){return[C(Ye,{get when(){return c()==="new-file"},get children(){return C(Da,{get data(){var p;return{url:URL.createObjectURL(t.state.value),type:f(),name:(p=t.state.value)==null?void 0:p.name}},actions:{clearFile:i,uploadFile:a}})}}),C(Ye,{get when(){return c()==="no-file"},get children(){var p=t0(),y=p.firstChild,v=y.firstChild,x=v.nextSibling;return I(p,C(Hc,{class:"w-7 h-7 mx-auto text-unfocused mb-5"}),y),I(y,()=>xe()("drag_and_drop_file_or"),v),x.$$click=o,I(x,()=>xe()("upload_here")),I(p,C(he,{get when(){return t.currentFile!==void 0},get children(){var T=e0(),A=T.firstChild;return I(T,C(he,{get when(){return t.disableRemoveCurrent!==!0},get children(){var L=Qm();return I(L,()=>xe()("if_left_blank_file_will_be_removed")),L}}),A),A.$$click=s,I(A,C(Tf,{class:"mr-2 text-sm"}),null),I(A,C(dr,{fallback:"keep current file",get children(){return C(Ye,{get when(){return t.disableRemoveCurrent===!0},get children(){return xe()("back_to_current_file")}})}}),null),T}}),null),p}}),C(Ye,{get when(){return c()==="current-file"},get children(){return C(Da,{get data(){var p,y,v;return{url:(p=t.currentFile)==null?void 0:p.url,type:(y=t.currentFile)==null?void 0:y.type,name:(v=t.currentFile)==null?void 0:v.name}},get actions(){return{clearFile:t.disableRemoveCurrent?void 0:i,downloadFile:l,uploadFile:a}}})}})]}})),I(h,C(vn,{get id(){return t.id},get describedBy(){var p;return(p=t.copy)==null?void 0:p.describedBy}}),null),I(h,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(p=>{var y=ie("w-full",{"mb-0":t.noMargin,"mb-5":!t.noMargin}),v=t.name,x=t.id,T=t.accept,A=ie("w-full border-border border h-80 rounded-md relative overflow-hidden",{"border-dashed border-2":c()==="no-file","border-primary-base":e()});return y!==p.e&&be(h,p.e=y),v!==p.t&&le(d,"name",p.t=v),x!==p.a&&le(d,"id",p.a=x),T!==p.o&&le(d,"accept",p.o=T),A!==p.i&&be(g,p.i=A),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),h})()},Da=t=>{const e=ie("bg-input-base text-input-contrast hover:text-secondary-contrast border border-border h-8 flex justify-center items-center font-medium text-sm py-2 px-2 rounded-md transition-all duration-200 hover:bg-secondary-hover focus:outline-hidden focus:ring-1 focus:ring-primary-base");return(()=>{var n=l0(),r=n.firstChild,i=r.firstChild,s=i.firstChild;return I(n,C(dr,{get fallback(){return(()=>{var o=c0();return I(o,C(Af,{class:"w-10 h-10 mx-auto text-unfocused mb-5"}),null),I(o,C(he,{get when(){return t.data.name},get children(){var l=a0();return I(l,()=>t.data.name),l}}),null),o})()},get children(){return[C(Ye,{get when(){return t.data.type==="image"},get children(){return[(()=>{var o=r0(),l=o.firstChild;return ce(a=>{var c=t.data.url,f=t.data.name;return c!==a.e&&le(l,"src",a.e=c),f!==a.t&&le(l,"alt",a.t=f),a},{e:void 0,t:void 0}),o})(),(()=>{var o=i0();return ce(l=>(l=`url(${t.data.url})`)!=null?o.style.setProperty("background-image",l):o.style.removeProperty("background-image")),o})()]}}),C(Ye,{get when(){return t.data.type==="video"},get children(){var o=s0(),l=o.firstChild;return ce(()=>le(l,"src",t.data.url)),o}}),C(Ye,{get when(){return t.data.type==="audio"},get children(){var o=o0(),l=o.firstChild;return ce(()=>le(l,"src",t.data.url)),o}})]}}),r),I(r,C(he,{get when(){return t.actions.downloadFile!==void 0},get children(){var o=qa(),l=o.firstChild;return o.$$click=()=>{t.actions.downloadFile!==void 0&&t.actions.downloadFile()},I(o,C(Sf,{class:"block md:mr-2 text-current"}),l),I(l,()=>xe()("preview")),ce(()=>be(o,ie(e))),o}}),i),i.$$click=()=>{t.actions.uploadFile()},I(i,C(Hc,{class:"block md:mr-2 text-current"}),s),I(s,()=>xe()("choose_file")),I(r,C(he,{get when(){return t.actions.clearFile!==void 0},get children(){var o=qa(),l=o.firstChild;return o.$$click=()=>{t.actions.clearFile!==void 0&&t.actions.clearFile()},I(o,C(ns,{class:"block md:mr-2 text-current"}),l),I(l,()=>xe()("remove")),ce(()=>be(o,ie(e))),o}}),null),ce(o=>{var l=ie("w-full z-10 relative grid gap-2 p-2 bg-background-base border-t border-border",{"grid-cols-2":t.actions.downloadFile===void 0||t.actions.clearFile===void 0,"grid-cols-3":t.actions.downloadFile!==void 0&&t.actions.clearFile!==void 0}),a=ie(e);return l!==o.e&&be(r,o.e=l),a!==o.t&&be(i,o.t=a),o},{e:void 0,t:void 0}),n})()};$t(["click"]);var u0=Y("<ul class=mt-2.5>"),d0=Y("<div><input type=color>"),f0=Y('<li class=inline-block><button class="focus:outline-hidden focus:ring-1 focus:ring-primary-base focus:ring-opacity-50 rounded-md h-6 w-6 mr-1 border border-border"type=button></button><span class=sr-only>');const q2=t=>{const[e,n]=ee(!1);return(()=>{var r=d0(),i=r.firstChild;return I(r,C(wn,{get id(){return t.id},get label(){var s;return(s=t.copy)==null?void 0:s.label},get focused(){return e()},get required(){return t.required},theme:"basic",get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),i),i.addEventListener("blur",()=>{n(!1)}),i.addEventListener("focus",()=>n(!0)),i.$$input=s=>t.onChange(s.currentTarget.value),i.$$keydown=s=>{s.stopPropagation()},I(r,C(he,{get when(){return t.presets!==void 0},get children(){var s=u0();return I(s,C(rs,{get each(){return t.presets},children:o=>(()=>{var l=f0(),a=l.firstChild,c=a.nextSibling;return a.$$click=()=>t.onChange(o),o!=null?a.style.setProperty("background-color",o):a.style.removeProperty("background-color"),I(c,o),l})()})),s}}),null),I(r,C(vn,{get id(){return t.id},get describedBy(){var s;return(s=t.copy)==null?void 0:s.describedBy}}),null),I(r,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(s=>{var g;var o=ie("mb-2.5 last:mb-0 flex flex-col transition-colors duration-200 ease-in-out relative w-full"),l=ie("focus:outline-hidden disabled:cursor-not-allowed disabled:opacity-80 text-sm text-title font-medium p-1 bg-input-base border border-border h-10 w-full rounded-md mt-1 focus:border-primary-base duration-200 transition-colors"),a=t.id,c=t.name,f=(g=t.copy)!=null&&g.describedBy?`${t.id}-description`:void 0,h=t.required,d=t.disabled;return o!==s.e&&be(r,s.e=o),l!==s.t&&be(i,s.t=l),a!==s.a&&le(i,"id",s.a=a),c!==s.o&&le(i,"name",s.o=c),f!==s.i&&le(i,"aria-describedby",s.i=f),h!==s.n&&(i.required=s.n=h),d!==s.s&&(i.disabled=s.s=d),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),ce(()=>i.value=t.value),r})()};$t(["keydown","input","click"]);var h0=Y('<div><input type=checkbox class=hidden><button type=button><span></span><span></span><span class="bg-secondary-base absolute top-0 bottom-0 transition-all duration-200 rounded-md z-0 group-hover:bg-secondary-hover">');const D2=t=>{let e,n,r,i;const[s,o]=ee(!1),[l,a]=ee({}),c=()=>{if(n&&r&&i){const f=t.value?r:n;a({width:`${f.offsetWidth}px`,transform:`translateX(${t.value?n.offsetWidth:0}px)`})}};return fs(()=>{c()}),re(()=>{t.value,c()}),(()=>{var f=h0(),h=f.firstChild,d=h.nextSibling,g=d.firstChild,m=g.nextSibling,p=m.nextSibling;I(f,C(wn,{get id(){return t.id},get label(){var A;return(A=t.copy)==null?void 0:A.label},get focused(){return s()},get required(){return t.required},theme:"basic",get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),h),h.addEventListener("change",A=>{t.onChange(A.currentTarget.checked)});var y=e;typeof y=="function"?or(y,h):e=h,d.addEventListener("blur",()=>{o(!1)}),d.addEventListener("focus",()=>{o(!0)}),d.$$click=()=>{e==null||e.click()};var v=n;typeof v=="function"?or(v,g):n=g,I(g,()=>{var A;return((A=t.copy)==null?void 0:A.false)||xe()("false")});var x=r;typeof x=="function"?or(x,m):r=m,I(m,()=>{var A;return((A=t.copy)==null?void 0:A.true)||xe()("true")});var T=i;return typeof T=="function"?or(T,p):i=p,I(f,C(vn,{get id(){return t.id},get describedBy(){var A;return(A=t.copy)==null?void 0:A.describedBy}}),null),I(f,C(ff,{get copy(){var A;return(A=t.copy)==null?void 0:A.tooltip},theme:void 0}),null),I(f,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(A=>{var M,P,N;var L=ie("relative",{"mb-0":t.noMargin,"mb-4 last:mb-0":!t.noMargin&&((M=t.options)==null?void 0:M.queryRow)!==!0,"w-full":((P=t.options)==null?void 0:P.queryRow)!==!0}),K=t.id,D=t.name,V=t.disabled,j=ie("bg-input-base h-9 disabled:cursor-not-allowed disabled:opacity-50 rounded-md flex relative focus:outline-hidden ring-1 ring-border focus:ring-1 ring-inset focus:ring-primary-base group",{"mt-1":((N=t.options)==null?void 0:N.queryRow)!==!0}),J=t.disabled,w=ie("flex-1 py-1 px-2 h-full flex items-center justify-center text-center z-10 relative duration-200 transition-colors text-sm",{"text-secondary-contrast":!t.value,"text-title":t.value}),_=ie("flex-1 px-2 h-full py-1 flex items-center justify-center text-center z-10 relative duration-200 transition-colors text-sm",{"text-secondary-contrast":t.value,"text-title":!t.value}),S=l();return L!==A.e&&be(f,A.e=L),K!==A.t&&le(h,"id",A.t=K),D!==A.a&&le(h,"name",A.a=D),V!==A.o&&(h.disabled=A.o=V),j!==A.i&&be(d,A.i=j),J!==A.n&&(d.disabled=A.n=J),w!==A.s&&be(g,A.s=w),_!==A.h&&be(m,A.h=_),A.r=Cf(p,S,A.r),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),ce(()=>h.checked=t.value),f})()};$t(["click"]);var g0=Y('<div class="bg-error-base text-error-contrast rounded-md px-2 text-sm py-1 absolute bottom-2 right-2">Invalid JSON on line '),m0=Y("<div><div><div class=relative><textarea>");const $2=t=>{const[e,n]=ee(!1),[r,i]=ee({hasError:!1,line:0,column:0,position:0}),s=l=>{try{JSON.parse(l),i({hasError:!1,line:0,column:0,position:0})}catch(a){const f=a.message,h=f.match(/position (\d+)/),d=f.match(/line (\d+)/),g=f.match(/column (\d+)/);i({hasError:!0,line:d?Number.parseInt(d[1]):0,column:g?Number.parseInt(g[1]):0,position:h?Number.parseInt(h[1]):0})}},o=l=>{const a=l.currentTarget;s(a.value),t.onChange(a.value)};return(()=>{var l=m0(),a=l.firstChild,c=a.firstChild,f=c.firstChild;return I(a,C(wn,{get id(){return t.id},get label(){var h;return(h=t.copy)==null?void 0:h.label},get focused(){return e()},get required(){return t.required},get theme(){return t.theme},get altLocaleError(){return t.altLocaleError},get localised(){return t.localised},get fieldColumnIsMissing(){return t.fieldColumnIsMissing}}),c),f.addEventListener("blur",()=>{var h;n(!1),(h=t.onBlur)==null||h.call(t)}),f.$$keyup=h=>{var d;return(d=t.onKeyUp)==null?void 0:d.call(t,h)},f.addEventListener("focus",()=>n(!0)),f.$$input=o,f.$$keydown=h=>{h.stopPropagation();const d=h.currentTarget;if(h.key==="Tab"){h.preventDefault();const g=d.selectionStart,m=d.selectionEnd,p=d.value;d.value=`${p.substring(0,g)}	${p.substring(m,p.length)}`,d.selectionStart=d.selectionEnd=g+1}},I(c,C(he,{get when(){return r().hasError},get children(){var h=g0();return h.firstChild,I(h,()=>r().line,null),h}}),null),I(l,C(vn,{get id(){return t.id},get describedBy(){var h;return(h=t.copy)==null?void 0:h.describedBy}}),null),I(l,C(yn,{get id(){return t.id},get errors(){return t.errors}}),null),ce(h=>{var K,D,V,j;var d=ie("w-full",{"mb-0":t.noMargin,"mb-5 last:mb-0":!t.noMargin}),g=ie("flex flex-col transition-colors duration-200 ease-in-out relative",{"border-primary-base":e()&&t.theme==="full","border-error-base":((K=t.errors)==null?void 0:K.message)!==void 0,"bg-input-base rounded-md border":t.theme==="full"}),m=ie("focus:outline-hidden disabled:cursor-not-allowed disabled:opacity-80 text-sm text-title font-medium resize-none w-full h-52 block",{"pt-2":((D=t.copy)==null?void 0:D.label)===void 0,"bg-input-base border border-border rounded-md mt-1 p-2 focus:border-primary-base duration-200 transition-colors":t.theme==="basic","bg-transparent pb-2 px-2 pt-1 rounded-b-md":t.theme==="full"}),p=t.id,y=t.name,v=(V=t.copy)==null?void 0:V.placeholder,x=(j=t.copy)!=null&&j.describedBy?`${t.id}-description`:void 0,T=t.autoFoucs,A=t.required,L=t.disabled;return d!==h.e&&be(l,h.e=d),g!==h.t&&be(a,h.t=g),m!==h.a&&be(f,h.a=m),p!==h.o&&le(f,"id",h.o=p),y!==h.i&&le(f,"name",h.i=y),v!==h.n&&le(f,"placeholder",h.n=v),x!==h.s&&le(f,"aria-describedby",h.s=x),T!==h.h&&(f.autofocus=h.h=T),A!==h.r&&(f.required=h.r=A),L!==h.d&&(f.disabled=h.d=L),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),ce(()=>f.value=t.value),l})()};$t(["keydown","input","keyup"]);var id=typeof global=="object"&&global&&global.Object===Object&&global,b0=typeof self=="object"&&self&&self.Object===Object&&self,Kt=id||b0||Function("return this")(),gn=Kt.Symbol,sd=Object.prototype,p0=sd.hasOwnProperty,y0=sd.toString,Br=gn?gn.toStringTag:void 0;function v0(t){var e=p0.call(t,Br),n=t[Br];try{t[Br]=void 0;var r=!0}catch{}var i=y0.call(t);return r&&(e?t[Br]=n:delete t[Br]),i}var w0=Object.prototype,x0=w0.toString;function E0(t){return x0.call(t)}var T0="[object Null]",A0="[object Undefined]",$a=gn?gn.toStringTag:void 0;function wr(t){return t==null?t===void 0?A0:T0:$a&&$a in Object(t)?v0(t):E0(t)}function Zt(t){return t!=null&&typeof t=="object"}var _n=Array.isArray;function bn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function od(t){return t}var S0="[object AsyncFunction]",C0="[object Function]",L0="[object GeneratorFunction]",N0="[object Proxy]";function $l(t){if(!bn(t))return!1;var e=wr(t);return e==C0||e==L0||e==S0||e==N0}var Ao=Kt["__core-js_shared__"],Ba=function(){var t=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function O0(t){return!!Ba&&Ba in t}var _0=Function.prototype,k0=_0.toString;function Mn(t){if(t!=null){try{return k0.call(t)}catch{}try{return t+""}catch{}}return""}var I0=/[\\^$.*+?()[\]{}|]/g,R0=/^\[object .+?Constructor\]$/,M0=Function.prototype,P0=Object.prototype,q0=M0.toString,D0=P0.hasOwnProperty,$0=RegExp("^"+q0.call(D0).replace(I0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B0(t){if(!bn(t)||O0(t))return!1;var e=$l(t)?$0:R0;return e.test(Mn(t))}function F0(t,e){return t==null?void 0:t[e]}function Pn(t,e){var n=F0(t,e);return B0(n)?n:void 0}var Go=Pn(Kt,"WeakMap"),Fa=Object.create,K0=function(){function t(){}return function(e){if(!bn(e))return{};if(Fa)return Fa(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function j0(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function U0(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var z0=800,H0=16,V0=Date.now;function G0(t){var e=0,n=0;return function(){var r=V0(),i=H0-(r-n);if(n=r,i>0){if(++e>=z0)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function W0(t){return function(){return t}}var as=function(){try{var t=Pn(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Z0=as?function(t,e){return as(t,"toString",{configurable:!0,enumerable:!1,value:W0(e),writable:!0})}:od,Y0=G0(Z0);function X0(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var J0=9007199254740991,Q0=/^(?:0|[1-9]\d*)$/;function ld(t,e){var n=typeof t;return e=e??J0,!!e&&(n=="number"||n!="symbol"&&Q0.test(t))&&t>-1&&t%1==0&&t<e}function Bl(t,e,n){e=="__proto__"&&as?as(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function hi(t,e){return t===e||t!==t&&e!==e}var eb=Object.prototype,tb=eb.hasOwnProperty;function ad(t,e,n){var r=t[e];(!(tb.call(t,e)&&hi(r,n))||n===void 0&&!(e in t))&&Bl(t,e,n)}function nb(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var l=e[s],a=void 0;a===void 0&&(a=t[l]),i?Bl(n,l,a):ad(n,l,a)}return n}var Ka=Math.max;function rb(t,e,n){return e=Ka(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Ka(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),j0(t,this,l)}}function ib(t,e){return Y0(rb(t,e,od),t+"")}var sb=9007199254740991;function cd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sb}function As(t){return t!=null&&cd(t.length)&&!$l(t)}function ob(t,e,n){if(!bn(n))return!1;var r=typeof e;return(r=="number"?As(n)&&ld(e,n.length):r=="string"&&e in n)?hi(n[e],t):!1}function lb(t){return ib(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&ob(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,s)}return e})}var ab=Object.prototype;function Fl(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ab;return t===n}function cb(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ub="[object Arguments]";function ja(t){return Zt(t)&&wr(t)==ub}var ud=Object.prototype,db=ud.hasOwnProperty,fb=ud.propertyIsEnumerable,Wo=ja(function(){return arguments}())?ja:function(t){return Zt(t)&&db.call(t,"callee")&&!fb.call(t,"callee")};function hb(){return!1}var dd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ua=dd&&typeof module=="object"&&module&&!module.nodeType&&module,gb=Ua&&Ua.exports===dd,za=gb?Kt.Buffer:void 0,mb=za?za.isBuffer:void 0,ni=mb||hb,bb="[object Arguments]",pb="[object Array]",yb="[object Boolean]",vb="[object Date]",wb="[object Error]",xb="[object Function]",Eb="[object Map]",Tb="[object Number]",Ab="[object Object]",Sb="[object RegExp]",Cb="[object Set]",Lb="[object String]",Nb="[object WeakMap]",Ob="[object ArrayBuffer]",_b="[object DataView]",kb="[object Float32Array]",Ib="[object Float64Array]",Rb="[object Int8Array]",Mb="[object Int16Array]",Pb="[object Int32Array]",qb="[object Uint8Array]",Db="[object Uint8ClampedArray]",$b="[object Uint16Array]",Bb="[object Uint32Array]",Ne={};Ne[kb]=Ne[Ib]=Ne[Rb]=Ne[Mb]=Ne[Pb]=Ne[qb]=Ne[Db]=Ne[$b]=Ne[Bb]=!0;Ne[bb]=Ne[pb]=Ne[Ob]=Ne[yb]=Ne[_b]=Ne[vb]=Ne[wb]=Ne[xb]=Ne[Eb]=Ne[Tb]=Ne[Ab]=Ne[Sb]=Ne[Cb]=Ne[Lb]=Ne[Nb]=!1;function Fb(t){return Zt(t)&&cd(t.length)&&!!Ne[wr(t)]}function Kl(t){return function(e){return t(e)}}var fd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gr=fd&&typeof module=="object"&&module&&!module.nodeType&&module,Kb=Gr&&Gr.exports===fd,So=Kb&&id.process,hr=function(){try{var t=Gr&&Gr.require&&Gr.require("util").types;return t||So&&So.binding&&So.binding("util")}catch{}}(),Ha=hr&&hr.isTypedArray,jl=Ha?Kl(Ha):Fb,jb=Object.prototype,Ub=jb.hasOwnProperty;function hd(t,e){var n=_n(t),r=!n&&Wo(t),i=!n&&!r&&ni(t),s=!n&&!r&&!i&&jl(t),o=n||r||i||s,l=o?cb(t.length,String):[],a=l.length;for(var c in t)(e||Ub.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ld(c,a)))&&l.push(c);return l}function gd(t,e){return function(n){return t(e(n))}}var zb=gd(Object.keys,Object),Hb=Object.prototype,Vb=Hb.hasOwnProperty;function Gb(t){if(!Fl(t))return zb(t);var e=[];for(var n in Object(t))Vb.call(t,n)&&n!="constructor"&&e.push(n);return e}function Wb(t){return As(t)?hd(t):Gb(t)}function Zb(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Yb=Object.prototype,Xb=Yb.hasOwnProperty;function Jb(t){if(!bn(t))return Zb(t);var e=Fl(t),n=[];for(var r in t)r=="constructor"&&(e||!Xb.call(t,r))||n.push(r);return n}function md(t){return As(t)?hd(t,!0):Jb(t)}var ri=Pn(Object,"create");function Qb(){this.__data__=ri?ri(null):{},this.size=0}function e1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var t1="__lodash_hash_undefined__",n1=Object.prototype,r1=n1.hasOwnProperty;function i1(t){var e=this.__data__;if(ri){var n=e[t];return n===t1?void 0:n}return r1.call(e,t)?e[t]:void 0}var s1=Object.prototype,o1=s1.hasOwnProperty;function l1(t){var e=this.__data__;return ri?e[t]!==void 0:o1.call(e,t)}var a1="__lodash_hash_undefined__";function c1(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ri&&e===void 0?a1:e,this}function kn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kn.prototype.clear=Qb;kn.prototype.delete=e1;kn.prototype.get=i1;kn.prototype.has=l1;kn.prototype.set=c1;function u1(){this.__data__=[],this.size=0}function Ss(t,e){for(var n=t.length;n--;)if(hi(t[n][0],e))return n;return-1}var d1=Array.prototype,f1=d1.splice;function h1(t){var e=this.__data__,n=Ss(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():f1.call(e,n,1),--this.size,!0}function g1(t){var e=this.__data__,n=Ss(e,t);return n<0?void 0:e[n][1]}function m1(t){return Ss(this.__data__,t)>-1}function b1(t,e){var n=this.__data__,r=Ss(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function en(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}en.prototype.clear=u1;en.prototype.delete=h1;en.prototype.get=g1;en.prototype.has=m1;en.prototype.set=b1;var ii=Pn(Kt,"Map");function p1(){this.size=0,this.__data__={hash:new kn,map:new(ii||en),string:new kn}}function y1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Cs(t,e){var n=t.__data__;return y1(e)?n[typeof e=="string"?"string":"hash"]:n.map}function v1(t){var e=Cs(this,t).delete(t);return this.size-=e?1:0,e}function w1(t){return Cs(this,t).get(t)}function x1(t){return Cs(this,t).has(t)}function E1(t,e){var n=Cs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function qn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qn.prototype.clear=p1;qn.prototype.delete=v1;qn.prototype.get=w1;qn.prototype.has=x1;qn.prototype.set=E1;function T1(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var bd=gd(Object.getPrototypeOf,Object),A1="[object Object]",S1=Function.prototype,C1=Object.prototype,pd=S1.toString,L1=C1.hasOwnProperty,N1=pd.call(Object);function O1(t){if(!Zt(t)||wr(t)!=A1)return!1;var e=bd(t);if(e===null)return!0;var n=L1.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pd.call(n)==N1}function _1(){this.__data__=new en,this.size=0}function k1(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function I1(t){return this.__data__.get(t)}function R1(t){return this.__data__.has(t)}var M1=200;function P1(t,e){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!ii||r.length<M1-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(t,e),this.size=n.size,this}function It(t){var e=this.__data__=new en(t);this.size=e.size}It.prototype.clear=_1;It.prototype.delete=k1;It.prototype.get=I1;It.prototype.has=R1;It.prototype.set=P1;var yd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Va=yd&&typeof module=="object"&&module&&!module.nodeType&&module,q1=Va&&Va.exports===yd,Ga=q1?Kt.Buffer:void 0,Wa=Ga?Ga.allocUnsafe:void 0;function vd(t,e){if(e)return t.slice();var n=t.length,r=Wa?Wa(n):new t.constructor(n);return t.copy(r),r}function D1(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function $1(){return[]}var B1=Object.prototype,F1=B1.propertyIsEnumerable,Za=Object.getOwnPropertySymbols,K1=Za?function(t){return t==null?[]:(t=Object(t),D1(Za(t),function(e){return F1.call(t,e)}))}:$1;function j1(t,e,n){var r=e(t);return _n(t)?r:T1(r,n(t))}function Zo(t){return j1(t,Wb,K1)}var Yo=Pn(Kt,"DataView"),Xo=Pn(Kt,"Promise"),Jo=Pn(Kt,"Set"),Ya="[object Map]",U1="[object Object]",Xa="[object Promise]",Ja="[object Set]",Qa="[object WeakMap]",ec="[object DataView]",z1=Mn(Yo),H1=Mn(ii),V1=Mn(Xo),G1=Mn(Jo),W1=Mn(Go),pt=wr;(Yo&&pt(new Yo(new ArrayBuffer(1)))!=ec||ii&&pt(new ii)!=Ya||Xo&&pt(Xo.resolve())!=Xa||Jo&&pt(new Jo)!=Ja||Go&&pt(new Go)!=Qa)&&(pt=function(t){var e=wr(t),n=e==U1?t.constructor:void 0,r=n?Mn(n):"";if(r)switch(r){case z1:return ec;case H1:return Ya;case V1:return Xa;case G1:return Ja;case W1:return Qa}return e});var Z1=Object.prototype,Y1=Z1.hasOwnProperty;function X1(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Y1.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var cs=Kt.Uint8Array;function Ul(t){var e=new t.constructor(t.byteLength);return new cs(e).set(new cs(t)),e}function J1(t,e){var n=Ul(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var Q1=/\w*$/;function ep(t){var e=new t.constructor(t.source,Q1.exec(t));return e.lastIndex=t.lastIndex,e}var tc=gn?gn.prototype:void 0,nc=tc?tc.valueOf:void 0;function tp(t){return nc?Object(nc.call(t)):{}}function wd(t,e){var n=e?Ul(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var np="[object Boolean]",rp="[object Date]",ip="[object Map]",sp="[object Number]",op="[object RegExp]",lp="[object Set]",ap="[object String]",cp="[object Symbol]",up="[object ArrayBuffer]",dp="[object DataView]",fp="[object Float32Array]",hp="[object Float64Array]",gp="[object Int8Array]",mp="[object Int16Array]",bp="[object Int32Array]",pp="[object Uint8Array]",yp="[object Uint8ClampedArray]",vp="[object Uint16Array]",wp="[object Uint32Array]";function xp(t,e,n){var r=t.constructor;switch(e){case up:return Ul(t);case np:case rp:return new r(+t);case dp:return J1(t);case fp:case hp:case gp:case mp:case bp:case pp:case yp:case vp:case wp:return wd(t,n);case ip:return new r;case sp:case ap:return new r(t);case op:return ep(t);case lp:return new r;case cp:return tp(t)}}function xd(t){return typeof t.constructor=="function"&&!Fl(t)?K0(bd(t)):{}}var Ep="[object Map]";function Tp(t){return Zt(t)&&pt(t)==Ep}var rc=hr&&hr.isMap,Ap=rc?Kl(rc):Tp,Sp="[object Set]";function Cp(t){return Zt(t)&&pt(t)==Sp}var ic=hr&&hr.isSet,Lp=ic?Kl(ic):Cp,Np=1,Ed="[object Arguments]",Op="[object Array]",_p="[object Boolean]",kp="[object Date]",Ip="[object Error]",Td="[object Function]",Rp="[object GeneratorFunction]",Mp="[object Map]",Pp="[object Number]",Ad="[object Object]",qp="[object RegExp]",Dp="[object Set]",$p="[object String]",Bp="[object Symbol]",Fp="[object WeakMap]",Kp="[object ArrayBuffer]",jp="[object DataView]",Up="[object Float32Array]",zp="[object Float64Array]",Hp="[object Int8Array]",Vp="[object Int16Array]",Gp="[object Int32Array]",Wp="[object Uint8Array]",Zp="[object Uint8ClampedArray]",Yp="[object Uint16Array]",Xp="[object Uint32Array]",Ce={};Ce[Ed]=Ce[Op]=Ce[Kp]=Ce[jp]=Ce[_p]=Ce[kp]=Ce[Up]=Ce[zp]=Ce[Hp]=Ce[Vp]=Ce[Gp]=Ce[Mp]=Ce[Pp]=Ce[Ad]=Ce[qp]=Ce[Dp]=Ce[$p]=Ce[Bp]=Ce[Wp]=Ce[Zp]=Ce[Yp]=Ce[Xp]=!0;Ce[Ip]=Ce[Td]=Ce[Fp]=!1;function Ji(t,e,n,r,i,s){var o,l=e&Np;if(o!==void 0)return o;if(!bn(t))return t;var a=_n(t);if(a)o=X1(t);else{var c=pt(t),f=c==Td||c==Rp;if(ni(t))return vd(t,l);if(c==Ad||c==Ed||f&&!i)o=f?{}:xd(t);else{if(!Ce[c])return i?t:{};o=xp(t,c,l)}}s||(s=new It);var h=s.get(t);if(h)return h;s.set(t,o),Lp(t)?t.forEach(function(m){o.add(Ji(m,e,n,m,t,s))}):Ap(t)&&t.forEach(function(m,p){o.set(p,Ji(m,e,n,p,t,s))});var d=Zo,g=a?void 0:d(t);return X0(g||t,function(m,p){g&&(p=m,m=t[p]),ad(o,p,Ji(m,e,n,p,t,s))}),o}var Jp=1,Qp=4;function ar(t){return Ji(t,Jp|Qp)}var ey="__lodash_hash_undefined__";function ty(t){return this.__data__.set(t,ey),this}function ny(t){return this.__data__.has(t)}function us(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qn;++e<n;)this.add(t[e])}us.prototype.add=us.prototype.push=ty;us.prototype.has=ny;function ry(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function iy(t,e){return t.has(e)}var sy=1,oy=2;function Sd(t,e,n,r,i,s){var o=n&sy,l=t.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var h=-1,d=!0,g=n&oy?new us:void 0;for(s.set(t,e),s.set(e,t);++h<l;){var m=t[h],p=e[h];if(r)var y=o?r(p,m,h,e,t,s):r(m,p,h,t,e,s);if(y!==void 0){if(y)continue;d=!1;break}if(g){if(!ry(e,function(v,x){if(!iy(g,x)&&(m===v||i(m,v,n,r,s)))return g.push(x)})){d=!1;break}}else if(!(m===p||i(m,p,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function ly(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function ay(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cy=1,uy=2,dy="[object Boolean]",fy="[object Date]",hy="[object Error]",gy="[object Map]",my="[object Number]",by="[object RegExp]",py="[object Set]",yy="[object String]",vy="[object Symbol]",wy="[object ArrayBuffer]",xy="[object DataView]",sc=gn?gn.prototype:void 0,Co=sc?sc.valueOf:void 0;function Ey(t,e,n,r,i,s,o){switch(n){case xy:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wy:return!(t.byteLength!=e.byteLength||!s(new cs(t),new cs(e)));case dy:case fy:case my:return hi(+t,+e);case hy:return t.name==e.name&&t.message==e.message;case by:case yy:return t==e+"";case gy:var l=ly;case py:var a=r&cy;if(l||(l=ay),t.size!=e.size&&!a)return!1;var c=o.get(t);if(c)return c==e;r|=uy,o.set(t,e);var f=Sd(l(t),l(e),r,i,s,o);return o.delete(t),f;case vy:if(Co)return Co.call(t)==Co.call(e)}return!1}var Ty=1,Ay=Object.prototype,Sy=Ay.hasOwnProperty;function Cy(t,e,n,r,i,s){var o=n&Ty,l=Zo(t),a=l.length,c=Zo(e),f=c.length;if(a!=f&&!o)return!1;for(var h=a;h--;){var d=l[h];if(!(o?d in e:Sy.call(e,d)))return!1}var g=s.get(t),m=s.get(e);if(g&&m)return g==e&&m==t;var p=!0;s.set(t,e),s.set(e,t);for(var y=o;++h<a;){d=l[h];var v=t[d],x=e[d];if(r)var T=o?r(x,v,d,e,t,s):r(v,x,d,t,e,s);if(!(T===void 0?v===x||i(v,x,n,r,s):T)){p=!1;break}y||(y=d=="constructor")}if(p&&!y){var A=t.constructor,L=e.constructor;A!=L&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof L=="function"&&L instanceof L)&&(p=!1)}return s.delete(t),s.delete(e),p}var Ly=1,oc="[object Arguments]",lc="[object Array]",Ki="[object Object]",Ny=Object.prototype,ac=Ny.hasOwnProperty;function Oy(t,e,n,r,i,s){var o=_n(t),l=_n(e),a=o?lc:pt(t),c=l?lc:pt(e);a=a==oc?Ki:a,c=c==oc?Ki:c;var f=a==Ki,h=c==Ki,d=a==c;if(d&&ni(t)){if(!ni(e))return!1;o=!0,f=!1}if(d&&!f)return s||(s=new It),o||jl(t)?Sd(t,e,n,r,i,s):Ey(t,e,a,n,r,i,s);if(!(n&Ly)){var g=f&&ac.call(t,"__wrapped__"),m=h&&ac.call(e,"__wrapped__");if(g||m){var p=g?t.value():t,y=m?e.value():e;return s||(s=new It),i(p,y,n,r,s)}}return d?(s||(s=new It),Cy(t,e,n,r,i,s)):!1}function Cd(t,e,n,r,i){return t===e?!0:t==null||e==null||!Zt(t)&&!Zt(e)?t!==t&&e!==e:Oy(t,e,n,r,Cd,i)}function _y(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var a=o[++i];if(n(s[a],a,s)===!1)break}return e}}var ky=_y();function Qo(t,e,n){(n!==void 0&&!hi(t[e],n)||n===void 0&&!(e in t))&&Bl(t,e,n)}function Iy(t){return Zt(t)&&As(t)}function el(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Ry(t){return nb(t,md(t))}function My(t,e,n,r,i,s,o){var l=el(t,n),a=el(e,n),c=o.get(a);if(c){Qo(t,n,c);return}var f=s?s(l,a,n+"",t,e,o):void 0,h=f===void 0;if(h){var d=_n(a),g=!d&&ni(a),m=!d&&!g&&jl(a);f=a,d||g||m?_n(l)?f=l:Iy(l)?f=U0(l):g?(h=!1,f=vd(a,!0)):m?(h=!1,f=wd(a,!0)):f=[]:O1(a)||Wo(a)?(f=l,Wo(l)?f=Ry(l):(!bn(l)||$l(l))&&(f=xd(a))):h=!1}h&&(o.set(a,f),i(f,a,r,s,o),o.delete(a)),Qo(t,n,f)}function Ld(t,e,n,r,i){t!==e&&ky(e,function(s,o){if(i||(i=new It),bn(s))My(t,e,o,n,Ld,r,i);else{var l=r?r(el(t,o),s,o+"",t,e,i):void 0;l===void 0&&(l=s),Qo(t,o,l)}},md)}function zl(t,e){return Cd(t,e)}var un=lb(function(t,e,n){Ld(t,e,n)}),W=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(W||{});class qt{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const i=W.TYPE&W.ATTRIBUTE;this.scope=r.scope!=null?r.scope&W.LEVEL|i:W.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class cr extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Nd=class tl{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const i=this.query(n);if(i==null)throw new cr(`Unable to create ${n} blot`);const s=i,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(r),l=new s(e,o,r);return tl.blots.set(l.domNode,l),l}find(e,n=!1){return tl.find(e,n)}query(e,n=W.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&W.LEVEL&W.BLOCK?r=this.types.block:e&W.LEVEL&W.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&W.LEVEL&r.scope&&n&W.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,i="attrName"in n;if(!r&&!i)throw new cr("Invalid definition");if(r&&n.blotName==="abstract")throw new cr("Cannot register abstract class");const s=r?n.blotName:i?n.attrName:void 0;return this.types[s]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};Nd.blots=new WeakMap;let gr=Nd;function cc(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class Py extends qt{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){cc(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(cc(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Tt=Py;function Lo(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class qy extends qt{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Lo(this.keyName)]=n,!0):!1}remove(e){e.style[Lo(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Lo(this.keyName)];return this.canAdd(e,n)?n:""}}const pn=qy;class Dy{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=gr.find(this.domNode);if(e==null)return;const n=qt.keys(this.domNode),r=Tt.keys(this.domNode),i=pn.keys(this.domNode);n.concat(r).concat(i).forEach(s=>{const o=e.scroll.query(s,W.ATTRIBUTE);o instanceof qt&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Ls=Dy,Od=class{constructor(e,n){this.scroll=e,this.domNode=n,gr.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new cr("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),gr.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,i){const s=this.isolate(e,n);if(this.scroll.query(r,W.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,W.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(e,n,r){const i=r==null?this.scroll.create("text",n):this.scroll.create(n,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new cr(`Cannot wrap ${e}`);return r.appendChild(this),r}};Od.blotName="abstract";let _d=Od;const kd=class extends _d{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};kd.scope=W.INLINE_BLOT;let $y=kd;const ze=$y;class By{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),i=0;for(;r;){if(r===e)return i;i+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||n&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[i,s]=this.find(e);let o=e-s;const l=this.iterator(i);let a=l();for(;a&&o<e+n;){const c=a.length();e>o?r(a,e-o,Math.min(n,o+c-e)):r(a,0,Math.min(c,e+n-o)),o+=c,a=l()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let i=r();for(;i;)n=e(n,i),i=r();return n}}function uc(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(W.INLINE);return Array.from(t.childNodes).forEach(i=>{r.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const Id=class sn extends _d{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,sn.uiClass&&this.uiNode.classList.add(sn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new By,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=uc(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof cr)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,n=0){const[r,i]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof sn?r.descendant(e,i):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(n,r,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof sn&&(i=i.concat(o.descendants(e,l,s))),s-=a}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===W.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof sn?n.unwrap():n.remove())})}formatAt(e,n,r,i){this.children.forEachAt(e,n,(s,o,l)=>{s.formatAt(o,l,r,i)})}insertAt(e,n,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,n,r);else{const o=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(o)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,i]=this.children.find(e,n),s=[[this,e]];return r instanceof sn?s.concat(r.path(i,n)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof sn&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,o)=>{const l=i.split(s,n);l!=null&&r.appendChild(l)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const l=uc(s,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};Id.uiClass="";let Fy=Id;const vt=Fy;function Ky(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const er=class tr extends vt{static create(e){return super.create(e)}static formats(e,n){const r=n.query(tr.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ls(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof tr||(r=r.wrap(tr.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,W.INLINE);if(r==null)return;r instanceof qt?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.formats()[r]!=null||this.scroll.query(r,W.ATTRIBUTE)?this.isolate(e,n).format(r,i):super.formatAt(e,n,r,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof tr&&r.prev===this&&Ky(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof tr&&this.attributes.move(r),r}};er.allowedChildren=[er,ze],er.blotName="inline",er.scope=W.INLINE_BLOT,er.tagName="SPAN";let jy=er;const Hl=jy,nr=class nl extends vt{static create(e){return super.create(e)}static formats(e,n){const r=n.query(nl.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ls(this.domNode)}format(e,n){const r=this.scroll.query(e,W.BLOCK);r!=null&&(r instanceof qt?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(nl.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.scroll.query(r,W.BLOCK)!=null?this.format(r,i):super.formatAt(e,n,r,i)}insertAt(e,n,r){if(r==null||this.scroll.query(n,W.INLINE)!=null)super.insertAt(e,n,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(n,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};nr.blotName="block",nr.scope=W.BLOCK_BLOT,nr.tagName="P",nr.allowedChildren=[Hl,nr,ze];let Uy=nr;const si=Uy,rl=class extends vt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,i){super.formatAt(e,n,r,i),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};rl.blotName="container",rl.scope=W.BLOCK_BLOT;let zy=rl;const Ns=zy;class Hy extends ze{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,i){e===0&&n===this.length()?this.format(r,i):super.formatAt(e,n,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const nt=Hy,Vy={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Gy=100,rr=class extends vt{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Vy),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=W.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,i){this.update(),super.formatAt(e,n,r,i)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(r.has(a.domNode)||r.set(a.domNode,[]),c&&s(a.parent))},o=a=>{r.has(a.domNode)&&(a instanceof vt&&a.children.forEach(o),r.delete(a.domNode),a.optimize(n))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=Gy)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const f=this.find(c.target,!0);f!=null&&(f.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(h=>{const d=this.find(h,!1);s(d,!1),d instanceof vt&&d.children.forEach(g=>{s(g,!1)})})):c.type==="attributes"&&s(f.prev)),s(f))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};rr.blotName="scroll",rr.defaultChild=si,rr.allowedChildren=[si,Ns],rr.scope=W.BLOCK_BLOT,rr.tagName="DIV";let Wy=rr;const Vl=Wy,il=class Rd extends ze{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Rd&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};il.blotName="text",il.scope=W.INLINE_BLOT;let Zy=il;const ds=Zy,Yy=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qt,AttributorStore:Ls,BlockBlot:si,ClassAttributor:Tt,ContainerBlot:Ns,EmbedBlot:nt,InlineBlot:Hl,LeafBlot:ze,ParentBlot:vt,Registry:gr,Scope:W,ScrollBlot:Vl,StyleAttributor:pn,TextBlot:ds},Symbol.toStringTag,{value:"Module"}));var ji={exports:{}},No,dc;function Xy(){if(dc)return No;dc=1;var t=-1,e=1,n=0;function r(w,_,S,M,P){if(w===_)return w?[[n,w]]:[];if(S!=null){var N=j(w,_,S);if(N)return N}var R=l(w,_),B=w.substring(0,R);w=w.substring(R),_=_.substring(R),R=c(w,_);var z=w.substring(w.length-R);w=w.substring(0,w.length-R),_=_.substring(0,_.length-R);var U=i(w,_);return B&&U.unshift([n,B]),z&&U.push([n,z]),x(U,P),M&&h(U),U}function i(w,_){var S;if(!w)return[[e,_]];if(!_)return[[t,w]];var M=w.length>_.length?w:_,P=w.length>_.length?_:w,N=M.indexOf(P);if(N!==-1)return S=[[e,M.substring(0,N)],[n,P],[e,M.substring(N+P.length)]],w.length>_.length&&(S[0][0]=S[2][0]=t),S;if(P.length===1)return[[t,w],[e,_]];var R=f(w,_);if(R){var B=R[0],z=R[1],U=R[2],te=R[3],Q=R[4],oe=r(B,U),ae=r(z,te);return oe.concat([[n,Q]],ae)}return s(w,_)}function s(w,_){for(var S=w.length,M=_.length,P=Math.ceil((S+M)/2),N=P,R=2*P,B=new Array(R),z=new Array(R),U=0;U<R;U++)B[U]=-1,z[U]=-1;B[N+1]=0,z[N+1]=0;for(var te=S-M,Q=te%2!==0,oe=0,ae=0,X=0,Ae=0,Se=0;Se<P;Se++){for(var F=-Se+oe;F<=Se-ae;F+=2){var se=N+F,ue;F===-Se||F!==Se&&B[se-1]<B[se+1]?ue=B[se+1]:ue=B[se-1]+1;for(var pe=ue-F;ue<S&&pe<M&&w.charAt(ue)===_.charAt(pe);)ue++,pe++;if(B[se]=ue,ue>S)ae+=2;else if(pe>M)oe+=2;else if(Q){var we=N+te-F;if(we>=0&&we<R&&z[we]!==-1){var Ee=S-z[we];if(ue>=Ee)return o(w,_,ue,pe)}}}for(var ke=-Se+X;ke<=Se-Ae;ke+=2){var we=N+ke,Ee;ke===-Se||ke!==Se&&z[we-1]<z[we+1]?Ee=z[we+1]:Ee=z[we-1]+1;for(var $e=Ee-ke;Ee<S&&$e<M&&w.charAt(S-Ee-1)===_.charAt(M-$e-1);)Ee++,$e++;if(z[we]=Ee,Ee>S)Ae+=2;else if($e>M)X+=2;else if(!Q){var se=N+te-ke;if(se>=0&&se<R&&B[se]!==-1){var ue=B[se],pe=N+ue-se;if(Ee=S-Ee,ue>=Ee)return o(w,_,ue,pe)}}}}return[[t,w],[e,_]]}function o(w,_,S,M){var P=w.substring(0,S),N=_.substring(0,M),R=w.substring(S),B=_.substring(M),z=r(P,N),U=r(R,B);return z.concat(U)}function l(w,_){if(!w||!_||w.charAt(0)!==_.charAt(0))return 0;for(var S=0,M=Math.min(w.length,_.length),P=M,N=0;S<P;)w.substring(N,P)==_.substring(N,P)?(S=P,N=S):M=P,P=Math.floor((M-S)/2+S);return T(w.charCodeAt(P-1))&&P--,P}function a(w,_){var S=w.length,M=_.length;if(S==0||M==0)return 0;S>M?w=w.substring(S-M):S<M&&(_=_.substring(0,S));var P=Math.min(S,M);if(w==_)return P;for(var N=0,R=1;;){var B=w.substring(P-R),z=_.indexOf(B);if(z==-1)return N;R+=z,(z==0||w.substring(P-R)==_.substring(0,R))&&(N=R,R++)}}function c(w,_){if(!w||!_||w.slice(-1)!==_.slice(-1))return 0;for(var S=0,M=Math.min(w.length,_.length),P=M,N=0;S<P;)w.substring(w.length-P,w.length-N)==_.substring(_.length-P,_.length-N)?(S=P,N=S):M=P,P=Math.floor((M-S)/2+S);return A(w.charCodeAt(w.length-P))&&P--,P}function f(w,_){var S=w.length>_.length?w:_,M=w.length>_.length?_:w;if(S.length<4||M.length*2<S.length)return null;function P(ae,X,Ae){for(var Se=ae.substring(Ae,Ae+Math.floor(ae.length/4)),F=-1,se="",ue,pe,we,Ee;(F=X.indexOf(Se,F+1))!==-1;){var ke=l(ae.substring(Ae),X.substring(F)),$e=c(ae.substring(0,Ae),X.substring(0,F));se.length<$e+ke&&(se=X.substring(F-$e,F)+X.substring(F,F+ke),ue=ae.substring(0,Ae-$e),pe=ae.substring(Ae+ke),we=X.substring(0,F-$e),Ee=X.substring(F+ke))}return se.length*2>=ae.length?[ue,pe,we,Ee,se]:null}var N=P(S,M,Math.ceil(S.length/4)),R=P(S,M,Math.ceil(S.length/2)),B;if(!N&&!R)return null;R?N?B=N[4].length>R[4].length?N:R:B=R:B=N;var z,U,te,Q;w.length>_.length?(z=B[0],U=B[1],te=B[2],Q=B[3]):(te=B[0],Q=B[1],z=B[2],U=B[3]);var oe=B[4];return[z,U,te,Q,oe]}function h(w){for(var _=!1,S=[],M=0,P=null,N=0,R=0,B=0,z=0,U=0;N<w.length;)w[N][0]==n?(S[M++]=N,R=z,B=U,z=0,U=0,P=w[N][1]):(w[N][0]==e?z+=w[N][1].length:U+=w[N][1].length,P&&P.length<=Math.max(R,B)&&P.length<=Math.max(z,U)&&(w.splice(S[M-1],0,[t,P]),w[S[M-1]+1][0]=e,M--,M--,N=M>0?S[M-1]:-1,R=0,B=0,z=0,U=0,P=null,_=!0)),N++;for(_&&x(w),v(w),N=1;N<w.length;){if(w[N-1][0]==t&&w[N][0]==e){var te=w[N-1][1],Q=w[N][1],oe=a(te,Q),ae=a(Q,te);oe>=ae?(oe>=te.length/2||oe>=Q.length/2)&&(w.splice(N,0,[n,Q.substring(0,oe)]),w[N-1][1]=te.substring(0,te.length-oe),w[N+1][1]=Q.substring(oe),N++):(ae>=te.length/2||ae>=Q.length/2)&&(w.splice(N,0,[n,te.substring(0,ae)]),w[N-1][0]=e,w[N-1][1]=Q.substring(0,Q.length-ae),w[N+1][0]=t,w[N+1][1]=te.substring(ae),N++),N++}N++}}var d=/[^a-zA-Z0-9]/,g=/\s/,m=/[\r\n]/,p=/\n\r?\n$/,y=/^\r?\n\r?\n/;function v(w){function _(ae,X){if(!ae||!X)return 6;var Ae=ae.charAt(ae.length-1),Se=X.charAt(0),F=Ae.match(d),se=Se.match(d),ue=F&&Ae.match(g),pe=se&&Se.match(g),we=ue&&Ae.match(m),Ee=pe&&Se.match(m),ke=we&&ae.match(p),$e=Ee&&X.match(y);return ke||$e?5:we||Ee?4:F&&!ue&&pe?3:ue||pe?2:F||se?1:0}for(var S=1;S<w.length-1;){if(w[S-1][0]==n&&w[S+1][0]==n){var M=w[S-1][1],P=w[S][1],N=w[S+1][1],R=c(M,P);if(R){var B=P.substring(P.length-R);M=M.substring(0,M.length-R),P=B+P.substring(0,P.length-R),N=B+N}for(var z=M,U=P,te=N,Q=_(M,P)+_(P,N);P.charAt(0)===N.charAt(0);){M+=P.charAt(0),P=P.substring(1)+N.charAt(0),N=N.substring(1);var oe=_(M,P)+_(P,N);oe>=Q&&(Q=oe,z=M,U=P,te=N)}w[S-1][1]!=z&&(z?w[S-1][1]=z:(w.splice(S-1,1),S--),w[S][1]=U,te?w[S+1][1]=te:(w.splice(S+1,1),S--))}S++}}function x(w,_){w.push([n,""]);for(var S=0,M=0,P=0,N="",R="",B;S<w.length;){if(S<w.length-1&&!w[S][1]){w.splice(S,1);continue}switch(w[S][0]){case e:P++,R+=w[S][1],S++;break;case t:M++,N+=w[S][1],S++;break;case n:var z=S-P-M-1;if(_){if(z>=0&&K(w[z][1])){var U=w[z][1].slice(-1);if(w[z][1]=w[z][1].slice(0,-1),N=U+N,R=U+R,!w[z][1]){w.splice(z,1),S--;var te=z-1;w[te]&&w[te][0]===e&&(P++,R=w[te][1]+R,te--),w[te]&&w[te][0]===t&&(M++,N=w[te][1]+N,te--),z=te}}if(L(w[S][1])){var U=w[S][1].charAt(0);w[S][1]=w[S][1].slice(1),N+=U,R+=U}}if(S<w.length-1&&!w[S][1]){w.splice(S,1);break}if(N.length>0||R.length>0){N.length>0&&R.length>0&&(B=l(R,N),B!==0&&(z>=0?w[z][1]+=R.substring(0,B):(w.splice(0,0,[n,R.substring(0,B)]),S++),R=R.substring(B),N=N.substring(B)),B=c(R,N),B!==0&&(w[S][1]=R.substring(R.length-B)+w[S][1],R=R.substring(0,R.length-B),N=N.substring(0,N.length-B)));var Q=P+M;N.length===0&&R.length===0?(w.splice(S-Q,Q),S=S-Q):N.length===0?(w.splice(S-Q,Q,[e,R]),S=S-Q+1):R.length===0?(w.splice(S-Q,Q,[t,N]),S=S-Q+1):(w.splice(S-Q,Q,[t,N],[e,R]),S=S-Q+2)}S!==0&&w[S-1][0]===n?(w[S-1][1]+=w[S][1],w.splice(S,1)):S++,P=0,M=0,N="",R="";break}}w[w.length-1][1]===""&&w.pop();var oe=!1;for(S=1;S<w.length-1;)w[S-1][0]===n&&w[S+1][0]===n&&(w[S][1].substring(w[S][1].length-w[S-1][1].length)===w[S-1][1]?(w[S][1]=w[S-1][1]+w[S][1].substring(0,w[S][1].length-w[S-1][1].length),w[S+1][1]=w[S-1][1]+w[S+1][1],w.splice(S-1,1),oe=!0):w[S][1].substring(0,w[S+1][1].length)==w[S+1][1]&&(w[S-1][1]+=w[S+1][1],w[S][1]=w[S][1].substring(w[S+1][1].length)+w[S+1][1],w.splice(S+1,1),oe=!0)),S++;oe&&x(w,_)}function T(w){return w>=55296&&w<=56319}function A(w){return w>=56320&&w<=57343}function L(w){return A(w.charCodeAt(0))}function K(w){return T(w.charCodeAt(w.length-1))}function D(w){for(var _=[],S=0;S<w.length;S++)w[S][1].length>0&&_.push(w[S]);return _}function V(w,_,S,M){return K(w)||L(M)?null:D([[n,w],[t,_],[e,S],[n,M]])}function j(w,_,S){var M=typeof S=="number"?{index:S,length:0}:S.oldRange,P=typeof S=="number"?null:S.newRange,N=w.length,R=_.length;if(M.length===0&&(P===null||P.length===0)){var B=M.index,z=w.slice(0,B),U=w.slice(B),te=P?P.index:null;e:{var Q=B+R-N;if(te!==null&&te!==Q||Q<0||Q>R)break e;var oe=_.slice(0,Q),ae=_.slice(Q);if(ae!==U)break e;var X=Math.min(B,Q),Ae=z.slice(0,X),Se=oe.slice(0,X);if(Ae!==Se)break e;var F=z.slice(X),se=oe.slice(X);return V(Ae,F,se,U)}e:{if(te!==null&&te!==B)break e;var ue=B,oe=_.slice(0,ue),ae=_.slice(ue);if(oe!==z)break e;var pe=Math.min(N-ue,R-ue),we=U.slice(U.length-pe),Ee=ae.slice(ae.length-pe);if(we!==Ee)break e;var F=U.slice(0,U.length-pe),se=ae.slice(0,ae.length-pe);return V(z,F,se,we)}}if(M.length>0&&P&&P.length===0)e:{var Ae=w.slice(0,M.index),we=w.slice(M.index+M.length),X=Ae.length,pe=we.length;if(R<X+pe)break e;var Se=_.slice(0,X),Ee=_.slice(R-pe);if(Ae!==Se||we!==Ee)break e;var F=w.slice(X,N-pe),se=_.slice(X,R-pe);return V(Ae,F,se,we)}return null}function J(w,_,S,M){return r(w,_,S,M,!0)}return J.INSERT=e,J.DELETE=t,J.EQUAL=n,No=J,No}var zr={exports:{}};zr.exports;var fc;function Md(){return fc||(fc=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",f="[object Function]",h="[object GeneratorFunction]",d="[object Map]",g="[object Number]",m="[object Object]",p="[object Promise]",y="[object RegExp]",v="[object Set]",x="[object String]",T="[object Symbol]",A="[object WeakMap]",L="[object ArrayBuffer]",K="[object DataView]",D="[object Float32Array]",V="[object Float64Array]",j="[object Int8Array]",J="[object Int16Array]",w="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",P="[object Uint32Array]",N=/[\\^$.*+?()[\]{}|]/g,R=/\w*$/,B=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,U={};U[s]=U[o]=U[L]=U[K]=U[l]=U[a]=U[D]=U[V]=U[j]=U[J]=U[w]=U[d]=U[g]=U[m]=U[y]=U[v]=U[x]=U[T]=U[_]=U[S]=U[M]=U[P]=!0,U[c]=U[f]=U[A]=!1;var te=typeof on=="object"&&on&&on.Object===Object&&on,Q=typeof self=="object"&&self&&self.Object===Object&&self,oe=te||Q||Function("return this")(),ae=e&&!e.nodeType&&e,X=ae&&!0&&t&&!t.nodeType&&t,Ae=X&&X.exports===ae;function Se(u,b){return u.set(b[0],b[1]),u}function F(u,b){return u.add(b),u}function se(u,b){for(var E=-1,O=u?u.length:0;++E<O&&b(u[E],E,u)!==!1;);return u}function ue(u,b){for(var E=-1,O=b.length,ne=u.length;++E<O;)u[ne+E]=b[E];return u}function pe(u,b,E,O){for(var ne=-1,Z=u?u.length:0;++ne<Z;)E=b(E,u[ne],ne,u);return E}function we(u,b){for(var E=-1,O=Array(u);++E<u;)O[E]=b(E);return O}function Ee(u,b){return u==null?void 0:u[b]}function ke(u){var b=!1;if(u!=null&&typeof u.toString!="function")try{b=!!(u+"")}catch{}return b}function $e(u){var b=-1,E=Array(u.size);return u.forEach(function(O,ne){E[++b]=[ne,O]}),E}function xr(u,b){return function(E){return u(b(E))}}function vi(u){var b=-1,E=Array(u.size);return u.forEach(function(O){E[++b]=O}),E}var Is=Array.prototype,Rs=Function.prototype,Fn=Object.prototype,Er=oe["__core-js_shared__"],wi=function(){var u=/[^.]+$/.exec(Er&&Er.keys&&Er.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),xi=Rs.toString,Ct=Fn.hasOwnProperty,Kn=Fn.toString,Ms=RegExp("^"+xi.call(Ct).replace(N,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xn=Ae?oe.Buffer:void 0,jn=oe.Symbol,Tr=oe.Uint8Array,rt=xr(Object.getPrototypeOf,Object),Ei=Object.create,Ti=Fn.propertyIsEnumerable,Ps=Is.splice,Ar=Object.getOwnPropertySymbols,Un=xn?xn.isBuffer:void 0,Ai=xr(Object.keys,Object),zn=ht(oe,"DataView"),En=ht(oe,"Map"),ft=ht(oe,"Promise"),Hn=ht(oe,"Set"),Sr=ht(oe,"WeakMap"),Tn=ht(Object,"create"),Cr=Ve(zn),An=Ve(En),Lr=Ve(ft),Nr=Ve(Hn),Or=Ve(Sr),nn=jn?jn.prototype:void 0,Si=nn?nn.valueOf:void 0;function jt(u){var b=-1,E=u?u.length:0;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function qs(){this.__data__=Tn?Tn(null):{}}function Ds(u){return this.has(u)&&delete this.__data__[u]}function $s(u){var b=this.__data__;if(Tn){var E=b[u];return E===r?void 0:E}return Ct.call(b,u)?b[u]:void 0}function Ci(u){var b=this.__data__;return Tn?b[u]!==void 0:Ct.call(b,u)}function _r(u,b){var E=this.__data__;return E[u]=Tn&&b===void 0?r:b,this}jt.prototype.clear=qs,jt.prototype.delete=Ds,jt.prototype.get=$s,jt.prototype.has=Ci,jt.prototype.set=_r;function Pe(u){var b=-1,E=u?u.length:0;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function Bs(){this.__data__=[]}function Fs(u){var b=this.__data__,E=Gn(b,u);if(E<0)return!1;var O=b.length-1;return E==O?b.pop():Ps.call(b,E,1),!0}function Ks(u){var b=this.__data__,E=Gn(b,u);return E<0?void 0:b[E][1]}function js(u){return Gn(this.__data__,u)>-1}function Us(u,b){var E=this.__data__,O=Gn(E,u);return O<0?E.push([u,b]):E[O][1]=b,this}Pe.prototype.clear=Bs,Pe.prototype.delete=Fs,Pe.prototype.get=Ks,Pe.prototype.has=js,Pe.prototype.set=Us;function Be(u){var b=-1,E=u?u.length:0;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function zs(){this.__data__={hash:new jt,map:new(En||Pe),string:new jt}}function Hs(u){return Cn(this,u).delete(u)}function Vs(u){return Cn(this,u).get(u)}function Gs(u){return Cn(this,u).has(u)}function Ws(u,b){return Cn(this,u).set(u,b),this}Be.prototype.clear=zs,Be.prototype.delete=Hs,Be.prototype.get=Vs,Be.prototype.has=Gs,Be.prototype.set=Ws;function We(u){this.__data__=new Pe(u)}function Zs(){this.__data__=new Pe}function Ys(u){return this.__data__.delete(u)}function Xs(u){return this.__data__.get(u)}function Js(u){return this.__data__.has(u)}function Qs(u,b){var E=this.__data__;if(E instanceof Pe){var O=E.__data__;if(!En||O.length<n-1)return O.push([u,b]),this;E=this.__data__=new Be(O)}return E.set(u,b),this}We.prototype.clear=Zs,We.prototype.delete=Ys,We.prototype.get=Xs,We.prototype.has=Js,We.prototype.set=Qs;function Vn(u,b){var E=Mr(u)||Zn(u)?we(u.length,String):[],O=E.length,ne=!!O;for(var Z in u)Ct.call(u,Z)&&!(ne&&(Z=="length"||go(Z,O)))&&E.push(Z);return E}function Li(u,b,E){var O=u[b];(!(Ct.call(u,b)&&Ii(O,E))||E===void 0&&!(b in u))&&(u[b]=E)}function Gn(u,b){for(var E=u.length;E--;)if(Ii(u[E][0],b))return E;return-1}function Lt(u,b){return u&&Rr(b,qr(b),u)}function kr(u,b,E,O,ne,Z,me){var ge;if(O&&(ge=Z?O(u,ne,Z,me):O(u)),ge!==void 0)return ge;if(!Ot(u))return u;var Ie=Mr(u);if(Ie){if(ge=fo(u),!b)return ao(u,ge)}else{var ye=zt(u),Fe=ye==f||ye==h;if(Ri(u))return Wn(u,b);if(ye==m||ye==s||Fe&&!Z){if(ke(u))return Z?u:{};if(ge=Nt(Fe?{}:u),!b)return co(u,Lt(ge,u))}else{if(!U[ye])return Z?u:{};ge=ho(u,ye,kr,b)}}me||(me=new We);var Ze=me.get(u);if(Ze)return Ze;if(me.set(u,ge),!Ie)var Re=E?uo(u):qr(u);return se(Re||u,function(Ke,qe){Re&&(qe=Ke,Ke=u[qe]),Li(ge,qe,kr(Ke,b,E,O,qe,u,me))}),ge}function eo(u){return Ot(u)?Ei(u):{}}function to(u,b,E){var O=b(u);return Mr(u)?O:ue(O,E(u))}function no(u){return Kn.call(u)}function ro(u){if(!Ot(u)||bo(u))return!1;var b=Pr(u)||ke(u)?Ms:B;return b.test(Ve(u))}function io(u){if(!_i(u))return Ai(u);var b=[];for(var E in Object(u))Ct.call(u,E)&&E!="constructor"&&b.push(E);return b}function Wn(u,b){if(b)return u.slice();var E=new u.constructor(u.length);return u.copy(E),E}function Ir(u){var b=new u.constructor(u.byteLength);return new Tr(b).set(new Tr(u)),b}function Sn(u,b){var E=b?Ir(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.byteLength)}function Ni(u,b,E){var O=b?E($e(u),!0):$e(u);return pe(O,Se,new u.constructor)}function Oi(u){var b=new u.constructor(u.source,R.exec(u));return b.lastIndex=u.lastIndex,b}function so(u,b,E){var O=b?E(vi(u),!0):vi(u);return pe(O,F,new u.constructor)}function oo(u){return Si?Object(Si.call(u)):{}}function lo(u,b){var E=b?Ir(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.length)}function ao(u,b){var E=-1,O=u.length;for(b||(b=Array(O));++E<O;)b[E]=u[E];return b}function Rr(u,b,E,O){E||(E={});for(var ne=-1,Z=b.length;++ne<Z;){var me=b[ne],ge=void 0;Li(E,me,ge===void 0?u[me]:ge)}return E}function co(u,b){return Rr(u,Ut(u),b)}function uo(u){return to(u,qr,Ut)}function Cn(u,b){var E=u.__data__;return mo(b)?E[typeof b=="string"?"string":"hash"]:E.map}function ht(u,b){var E=Ee(u,b);return ro(E)?E:void 0}var Ut=Ar?xr(Ar,Object):yo,zt=no;(zn&&zt(new zn(new ArrayBuffer(1)))!=K||En&&zt(new En)!=d||ft&&zt(ft.resolve())!=p||Hn&&zt(new Hn)!=v||Sr&&zt(new Sr)!=A)&&(zt=function(u){var b=Kn.call(u),E=b==m?u.constructor:void 0,O=E?Ve(E):void 0;if(O)switch(O){case Cr:return K;case An:return d;case Lr:return p;case Nr:return v;case Or:return A}return b});function fo(u){var b=u.length,E=u.constructor(b);return b&&typeof u[0]=="string"&&Ct.call(u,"index")&&(E.index=u.index,E.input=u.input),E}function Nt(u){return typeof u.constructor=="function"&&!_i(u)?eo(rt(u)):{}}function ho(u,b,E,O){var ne=u.constructor;switch(b){case L:return Ir(u);case l:case a:return new ne(+u);case K:return Sn(u,O);case D:case V:case j:case J:case w:case _:case S:case M:case P:return lo(u,O);case d:return Ni(u,O,E);case g:case x:return new ne(u);case y:return Oi(u);case v:return so(u,O,E);case T:return oo(u)}}function go(u,b){return b=b??i,!!b&&(typeof u=="number"||z.test(u))&&u>-1&&u%1==0&&u<b}function mo(u){var b=typeof u;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?u!=="__proto__":u===null}function bo(u){return!!wi&&wi in u}function _i(u){var b=u&&u.constructor,E=typeof b=="function"&&b.prototype||Fn;return u===E}function Ve(u){if(u!=null){try{return xi.call(u)}catch{}try{return u+""}catch{}}return""}function ki(u){return kr(u,!0,!0)}function Ii(u,b){return u===b||u!==u&&b!==b}function Zn(u){return po(u)&&Ct.call(u,"callee")&&(!Ti.call(u,"callee")||Kn.call(u)==s)}var Mr=Array.isArray;function Yn(u){return u!=null&&Mi(u.length)&&!Pr(u)}function po(u){return Pi(u)&&Yn(u)}var Ri=Un||vo;function Pr(u){var b=Ot(u)?Kn.call(u):"";return b==f||b==h}function Mi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=i}function Ot(u){var b=typeof u;return!!u&&(b=="object"||b=="function")}function Pi(u){return!!u&&typeof u=="object"}function qr(u){return Yn(u)?Vn(u):io(u)}function yo(){return[]}function vo(){return!1}t.exports=ki}(zr,zr.exports)),zr.exports}var Hr={exports:{}};Hr.exports;var hc;function Pd(){return hc||(hc=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",d="[object Error]",g="[object Function]",m="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Null]",x="[object Object]",T="[object Promise]",A="[object Proxy]",L="[object RegExp]",K="[object Set]",D="[object String]",V="[object Symbol]",j="[object Undefined]",J="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",N="[object Int16Array]",R="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",te="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,X={};X[S]=X[M]=X[P]=X[N]=X[R]=X[B]=X[z]=X[U]=X[te]=!0,X[l]=X[a]=X[w]=X[f]=X[_]=X[h]=X[d]=X[g]=X[p]=X[y]=X[x]=X[L]=X[K]=X[D]=X[J]=!1;var Ae=typeof on=="object"&&on&&on.Object===Object&&on,Se=typeof self=="object"&&self&&self.Object===Object&&self,F=Ae||Se||Function("return this")(),se=e&&!e.nodeType&&e,ue=se&&!0&&t&&!t.nodeType&&t,pe=ue&&ue.exports===se,we=pe&&Ae.process,Ee=function(){try{return we&&we.binding&&we.binding("util")}catch{}}(),ke=Ee&&Ee.isTypedArray;function $e(u,b){for(var E=-1,O=u==null?0:u.length,ne=0,Z=[];++E<O;){var me=u[E];b(me,E,u)&&(Z[ne++]=me)}return Z}function xr(u,b){for(var E=-1,O=b.length,ne=u.length;++E<O;)u[ne+E]=b[E];return u}function vi(u,b){for(var E=-1,O=u==null?0:u.length;++E<O;)if(b(u[E],E,u))return!0;return!1}function Is(u,b){for(var E=-1,O=Array(u);++E<u;)O[E]=b(E);return O}function Rs(u){return function(b){return u(b)}}function Fn(u,b){return u.has(b)}function Er(u,b){return u==null?void 0:u[b]}function wi(u){var b=-1,E=Array(u.size);return u.forEach(function(O,ne){E[++b]=[ne,O]}),E}function xi(u,b){return function(E){return u(b(E))}}function Ct(u){var b=-1,E=Array(u.size);return u.forEach(function(O){E[++b]=O}),E}var Kn=Array.prototype,Ms=Function.prototype,xn=Object.prototype,jn=F["__core-js_shared__"],Tr=Ms.toString,rt=xn.hasOwnProperty,Ei=function(){var u=/[^.]+$/.exec(jn&&jn.keys&&jn.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ti=xn.toString,Ps=RegExp("^"+Tr.call(rt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ar=pe?F.Buffer:void 0,Un=F.Symbol,Ai=F.Uint8Array,zn=xn.propertyIsEnumerable,En=Kn.splice,ft=Un?Un.toStringTag:void 0,Hn=Object.getOwnPropertySymbols,Sr=Ar?Ar.isBuffer:void 0,Tn=xi(Object.keys,Object),Cr=Ut(F,"DataView"),An=Ut(F,"Map"),Lr=Ut(F,"Promise"),Nr=Ut(F,"Set"),Or=Ut(F,"WeakMap"),nn=Ut(Object,"create"),Si=Ve(Cr),jt=Ve(An),qs=Ve(Lr),Ds=Ve(Nr),$s=Ve(Or),Ci=Un?Un.prototype:void 0,_r=Ci?Ci.valueOf:void 0;function Pe(u){var b=-1,E=u==null?0:u.length;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function Bs(){this.__data__=nn?nn(null):{},this.size=0}function Fs(u){var b=this.has(u)&&delete this.__data__[u];return this.size-=b?1:0,b}function Ks(u){var b=this.__data__;if(nn){var E=b[u];return E===r?void 0:E}return rt.call(b,u)?b[u]:void 0}function js(u){var b=this.__data__;return nn?b[u]!==void 0:rt.call(b,u)}function Us(u,b){var E=this.__data__;return this.size+=this.has(u)?0:1,E[u]=nn&&b===void 0?r:b,this}Pe.prototype.clear=Bs,Pe.prototype.delete=Fs,Pe.prototype.get=Ks,Pe.prototype.has=js,Pe.prototype.set=Us;function Be(u){var b=-1,E=u==null?0:u.length;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function zs(){this.__data__=[],this.size=0}function Hs(u){var b=this.__data__,E=Wn(b,u);if(E<0)return!1;var O=b.length-1;return E==O?b.pop():En.call(b,E,1),--this.size,!0}function Vs(u){var b=this.__data__,E=Wn(b,u);return E<0?void 0:b[E][1]}function Gs(u){return Wn(this.__data__,u)>-1}function Ws(u,b){var E=this.__data__,O=Wn(E,u);return O<0?(++this.size,E.push([u,b])):E[O][1]=b,this}Be.prototype.clear=zs,Be.prototype.delete=Hs,Be.prototype.get=Vs,Be.prototype.has=Gs,Be.prototype.set=Ws;function We(u){var b=-1,E=u==null?0:u.length;for(this.clear();++b<E;){var O=u[b];this.set(O[0],O[1])}}function Zs(){this.size=0,this.__data__={hash:new Pe,map:new(An||Be),string:new Pe}}function Ys(u){var b=ht(this,u).delete(u);return this.size-=b?1:0,b}function Xs(u){return ht(this,u).get(u)}function Js(u){return ht(this,u).has(u)}function Qs(u,b){var E=ht(this,u),O=E.size;return E.set(u,b),this.size+=E.size==O?0:1,this}We.prototype.clear=Zs,We.prototype.delete=Ys,We.prototype.get=Xs,We.prototype.has=Js,We.prototype.set=Qs;function Vn(u){var b=-1,E=u==null?0:u.length;for(this.__data__=new We;++b<E;)this.add(u[b])}function Li(u){return this.__data__.set(u,r),this}function Gn(u){return this.__data__.has(u)}Vn.prototype.add=Vn.prototype.push=Li,Vn.prototype.has=Gn;function Lt(u){var b=this.__data__=new Be(u);this.size=b.size}function kr(){this.__data__=new Be,this.size=0}function eo(u){var b=this.__data__,E=b.delete(u);return this.size=b.size,E}function to(u){return this.__data__.get(u)}function no(u){return this.__data__.has(u)}function ro(u,b){var E=this.__data__;if(E instanceof Be){var O=E.__data__;if(!An||O.length<n-1)return O.push([u,b]),this.size=++E.size,this;E=this.__data__=new We(O)}return E.set(u,b),this.size=E.size,this}Lt.prototype.clear=kr,Lt.prototype.delete=eo,Lt.prototype.get=to,Lt.prototype.has=no,Lt.prototype.set=ro;function io(u,b){var E=Zn(u),O=!E&&Ii(u),ne=!E&&!O&&Yn(u),Z=!E&&!O&&!ne&&Pi(u),me=E||O||ne||Z,ge=me?Is(u.length,String):[],Ie=ge.length;for(var ye in u)rt.call(u,ye)&&!(me&&(ye=="length"||ne&&(ye=="offset"||ye=="parent")||Z&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||ho(ye,Ie)))&&ge.push(ye);return ge}function Wn(u,b){for(var E=u.length;E--;)if(ki(u[E][0],b))return E;return-1}function Ir(u,b,E){var O=b(u);return Zn(u)?O:xr(O,E(u))}function Sn(u){return u==null?u===void 0?j:v:ft&&ft in Object(u)?zt(u):_i(u)}function Ni(u){return Ot(u)&&Sn(u)==l}function Oi(u,b,E,O,ne){return u===b?!0:u==null||b==null||!Ot(u)&&!Ot(b)?u!==u&&b!==b:so(u,b,E,O,Oi,ne)}function so(u,b,E,O,ne,Z){var me=Zn(u),ge=Zn(b),Ie=me?a:Nt(u),ye=ge?a:Nt(b);Ie=Ie==l?x:Ie,ye=ye==l?x:ye;var Fe=Ie==x,Ze=ye==x,Re=Ie==ye;if(Re&&Yn(u)){if(!Yn(b))return!1;me=!0,Fe=!1}if(Re&&!Fe)return Z||(Z=new Lt),me||Pi(u)?Rr(u,b,E,O,ne,Z):co(u,b,Ie,E,O,ne,Z);if(!(E&i)){var Ke=Fe&&rt.call(u,"__wrapped__"),qe=Ze&&rt.call(b,"__wrapped__");if(Ke||qe){var rn=Ke?u.value():u,Ht=qe?b.value():b;return Z||(Z=new Lt),ne(rn,Ht,E,O,Z)}}return Re?(Z||(Z=new Lt),uo(u,b,E,O,ne,Z)):!1}function oo(u){if(!Mi(u)||mo(u))return!1;var b=Ri(u)?Ps:oe;return b.test(Ve(u))}function lo(u){return Ot(u)&&Pr(u.length)&&!!X[Sn(u)]}function ao(u){if(!bo(u))return Tn(u);var b=[];for(var E in Object(u))rt.call(u,E)&&E!="constructor"&&b.push(E);return b}function Rr(u,b,E,O,ne,Z){var me=E&i,ge=u.length,Ie=b.length;if(ge!=Ie&&!(me&&Ie>ge))return!1;var ye=Z.get(u);if(ye&&Z.get(b))return ye==b;var Fe=-1,Ze=!0,Re=E&s?new Vn:void 0;for(Z.set(u,b),Z.set(b,u);++Fe<ge;){var Ke=u[Fe],qe=b[Fe];if(O)var rn=me?O(qe,Ke,Fe,b,u,Z):O(Ke,qe,Fe,u,b,Z);if(rn!==void 0){if(rn)continue;Ze=!1;break}if(Re){if(!vi(b,function(Ht,Ln){if(!Fn(Re,Ln)&&(Ke===Ht||ne(Ke,Ht,E,O,Z)))return Re.push(Ln)})){Ze=!1;break}}else if(!(Ke===qe||ne(Ke,qe,E,O,Z))){Ze=!1;break}}return Z.delete(u),Z.delete(b),Ze}function co(u,b,E,O,ne,Z,me){switch(E){case _:if(u.byteLength!=b.byteLength||u.byteOffset!=b.byteOffset)return!1;u=u.buffer,b=b.buffer;case w:return!(u.byteLength!=b.byteLength||!Z(new Ai(u),new Ai(b)));case f:case h:case y:return ki(+u,+b);case d:return u.name==b.name&&u.message==b.message;case L:case D:return u==b+"";case p:var ge=wi;case K:var Ie=O&i;if(ge||(ge=Ct),u.size!=b.size&&!Ie)return!1;var ye=me.get(u);if(ye)return ye==b;O|=s,me.set(u,b);var Fe=Rr(ge(u),ge(b),O,ne,Z,me);return me.delete(u),Fe;case V:if(_r)return _r.call(u)==_r.call(b)}return!1}function uo(u,b,E,O,ne,Z){var me=E&i,ge=Cn(u),Ie=ge.length,ye=Cn(b),Fe=ye.length;if(Ie!=Fe&&!me)return!1;for(var Ze=Ie;Ze--;){var Re=ge[Ze];if(!(me?Re in b:rt.call(b,Re)))return!1}var Ke=Z.get(u);if(Ke&&Z.get(b))return Ke==b;var qe=!0;Z.set(u,b),Z.set(b,u);for(var rn=me;++Ze<Ie;){Re=ge[Ze];var Ht=u[Re],Ln=b[Re];if(O)var ra=me?O(Ln,Ht,Re,b,u,Z):O(Ht,Ln,Re,u,b,Z);if(!(ra===void 0?Ht===Ln||ne(Ht,Ln,E,O,Z):ra)){qe=!1;break}rn||(rn=Re=="constructor")}if(qe&&!rn){var qi=u.constructor,Di=b.constructor;qi!=Di&&"constructor"in u&&"constructor"in b&&!(typeof qi=="function"&&qi instanceof qi&&typeof Di=="function"&&Di instanceof Di)&&(qe=!1)}return Z.delete(u),Z.delete(b),qe}function Cn(u){return Ir(u,qr,fo)}function ht(u,b){var E=u.__data__;return go(b)?E[typeof b=="string"?"string":"hash"]:E.map}function Ut(u,b){var E=Er(u,b);return oo(E)?E:void 0}function zt(u){var b=rt.call(u,ft),E=u[ft];try{u[ft]=void 0;var O=!0}catch{}var ne=Ti.call(u);return O&&(b?u[ft]=E:delete u[ft]),ne}var fo=Hn?function(u){return u==null?[]:(u=Object(u),$e(Hn(u),function(b){return zn.call(u,b)}))}:yo,Nt=Sn;(Cr&&Nt(new Cr(new ArrayBuffer(1)))!=_||An&&Nt(new An)!=p||Lr&&Nt(Lr.resolve())!=T||Nr&&Nt(new Nr)!=K||Or&&Nt(new Or)!=J)&&(Nt=function(u){var b=Sn(u),E=b==x?u.constructor:void 0,O=E?Ve(E):"";if(O)switch(O){case Si:return _;case jt:return p;case qs:return T;case Ds:return K;case $s:return J}return b});function ho(u,b){return b=b??o,!!b&&(typeof u=="number"||ae.test(u))&&u>-1&&u%1==0&&u<b}function go(u){var b=typeof u;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?u!=="__proto__":u===null}function mo(u){return!!Ei&&Ei in u}function bo(u){var b=u&&u.constructor,E=typeof b=="function"&&b.prototype||xn;return u===E}function _i(u){return Ti.call(u)}function Ve(u){if(u!=null){try{return Tr.call(u)}catch{}try{return u+""}catch{}}return""}function ki(u,b){return u===b||u!==u&&b!==b}var Ii=Ni(function(){return arguments}())?Ni:function(u){return Ot(u)&&rt.call(u,"callee")&&!zn.call(u,"callee")},Zn=Array.isArray;function Mr(u){return u!=null&&Pr(u.length)&&!Ri(u)}var Yn=Sr||vo;function po(u,b){return Oi(u,b)}function Ri(u){if(!Mi(u))return!1;var b=Sn(u);return b==g||b==m||b==c||b==A}function Pr(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=o}function Mi(u){var b=typeof u;return u!=null&&(b=="object"||b=="function")}function Ot(u){return u!=null&&typeof u=="object"}var Pi=ke?Rs(ke):lo;function qr(u){return Mr(u)?io(u):ao(u)}function yo(){return[]}function vo(){return!1}t.exports=po}(Hr,Hr.exports)),Hr.exports}var Ui={},gc;function Jy(){if(gc)return Ui;gc=1,Object.defineProperty(Ui,"__esModule",{value:!0});const t=Md(),e=Pd();var n;return function(r){function i(a={},c={},f=!1){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});let h=t(c);f||(h=Object.keys(h).reduce((d,g)=>(h[g]!=null&&(d[g]=h[g]),d),{}));for(const d in a)a[d]!==void 0&&c[d]===void 0&&(h[d]=a[d]);return Object.keys(h).length>0?h:void 0}r.compose=i;function s(a={},c={}){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});const f=Object.keys(a).concat(Object.keys(c)).reduce((h,d)=>(e(a[d],c[d])||(h[d]=c[d]===void 0?null:c[d]),h),{});return Object.keys(f).length>0?f:void 0}r.diff=s;function o(a={},c={}){a=a||{};const f=Object.keys(c).reduce((h,d)=>(c[d]!==a[d]&&a[d]!==void 0&&(h[d]=c[d]),h),{});return Object.keys(a).reduce((h,d)=>(a[d]!==c[d]&&c[d]===void 0&&(h[d]=null),h),f)}r.invert=o;function l(a,c,f=!1){if(typeof a!="object")return c;if(typeof c!="object")return;if(!f)return c;const h=Object.keys(c).reduce((d,g)=>(a[g]===void 0&&(d[g]=c[g]),d),{});return Object.keys(h).length>0?h:void 0}r.transform=l}(n||(n={})),Ui.default=n,Ui}var zi={},mc;function qd(){if(mc)return zi;mc=1,Object.defineProperty(zi,"__esModule",{value:!0});var t;return function(e){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=n}(t||(t={})),zi.default=t,zi}var Hi={},bc;function Qy(){if(bc)return Hi;bc=1,Object.defineProperty(Hi,"__esModule",{value:!0});const t=qd();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,o=t.default.length(i);if(r>=o-s?(r=o-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(s,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(o)}}else return[]}}return Hi.default=e,Hi}var pc;function ev(){return pc||(pc=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=Xy(),r=Md(),i=Pd(),s=Jy();e.AttributeMap=s.default;const o=qd();e.Op=o.default;const l=Qy();e.OpIterator=l.default;const a="\0",c=(h,d)=>{if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const g=Object.keys(h)[0];if(!g||g!==Object.keys(d)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(d)[0]}`);return[g,h[g],d[g]]};class f{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,g){this.handlers[d]=g}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const g=this.handlers[d];if(!g)throw new Error(`no handlers for embed type "${d}"`);return g}insert(d,g){const m={};return typeof d=="string"&&d.length===0?this:(m.insert=d,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,g){if(typeof d=="number"&&d<=0)return this;const m={retain:d};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m)}push(d){let g=this.ops.length,m=this.ops[g-1];if(d=r(d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[g-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(g-=1,m=this.ops[g-1],typeof m!="object"))return this.ops.unshift(d),this;if(i(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[g-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[g-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this}}return g===this.ops.length?this.ops.push(d):this.ops.splice(g,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const g=[],m=[];return this.forEach(p=>{(d(p)?g:m).push(p)}),[g,m]}reduce(d,g){return this.ops.reduce(d,g)}changeLength(){return this.reduce((d,g)=>g.insert?d+o.default.length(g):g.delete?d-g.delete:d,0)}length(){return this.reduce((d,g)=>d+o.default.length(g),0)}slice(d=0,g=1/0){const m=[],p=new l.default(this.ops);let y=0;for(;y<g&&p.hasNext();){let v;y<d?v=p.next(d-y):(v=p.next(g-y),m.push(v)),y+=o.default.length(v)}return new f(m)}compose(d){const g=new l.default(this.ops),m=new l.default(d.ops),p=[],y=m.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let x=y.retain;for(;g.peekType()==="insert"&&g.peekLength()<=x;)x-=g.peekLength(),p.push(g.next());y.retain-x>0&&m.next(y.retain-x)}const v=new f(p);for(;g.hasNext()||m.hasNext();)if(m.peekType()==="insert")v.push(m.next());else if(g.peekType()==="delete")v.push(g.next());else{const x=Math.min(g.peekLength(),m.peekLength()),T=g.next(x),A=m.next(x);if(A.retain){const L={};if(typeof T.retain=="number")L.retain=typeof A.retain=="number"?x:A.retain;else if(typeof A.retain=="number")T.retain==null?L.insert=T.insert:L.retain=T.retain;else{const D=T.retain==null?"insert":"retain",[V,j,J]=c(T[D],A.retain),w=f.getHandler(V);L[D]={[V]:w.compose(j,J,D==="retain")}}const K=s.default.compose(T.attributes,A.attributes,typeof T.retain=="number");if(K&&(L.attributes=K),v.push(L),!m.hasNext()&&i(v.ops[v.ops.length-1],L)){const D=new f(g.rest());return v.concat(D).chop()}}else typeof A.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&v.push(A)}return v.chop()}concat(d){const g=new f(this.ops.slice());return d.ops.length>0&&(g.push(d.ops[0]),g.ops=g.ops.concat(d.ops.slice(1))),g}diff(d,g){if(this.ops===d.ops)return new f;const m=[this,d].map(T=>T.map(A=>{if(A.insert!=null)return typeof A.insert=="string"?A.insert:a;const L=T===d?"on":"with";throw new Error("diff() called "+L+" non-document")}).join("")),p=new f,y=n(m[0],m[1],g,!0),v=new l.default(this.ops),x=new l.default(d.ops);return y.forEach(T=>{let A=T[1].length;for(;A>0;){let L=0;switch(T[0]){case n.INSERT:L=Math.min(x.peekLength(),A),p.push(x.next(L));break;case n.DELETE:L=Math.min(A,v.peekLength()),v.next(L),p.delete(L);break;case n.EQUAL:L=Math.min(v.peekLength(),x.peekLength(),A);const K=v.next(L),D=x.next(L);i(K.insert,D.insert)?p.retain(L,s.default.diff(K.attributes,D.attributes)):p.push(D).delete(L);break}A-=L}}),p.chop()}eachLine(d,g=`
`){const m=new l.default(this.ops);let p=new f,y=0;for(;m.hasNext();){if(m.peekType()!=="insert")return;const v=m.peek(),x=o.default.length(v)-m.peekLength(),T=typeof v.insert=="string"?v.insert.indexOf(g,x)-x:-1;if(T<0)p.push(m.next());else if(T>0)p.push(m.next(T));else{if(d(p,m.next(1).attributes||{},y)===!1)return;y+=1,p=new f}}p.length()>0&&d(p,{},y)}invert(d){const g=new f;return this.reduce((m,p)=>{if(p.insert)g.delete(o.default.length(p));else{if(typeof p.retain=="number"&&p.attributes==null)return g.retain(p.retain),m+p.retain;if(p.delete||typeof p.retain=="number"){const y=p.delete||p.retain;return d.slice(m,m+y).forEach(x=>{p.delete?g.push(x):p.retain&&p.attributes&&g.retain(o.default.length(x),s.default.invert(p.attributes,x.attributes))}),m+y}else if(typeof p.retain=="object"&&p.retain!==null){const y=d.slice(m,m+1),v=new l.default(y.ops).next(),[x,T,A]=c(p.retain,v.insert),L=f.getHandler(x);return g.retain({[x]:L.invert(T,A)},s.default.invert(p.attributes,v.attributes)),m+1}}return m},0),g.chop()}transform(d,g=!1){if(g=!!g,typeof d=="number")return this.transformPosition(d,g);const m=d,p=new l.default(this.ops),y=new l.default(m.ops),v=new f;for(;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(g||y.peekType()!=="insert"))v.retain(o.default.length(p.next()));else if(y.peekType()==="insert")v.push(y.next());else{const x=Math.min(p.peekLength(),y.peekLength()),T=p.next(x),A=y.next(x);if(T.delete)continue;if(A.delete)v.push(A);else{const L=T.retain,K=A.retain;let D=typeof K=="object"&&K!==null?K:x;if(typeof L=="object"&&L!==null&&typeof K=="object"&&K!==null){const V=Object.keys(L)[0];if(V===Object.keys(K)[0]){const j=f.getHandler(V);j&&(D={[V]:j.transform(L[V],K[V],g)})}}v.retain(D,s.default.transform(T.attributes,A.attributes,g))}}return v.chop()}transformPosition(d,g=!1){g=!!g;const m=new l.default(this.ops);let p=0;for(;m.hasNext()&&p<=d;){const y=m.peekLength(),v=m.peekType();if(m.next(),v==="delete"){d-=Math.min(y,d-p);continue}else v==="insert"&&(p<d||!g)&&(d+=y);p+=y}return d}}f.Op=o.default,f.OpIterator=l.default,f.AttributeMap=s.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f}(ji,ji.exports)),ji.exports}var ct=ev();const G=Vc(ct);class At extends nt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}At.blotName="break";At.tagName="BR";let Et=class extends ds{};const tv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Os(t){return t.replace(/[&<>"']/g,e=>tv[e])}const _t=class _t extends Hl{static compare(e,n){const r=_t.order.indexOf(e),i=_t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}formatAt(e,n,r,i){if(_t.compare(this.statics.blotName,r)<0&&this.scroll.query(r,W.BLOT)){const s=this.isolate(e,n);i&&s.wrap(r,i)}else super.formatAt(e,n,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof _t&&_t.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};$(_t,"allowedChildren",[_t,At,nt,Et]),$(_t,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Dt=_t;const yc=1;class De extends si{constructor(){super(...arguments);$(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Dd(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,i,s){r<=0||(this.scroll.query(i,W.BLOCK)?n+r===this.length()&&this.format(i,s):super.formatAt(n,Math.min(r,this.length()-n-1),i,s),this.cache={})}insertAt(n,r,i){if(i!=null){super.insertAt(n,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),o=s.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;s.reduce((a,c)=>(l=l.split(a,!0),l.insertAt(0,c),c.length),n+o.length)}insertBefore(n,r){const{head:i}=this.children;super.insertBefore(n,r),i instanceof At&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+yc),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-yc)){const s=this.clone();return n===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(n,r);return this.cache={},i}}De.blotName="block";De.tagName="P";De.defaultChild=At;De.allowedChildren=[At,Dt,nt,Et];class at extends nt{attach(){super.attach(),this.attributes=new Ls(this.domNode)}delta(){return new G().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,W.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,i){this.format(r,i)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const i=n.split(`
`),s=i.pop(),o=i.map(a=>{const c=this.scroll.create(De.blotName);return c.insertAt(0,a),c}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}at.scope=W.BLOCK_BLOT;function Dd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(ze).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),ot(r,{},e)),new G).insert(`
`,ot(t))}function ot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:ot(t.parent,e,n)}const st=class st extends nt{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode(st.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==W.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=st.CONTENTS.length,r.optimize(),r.formatAt(i,st.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Et?this.prev:null,r=n?n.length():0,i=this.next instanceof Et?this.next:null,s=i?i.text:"",{textNode:o}=this,l=o.data.split(st.CONTENTS).join("");o.data=st.CONTENTS;let a;if(n)a=n,(l||i)&&(n.insertAt(n.length(),l+s),i&&i.remove());else if(i)a=i,i.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),e){const c=(d,g)=>n&&d===n.domNode?g:d===o?r+g-1:i&&d===i.domNode?r+l.length+g:null,f=c(e.start.node,e.start.offset),h=c(e.end.node,e.end.offset);if(f!==null&&h!==null)return{startNode:a.domNode,startOffset:f,endNode:a.domNode,endOffset:h}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=st.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};$(st,"blotName","cursor"),$(st,"className","ql-cursor"),$(st,"tagName","span"),$(st,"CONTENTS","\uFEFF");let mr=st;var Oo={exports:{}},vc;function nv(){return vc||(vc=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(a,c,f){this.fn=a,this.context=c,this.once=f||!1}function s(a,c,f,h,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||a,d),m=n?n+c:c;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],g]:a._events[m].push(g):(a._events[m]=g,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new r:delete a._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,g=h.length,m=new Array(g);d<g;d++)m[d]=h[d].fn;return m},l.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,f,h,d,g,m){var p=n?n+c:c;if(!this._events[p])return!1;var y=this._events[p],v=arguments.length,x,T;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,d),!0;case 5:return y.fn.call(y.context,f,h,d,g),!0;case 6:return y.fn.call(y.context,f,h,d,g,m),!0}for(T=1,x=new Array(v-1);T<v;T++)x[T-1]=arguments[T];y.fn.apply(y.context,x)}else{var A=y.length,L;for(T=0;T<A;T++)switch(y[T].once&&this.removeListener(c,y[T].fn,void 0,!0),v){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,f);break;case 3:y[T].fn.call(y[T].context,f,h);break;case 4:y[T].fn.call(y[T].context,f,h,d);break;default:if(!x)for(L=1,x=new Array(v-1);L<v;L++)x[L-1]=arguments[L];y[T].fn.apply(y[T].context,x)}}return!0},l.prototype.on=function(c,f,h){return s(this,c,f,h,!1)},l.prototype.once=function(c,f,h){return s(this,c,f,h,!0)},l.prototype.removeListener=function(c,f,h,d){var g=n?n+c:c;if(!this._events[g])return this;if(!f)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===f&&(!d||m.once)&&(!h||m.context===h)&&o(this,g);else{for(var p=0,y=[],v=m.length;p<v;p++)(m[p].fn!==f||d&&!m[p].once||h&&m[p].context!==h)&&y.push(m[p]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(Oo)),Oo.exports}var rv=nv();const iv=Vc(rv),sl=new WeakMap,ol=["error","warn","log","info"];let ll="warn";function $d(t){if(ll&&ol.indexOf(t)<=ol.indexOf(ll)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function tn(t){return ol.reduce((e,n)=>(e[n]=$d.bind(console,n,t),e),{})}tn.level=t=>{ll=t};$d.level=tn.level;const _o=tn("quill:events"),sv=["selectionchange","mousedown","mouseup","click"];sv.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=sl.get(i);s&&s.emitter&&s.emitter.handleDOM(...n)})})});class H extends iv{constructor(){super(),this.domListeners={},this.on("error",_o.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _o.log.call(_o,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:o,handler:l}=s;(e.target===o||o.contains(e.target))&&l(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}$(H,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),$(H,"sources",{API:"api",SILENT:"silent",USER:"user"});const ko=tn("quill:selection");class In{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class ov{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new In(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,H.sources.USER),1)}),this.emitter.on(H.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(H.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?H.sources.SILENT:i)}catch{}})}),this.emitter.on(H.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:l,endOffset:a}=i.range;this.setNativeRange(s,o,l,a),this.update(H.sources.SILENT)}}),this.update(H.sources.SILENT)}handleComposition(){this.emitter.on(H.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(H.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(H.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,W.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof ze){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let i,[s,o]=this.scroll.leaf(e);if(s==null)return null;if(n>0&&o===s.length()){const[f]=this.scroll.leaf(e+1);if(f){const[h]=this.scroll.line(e),[d]=this.scroll.line(e+1);h===d&&(s=f,o=0)}}[i,o]=s.position(o,!0);const l=document.createRange();if(n>0)return l.setStart(i,o),[s,o]=this.scroll.leaf(e+n),s==null?null:([i,o]=s.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let a="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),a="right"),c=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return ko.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Io(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),f=c.offset(this.scroll);return a===0?f:c instanceof ze?f+c.index(l,a):f+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new In(s,i-s)}normalizeNative(e){if(!Io(this.root,e.startContainer)||!e.collapsed&&!Io(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),n}rangeToNative(e){const n=this.scroll.length(),r=(i,s)=>{i=Math.min(n-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ko.info("setNativeRange",e,n,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||e!==l.startContainer||n!==l.startOffset||r!==l.endContainer||i!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const a=document.createRange();a.setStart(e,n),a.setEnd(r,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H.sources.API;if(typeof n=="string"&&(r=n,n=!1),ko.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H.sources.USER;const n=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!zl(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[H.events.SELECTION_CHANGE,ar(this.lastRange),ar(n),e];this.emitter.emit(H.events.EDITOR_CHANGE,...s),e!==H.sources.SILENT&&this.emitter.emit(...s)}}}function Io(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const lv=/^[ -~]*$/;class av{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=wc(e),i=new G;return uv(r.ops.slice()).reduce((o,l)=>{const a=ct.Op.length(l);let c=l.attributes||{},f=!1,h=!1;if(l.insert!=null){if(i.retain(a),typeof l.insert=="string"){const m=l.insert;h=!m.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(at,o)[0]),this.scroll.insertAt(o,m);const[p,y]=this.scroll.line(o);let v=un({},ot(p));if(p instanceof De){const[x]=p.descendant(ze,y);x&&(v=un(v,ot(x)))}c=ct.AttributeMap.diff(v,c)||{}}else if(typeof l.insert=="object"){const m=Object.keys(l.insert)[0];if(m==null)return o;const p=this.scroll.query(m,W.INLINE)!=null;if(p)(n<=o||this.scroll.descendant(at,o)[0])&&(h=!0);else if(o>0){const[y,v]=this.scroll.descendant(ze,o-1);y instanceof Et?y.value()[v]!==`
`&&(f=!0):y instanceof nt&&y.statics.scope===W.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(o,m,l.insert[m]),p){const[y]=this.scroll.descendant(ze,o);if(y){const v=un({},ot(y));c=ct.AttributeMap.diff(v,c)||{}}}}n+=a}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const m=Object.keys(l.retain)[0];if(m==null)return o;this.scroll.updateEmbedAt(o,m,l.retain[m])}Object.keys(c).forEach(m=>{this.scroll.formatAt(o,a,m,c[m])});const d=f?1:0,g=h?1:0;return n+=d+g,i.retain(d),i.delete(g),o+a+d+g},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+ct.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new G().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(n,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new G().retain(e).retain(n,ar(r));return this.update(i)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n,s,r[s])});const i=new G().retain(e).retain(n,ar(r));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new G)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];n===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof De?r.push(a):a instanceof ze&&i.push(a)}):(r=this.scroll.lines(e,n),i=this.scroll.descendants(ze,e,n));const[s,o]=[r,i].map(l=>{const a=l.shift();if(a==null)return{};let c=ot(a);for(;Object.keys(c).length>0;){const f=l.shift();if(f==null)return c;c=cv(ot(f),c)}return c});return{...s,...o}}getHTML(e,n){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+n&&!(i===0&&n===s)?oi(r,i,n,!0):oi(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=wc(n),i=new G().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new G().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n.length,i,r[i])}),this.update(new G().retain(e).insert(n,ar(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==De.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof At}removeFormat(e,n){const r=this.getText(e,n),[i,s]=this.scroll.line(e+n);let o=0,l=new G;i!=null&&(o=i.length()-s,l=i.delta().slice(s,s+o-1).insert(`
`));const c=this.getContents(e,n+o).diff(new G().insert(r).concat(l)),f=new G().retain(e).concat(c);return this.applyDelta(f)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(lv)&&this.scroll.find(n[0].target)){const s=this.scroll.find(n[0].target),o=ot(s),l=s.offset(this.scroll),a=n[0].oldValue.replace(mr.CONTENTS,""),c=new G().insert(a),f=new G().insert(s.value()),h=r&&{oldRange:xc(r.oldRange,-l),newRange:xc(r.newRange,-l)};e=new G().retain(l).concat(c.diff(f,h)).reduce((g,m)=>m.insert?g.insert(m.insert,o):g.push(m),new G),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!zl(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function ir(t,e,n){if(t.length===0){const[g]=Ro(n.pop());return e<=0?`</li></${g}>`:`</li></${g}>${ir([],e-1,n)}`}const[{child:r,offset:i,length:s,indent:o,type:l},...a]=t,[c,f]=Ro(l);if(o>e)return n.push(l),o===e+1?`<${c}><li${f}>${oi(r,i,s)}${ir(a,o,n)}`:`<${c}><li>${ir(t,e+1,n)}`;const h=n[n.length-1];if(o===e&&l===h)return`</li><li${f}>${oi(r,i,s)}${ir(a,o,n)}`;const[d]=Ro(n.pop());return`</li></${d}>${ir(t,e-1,n)}`}function oi(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof Et)return Os(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof vt){if(t.statics.blotName==="list-container"){const c=[];return t.children.forEachAt(e,n,(f,h,d)=>{const g="formats"in f&&typeof f.formats=="function"?f.formats():{};c.push({child:f,offset:h,length:d,indent:g.indent||0,type:g.list})}),ir(c,-1,[])}const i=[];if(t.children.forEachAt(e,n,(c,f,h)=>{i.push(oi(c,f,h))}),r||t.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=t.domNode,[l,a]=s.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${l}>${i.join("")}<${a}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function cv(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const i=e[r];return i===t[r]?n[r]=i:Array.isArray(i)?i.indexOf(t[r])<0?n[r]=i.concat([t[r]]):n[r]=i:n[r]=[i,t[r]],n},{})}function Ro(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function wc(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new G)}function xc(t,e){let{index:n,length:r}=t;return new In(n+e,r)}function uv(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class St{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}$(St,"DEFAULTS",{});const Vi="\uFEFF";class Gl extends nt{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Vi),this.rightGuard=document.createTextNode(Vi),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const i=e.data.split(Vi).join("");if(e===this.leftGuard)if(this.prev instanceof Et){const s=this.prev.length();this.prev.insertAt(s,i),n={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Et?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:i.length}));return e.data=Vi,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(n.range=i)}})}}class dv{constructor(e,n){$(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof Gl)&&(this.emitter.emit(H.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(H.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(H.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(H.events.COMPOSITION_END,e),this.isComposing=!1}}const Zr=class Zr{constructor(e,n){$(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};$(Zr,"DEFAULTS",{modules:{}}),$(Zr,"themes",{default:Zr});let br=Zr;const fv=t=>t.parentElement||t.getRootNode().host||null,hv=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},Gi=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},Ec=(t,e,n,r,i,s)=>t<n&&e>r?0:t<n?-(n-t+i):e>r?e-t>r-n?t+i-n:e-r+s:0,gv=(t,e)=>{var s,o,l;const n=t.ownerDocument;let r=e,i=t;for(;i;){const a=i===n.body,c=a?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:hv(i),f=getComputedStyle(i),h=Ec(r.left,r.right,c.left,c.right,Gi(f.scrollPaddingLeft),Gi(f.scrollPaddingRight)),d=Ec(r.top,r.bottom,c.top,c.bottom,Gi(f.scrollPaddingTop),Gi(f.scrollPaddingBottom));if(h||d)if(a)(l=n.defaultView)==null||l.scrollBy(h,d);else{const{scrollLeft:g,scrollTop:m}=i;d&&(i.scrollTop+=d),h&&(i.scrollLeft+=h);const p=i.scrollLeft-g,y=i.scrollTop-m;r={left:r.left-p,top:r.top-y,right:r.right-p,bottom:r.bottom-y}}i=a||f.position==="fixed"?null:fv(i)}},mv=100,bv=["block","break","cursor","inline","scroll","text"],pv=(t,e,n)=>{const r=new gr;return bv.forEach(i=>{const s=e.query(i);s&&r.register(s)}),t.forEach(i=>{let s=e.query(i);s||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>mv){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},ur=tn("quill"),Wi=new gr;vt.uiClass="ql-ui";const bt=class bt{static debug(e){e===!0&&(e="log"),tn.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return sl.get(e)||Wi.find(e,n)}static import(e){return this.imports[e]==null&&ur.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&ur.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Wi.register(n),typeof n.register=="function"&&n.register(Wi)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=yv(e,n),this.container=this.options.container,this.container==null){ur.error("Invalid Quill container",e);return}this.options.debug&&bt.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",sl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new H;const i=Vl.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new av(this.scroll),this.selection=new ov(this.scroll,this.emitter),this.composition=new dv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(H.events.EDITOR_CHANGE,o=>{o===H.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(H.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),f=a&&c?{oldRange:a,newRange:c}:void 0;mt.call(this,()=>this.editor.update(null,l,f),o)}),this.emitter.on(H.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),f=a&&c?{oldRange:a,newRange:c}:void 0;mt.call(this,()=>{const h=new G().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(h,[],f)},bt.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=Vt(e,n,r),mt.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H.sources.API;return mt.call(this,()=>{const i=this.getSelection(!0);let s=new G;if(i==null)return s;if(this.scroll.query(e,W.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),s;s=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,H.sources.SILENT),s},r)}formatLine(e,n,r,i,s){let o;return[e,n,o,s]=Vt(e,n,r,i,s),mt.call(this,()=>this.editor.formatLine(e,n,o),s,e,0)}formatText(e,n,r,i,s){let o;return[e,n,o,s]=Vt(e,n,r,i,s),mt.call(this,()=>this.editor.formatText(e,n,o),s,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Vt(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Vt(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Vt(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:bt.sources.API;return mt.call(this,()=>this.editor.insertEmbed(e,n,r),i,e)}insertText(e,n,r,i,s){let o;return[e,,o,s]=Vt(e,0,r,i,s),mt.call(this,()=>this.editor.insertText(e,n,o),s,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=Vt(e,n,r),mt.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){gv(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.sources.API;return mt.call(this,()=>{e=new G(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||bt.sources.API):([e,n,,r]=Vt(e,n,r),this.selection.setRange(new In(Math.max(0,e),n),r),r!==H.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.sources.API;const r=new G().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.sources.API;return mt.call(this,()=>(e=new G(e),this.editor.applyDelta(e)),n,!0)}};$(bt,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Wi,theme:"default"}),$(bt,"events",H.events),$(bt,"sources",H.sources),$(bt,"version","2.0.3"),$(bt,"imports",{delta:G,parchment:Yy,"core/module":St,"core/theme":br});let k=bt;function Tc(t){return typeof t=="string"?document.querySelector(t):t}function Mo(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,i]=n;return{...e,[r]:i===!0?{}:i}},{})}function Ac(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function yv(t,e){const n=Tc(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===k.DEFAULTS.theme?br:k.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...o}=k.DEFAULTS,{modules:l,...a}=i.DEFAULTS;let c=Mo(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const f=un({},Mo(s),Mo(l),c),h={...o,...Ac(a),...Ac(e)};let d=e.registry;return d?e.formats&&ur.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?pv(e.formats,h.registry,ur):h.registry,{...h,registry:d,container:n,theme:i,modules:Object.entries(f).reduce((g,m)=>{let[p,y]=m;if(!y)return g;const v=k.import(`modules/${p}`);return v==null?(ur.error(`Cannot load ${p} module. Are you sure you registered it?`),g):{...g,[p]:un({},v.DEFAULTS||{},y)}},{}),bounds:Tc(h.bounds)}}function mt(t,e,n,r){if(!this.isEnabled()&&e===H.sources.USER&&!this.allowReadOnlyEdits)return new G;let i=n==null?null:this.getSelection();const s=this.editor.delta,o=t();if(i!=null&&(n===!0&&(n=i.index),r==null?i=Sc(i,o,e):r!==0&&(i=Sc(i,n,r,e)),this.setSelection(i,H.sources.SILENT)),o.length()>0){const l=[H.events.TEXT_CHANGE,o,s,e];this.emitter.emit(H.events.EDITOR_CHANGE,...l),e!==H.sources.SILENT&&this.emitter.emit(...l)}return o}function Vt(t,e,n,r,i){let s={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=r,r=n,n=e,e=0),typeof n=="object"?(s=n,i=r):typeof n=="string"&&(r!=null?s[n]=r:i=n),i=i||H.sources.API,[t,e,s,i]}function Sc(t,e,n,r){const i=typeof n=="number"?n:0;if(t==null)return null;let s,o;return e&&typeof e.transformPosition=="function"?[s,o]=[t.index,t.index+t.length].map(l=>e.transformPosition(l,r!==H.sources.USER)):[s,o]=[t.index,t.index+t.length].map(l=>l<e||l===e&&r===H.sources.USER?l:i>=0?l+i:Math.max(e,l+i)),new In(s,o-s)}class Dn extends Ns{}function Cc(t){return t instanceof De||t instanceof at}function Lc(t){return typeof t.updateContent=="function"}class sr extends Vl{constructor(e,n,r){let{emitter:i}=r;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(H.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(H.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(H.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,i]=this.line(e),[s]=this.line(e+n);if(super.deleteAt(e,n),s!=null&&r!==s&&i>0){if(r instanceof at||s instanceof at){this.optimize();return}const o=s.children.head instanceof At?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,i){super.formatAt(e,n,r,i),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,W.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),r):i.insertAt(0,n,r)}else{const i=this.scroll.create(n,r);this.appendChild(i)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===W.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new G().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const a=s.type==="block"&&(s.delta.length()===0||!this.descendant(at,e)[0]&&e<this.length()),c=s.type==="block"?s.delta:new G().insert({[s.key]:s.value});Po(this,e,c);const f=s.type==="block"?1:0,h=e+c.length()+f;a&&this.insertAt(h-1,`
`);const d=ot(this.line(e)[0]),g=ct.AttributeMap.diff(d,s.attributes)||{};Object.keys(g).forEach(m=>{this.formatAt(h-1,1,m,g[m])}),e=h}let[o,l]=this.children.find(e);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);Po(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(f=>{c.format(f,a.attributes[f])})}})),i.type==="block"&&i.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();Po(this,a,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,i]=n;return r instanceof ze?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Cc,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let l=[],a=o;return i.children.forEachAt(s,o,(c,f,h)=>{Cc(c)?l.push(c):c instanceof Ns&&(l=l.concat(r(c,f,a))),a-=h}),l};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(H.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=H.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!Lc(s)}),e.length>0&&this.emitter.emit(H.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(H.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[i]=this.descendant(s=>s instanceof at,e);i&&i.statics.blotName===n&&Lc(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new G;return e.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(a=>{r.insert(a,i.attributes),n.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new G});const l=o[o.length-1];l&&r.insert(l,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,W.INLINE)?r.push(i):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new G,n.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const i={};Object.entries(e).forEach(l=>{let[a,c]=l;this.query(a,W.BLOCK&W.BLOT)!=null?r=a:i[a]=c});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,n||void 0);const o=s.length();return Object.entries(i).forEach(l=>{let[a,c]=l;s.formatAt(0,o,a,c)}),s}}$(sr,"blotName","scroll"),$(sr,"className","ql-editor"),$(sr,"tagName","DIV"),$(sr,"defaultChild",De),$(sr,"allowedChildren",[De,at,Dn]);function Po(t,e,n){n.reduce((r,i)=>{const s=ct.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;t.insertAt(r,l);const[a]=t.descendant(ze,r),c=ot(a);o=ct.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(t.insertAt(r,l,i.insert[l]),t.scroll.query(l,W.INLINE)!=null){const[c]=t.descendant(ze,r),f=ot(c);o=ct.AttributeMap.diff(f,o)||{}}}}return Object.keys(o).forEach(l=>{t.formatAt(r,s,l,o[l])}),r+s},e)}const Wl={scope:W.BLOCK,whitelist:["right","center","justify"]},vv=new qt("align","align",Wl),Bd=new Tt("align","ql-align",Wl),Fd=new pn("align","text-align",Wl);class Kd extends pn{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const wv=new Tt("color","ql-color",{scope:W.INLINE}),Zl=new Kd("color","color",{scope:W.INLINE}),xv=new Tt("background","ql-bg",{scope:W.INLINE}),Yl=new Kd("background","background-color",{scope:W.INLINE});class $n extends Dn{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Os(this.code(e,n))}
</pre>`}}class He extends De{static register(){k.register($n)}}$(He,"TAB","  ");class Xl extends Dt{}Xl.blotName="code";Xl.tagName="CODE";He.blotName="code-block";He.className="ql-code-block";He.tagName="DIV";$n.blotName="code-block-container";$n.className="ql-code-block-container";$n.tagName="DIV";$n.allowedChildren=[He];He.allowedChildren=[Et,At,mr];He.requiredContainer=$n;const Jl={scope:W.BLOCK,whitelist:["rtl"]},jd=new qt("direction","dir",Jl),Ud=new Tt("direction","ql-direction",Jl),zd=new pn("direction","direction",Jl),Hd={scope:W.INLINE,whitelist:["serif","monospace"]},Vd=new Tt("font","ql-font",Hd);class Ev extends pn{value(e){return super.value(e).replace(/["']/g,"")}}const Gd=new Ev("font","font-family",Hd),Wd=new Tt("size","ql-size",{scope:W.INLINE,whitelist:["small","large","huge"]}),Zd=new pn("size","font-size",{scope:W.INLINE,whitelist:["10px","18px","32px"]}),Tv=tn("quill:keyboard"),Av=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class _s extends St{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Cv(e);if(i==null){Tv.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...n,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(v=>_s.match(e,v));if(i.length===0)return;const s=k.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,f]=this.quill.getLeaf(o.index),[h,d]=o.length===0?[c,f]:this.quill.getLeaf(o.index+o.length),g=c instanceof ds?c.value().slice(0,f):"",m=h instanceof ds?h.value().slice(d):"",p={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:g,suffix:m,event:e};i.some(v=>{if(v.collapsed!=null&&v.collapsed!==p.collapsed||v.empty!=null&&v.empty!==p.empty||v.offset!=null&&v.offset!==p.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(x=>p.format[x]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(x=>v.format[x]===!0?p.format[x]!=null:v.format[x]===!1?p.format[x]==null:zl(v.format[x],p.format[x])))return!1;return v.prefix!=null&&!v.prefix.test(p.prefix)||v.suffix!=null&&!v.suffix.test(p.suffix)?!1:v.handler.call(this,o,p,v)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let o=new G().retain(e.index-r).delete(r);if(n.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=s.formats(),f=this.quill.getFormat(e.index-1,1);if(i=ct.AttributeMap.diff(c,f)||{},Object.keys(i).length>0){const h=new G().retain(e.index+s.length()-2).retain(1,i);o=o.compose(h)}}}this.quill.updateContents(o,k.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let o=new G().retain(e.index).delete(r);if(n.offset>=s.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=s.formats(),c=this.quill.getFormat(e.index,1);i=ct.AttributeMap.diff(a,c)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,k.sources.USER),this.quill.focus()}handleDeleteRange(e){Ql({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((s,o)=>(this.quill.scroll.query(o,W.BLOCK)&&!Array.isArray(n.format[o])&&(s[o]=n.format[o]),s),{}),i=new G().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,k.sources.USER),this.quill.setSelection(e.index+1,k.sources.SILENT),this.quill.focus()}}const Sv={bindings:{bold:qo("bold"),italic:qo("italic"),underline:qo("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",k.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",k.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",k.sources.USER):e.format.list!=null&&this.quill.format("list",!1,k.sources.USER)}},"indent code-block":Nc(!0),"outdent code-block":Nc(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,k.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new G().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,k.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,k.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,k.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,k.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},i=new G().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,k.sources.USER),this.quill.setSelection(t.index+1,k.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),i=new G().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,k.sources.USER),this.quill.setSelection(t.index+1,k.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,i,s]=e.getTable(t),o=Lv(n,r,i,s);if(o==null)return;let l=n.offset();if(o<0){const a=new G().retain(l).insert(`
`);this.quill.updateContents(a,k.sources.USER),this.quill.setSelection(t.index+1,t.length,k.sources.SILENT)}else if(o>0){l+=n.length();const a=new G().retain(l).insert(`
`);this.quill.updateContents(a,k.sources.USER),this.quill.setSelection(l,k.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,k.sources.USER):this.quill.setSelection(i+r.length(),k.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,i]=this.quill.getLine(t.index);if(i>n)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",k.sources.USER),this.quill.history.cutoff();const o=new G().retain(t.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,k.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,k.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new G().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,k.sources.USER),this.quill.setSelection(t.index-1,k.sources.SILENT),!1}return!0}},"embed left":Zi("ArrowLeft",!1),"embed left shift":Zi("ArrowLeft",!0),"embed right":Zi("ArrowRight",!1),"embed right shift":Zi("ArrowRight",!0),"table down":Oc(!1),"table up":Oc(!0)}};_s.DEFAULTS=Sv;function Nc(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,k.sources.USER),this.quill.setSelection(e.index+s.length,k.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((c,f)=>{t?(c.insertAt(0,s),f===0?l+=s.length:a+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),f===0?l-=s.length:a-=s.length)}),this.quill.update(k.sources.USER),this.quill.setSelection(l,a,k.sources.SILENT)}}}function Zi(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;t==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof nt?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,k.sources.USER):this.quill.setSelection(r.index-1,k.sources.USER):e?this.quill.setSelection(r.index,r.length+1,k.sources.USER):this.quill.setSelection(r.index+r.length+1,k.sources.USER),!1):!0}}}function qo(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],k.sources.USER)}}}function Oc(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",i=n.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(a,0,k.sources.USER)}}else{const o=i.table()[r];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,k.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,k.sources.USER))}return!1}}}function Cv(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=ar(t);else return null;return t.shortKey&&(t[Av]=t.shortKey,delete t.shortKey),t}function Ql(t){let{quill:e,range:n}=t;const r=e.getLines(n);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=ct.AttributeMap.diff(o,s)||{}}e.deleteText(n,k.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,k.sources.USER),e.setSelection(n.index,k.sources.SILENT)}function Lv(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Nv=/font-weight:\s*normal/,Ov=["P","OL","UL"],_c=t=>t&&Ov.includes(t.tagName),_v=t=>{Array.from(t.querySelectorAll("br")).filter(e=>_c(e.previousElementSibling)&&_c(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},kv=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(Nv)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function Iv(t){t.querySelector('[id^="docs-internal-guid-"]')&&(kv(t),_v(t))}const Rv=/\bmso-list:[^;]*ignore/i,Mv=/\bmso-list:[^;]*\bl(\d+)/i,Pv=/\bmso-list:[^;]*\blevel(\d+)/i,qv=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(Mv);if(!r)return null;const i=Number(r[1]),s=n==null?void 0:n.match(Pv),o=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:t}},Dv=t=>{var o,l;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(a=>{(a.getAttribute("style")||"").match(Rv)?n.push(a):r.push(a)}),n.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)});const i=t.documentElement.innerHTML,s=r.map(a=>qv(a,i)).filter(a=>a);for(;s.length;){const a=[];let c=s.shift();for(;c;)a.push(c),c=s.length&&((o=s[0])==null?void 0:o.element)===c.element.nextElementSibling&&s[0].id===c.id?s.shift():null;const f=document.createElement("ul");a.forEach(g=>{const m=document.createElement("li");m.setAttribute("data-list",g.type),g.indent>1&&m.setAttribute("class",`ql-indent-${g.indent-1}`),m.innerHTML=g.element.innerHTML,f.appendChild(m)});const h=(l=a[0])==null?void 0:l.element,{parentNode:d}=h??{};h&&(d==null||d.replaceChild(f,h)),a.slice(1).forEach(g=>{let{element:m}=g;d==null||d.removeChild(m)})}};function $v(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Dv(t)}const Bv=[$v,Iv],Fv=t=>{t.documentElement&&Bv.forEach(e=>{e(t)})},Kv=tn("quill:clipboard"),jv=[[Node.TEXT_NODE,ew],[Node.TEXT_NODE,Ic],["br",Gv],[Node.ELEMENT_NODE,Ic],[Node.ELEMENT_NODE,Vv],[Node.ELEMENT_NODE,Hv],[Node.ELEMENT_NODE,Jv],["li",Yv],["ol, ul",Xv],["pre",Wv],["tr",Qv],["b",Do("bold")],["i",Do("italic")],["strike",Do("strike")],["style",Zv]],Uv=[vv,jd].reduce((t,e)=>(t[e.keyName]=e,t),{}),kc=[Fd,Yl,Zl,zd,Gd,Zd].reduce((t,e)=>(t[e.keyName]=e,t),{});class Yd extends St{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],jv.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[He.blotName])return new G().insert(r||"",{[He.blotName]:i[He.blotName]});if(!n)return new G().insert(r||"",i);const s=this.convertHTML(n);return gi(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new G().retain(s.length()-1).delete(1)):s}normalizeHTML(e){Fv(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return ea(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,k.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new G().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),k.sources.SILENT)}}onCaptureCopy(e){var o,l;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,n);(o=e.clipboardData)==null||o.setData("text/plain",s),(l=e.clipboardData)==null||l.setData("text/html",i),n&&Ql({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,a,c,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let i=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const h=(a=e.clipboardData)==null?void 0:a.getData("text/uri-list");h&&(i=this.normalizeURIList(h))}const s=Array.from(((c=e.clipboardData)==null?void 0:c.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(n,s);return}if(r&&s.length>0){const h=new DOMParser().parseFromString(r,"text/html");if(h.body.childElementCount===1&&((f=h.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,s);return}}this.onPaste(n,{html:r,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:i}=n;const s=this.quill.getFormat(e.index),o=this.convert({text:r,html:i},s);Kv.log("onPaste",o,{text:r,html:i});const l=new G().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,k.sources.USER),this.quill.setSelection(l.length()-e.length,k.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],i=[];return this.matchers.forEach(s=>{const[o,l]=s;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{if(n.has(a)){const c=n.get(a);c==null||c.push(l)}else n.set(a,[l])});break}}),[r,i]}}$(Yd,"DEFAULTS",{matchers:[]});function Bn(t,e,n,r){return r.query(e)?t.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const o=n?{[e]:n}:{};return i.insert(s.insert,{...o,...s.attributes})},new G):t}function gi(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const i=t.ops[r];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function ln(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof nt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function zv(t,e){return t.previousElementSibling&&t.nextElementSibling&&!ln(t.previousElementSibling,e)&&!ln(t.nextElementSibling,e)}const Yi=new WeakMap;function Xd(t){return t==null?!1:(Yi.has(t)||(t.tagName==="PRE"?Yi.set(t,!0):Yi.set(t,Xd(t.parentNode))),Yi.get(t))}function ea(t,e,n,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,o)=>o(e,s,t),new G):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,o)=>{let l=ea(t,o,n,r,i);return o.nodeType===e.ELEMENT_NODE&&(l=n.reduce((a,c)=>c(o,a,t),l),l=(i.get(o)||[]).reduce((a,c)=>c(o,a,t),l)),s.concat(l)},new G):new G}function Do(t){return(e,n,r)=>Bn(n,t,!0,r)}function Hv(t,e,n){const r=qt.keys(t),i=Tt.keys(t),s=pn.keys(t),o={};return r.concat(i).concat(s).forEach(l=>{let a=n.query(l,W.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(t),o[a.attrName])||(a=Uv[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(t)||void 0),a=kc[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=kc[l],o[a.attrName]=a.value(t)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,f]=a;return Bn(l,c,f,n)},e)}function Vv(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof nt){const i={},s=r.value(t);if(s!=null)return i[r.blotName]=s,new G().insert(i,r.formats(t,n))}else if(r.prototype instanceof si&&!gi(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Bn(e,r.blotName,r.formats(t,n),n);return e}function Gv(t,e){return gi(e,`
`)||e.insert(`
`),e}function Wv(t,e,n){const r=n.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return Bn(e,"code-block",i,n)}function Zv(){return new G}function Yv(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!gi(e,`
`))return e;let i=-1,s=t.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new G)}function Xv(t,e,n){const r=t;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),Bn(e,"list",i,n)}function Ic(t,e,n){if(!gi(e,`
`)){if(ln(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(ln(r,n))return e.insert(`
`);const i=n.query(r);if(i&&i.prototype instanceof at)return e.insert(`
`);r=r.firstChild}}}return e}function Jv(t,e,n){var s;const r={},i=t.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,l)=>{let[a,c]=l;return Bn(o,a,c,n)},e),parseFloat(i.textIndent||0)>0?new G().insert("	").concat(e):e}function Qv(t,e,n){var i,s;const r=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(s=t.parentElement)==null?void 0:s.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return Bn(e,"table",l,n)}return e}function ew(t,e,n){var i;let r=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!Xd(t)){if(r.trim().length===0&&r.includes(`
`)&&!zv(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&ln(t.parentElement,n)||t.previousSibling instanceof Element&&ln(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&ln(t.parentElement,n)||t.nextSibling instanceof Element&&ln(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return e.insert(r)}class Jd extends St{constructor(n,r){super(n,r);$(this,"lastRecorded",0);$(this,"ignoreChange",!1);$(this,"stack",{undo:[],redo:[]});$(this,"currentRange",null);this.quill.on(k.events.EDITOR_CHANGE,(i,s,o,l)=>{i===k.events.SELECTION_CHANGE?s&&l!==k.sources.SILENT&&(this.currentRange=s):i===k.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===k.sources.USER?this.record(s,o):this.transform(s)),this.currentRange=al(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const s=this.quill.getContents(),o=i.delta.invert(s);this.stack[r].push({delta:o,range:al(i.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,k.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(r),s=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),s=l.range)}else this.lastRecorded=o;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Rc(this.stack.undo,n),Rc(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,k.sources.USER);else{const r=nw(this.quill.scroll,n.delta);this.quill.setSelection(r,k.sources.USER)}}}$(Jd,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Rc(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const i=t[r];t[r]={delta:n.transform(i.delta,!0),range:i.range&&al(i.range,n)},n=i.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function tw(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,W.BLOCK)!=null):!1}function nw(t,e){const n=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-n;return tw(t,e)&&(r-=1),r}function al(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class Qd extends St{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const l=e.selection.normalizedToRange(s);(o=r.dataTransfer)!=null&&o.files&&this.upload(l,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}Qd.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(n).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new G().retain(t.index).delete(t.length));this.quill.updateContents(i,H.sources.USER),this.quill.setSelection(t.index+r.length,H.sources.SILENT)})}};const rw=["insertText","insertReplacementText"];class iw extends St{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(k.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Ql({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new G().retain(e.index).insert(n,r),k.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,k.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!rw.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=sw(e);if(r==null)return;const i=this.quill.selection.normalizeNative(n),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function sw(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const ow=/Mac/i.test(navigator.platform),lw=100,aw=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||ow&&t.key==="a"&&t.ctrlKey===!0);class cw extends St{constructor(n,r){super(n,r);$(this,"isListening",!1);$(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:i,event:s}=r;if(!(i instanceof vt)||!i.uiNode)return!0;const o=getComputedStyle(i.domNode).direction==="rtl";return o&&s.key!=="ArrowRight"||!o&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(s.shiftKey?1:0),k.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&aw(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+lw,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof vt)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(s)}}k.register({"blots/block":De,"blots/block/embed":at,"blots/break":At,"blots/container":Dn,"blots/cursor":mr,"blots/embed":Gl,"blots/inline":Dt,"blots/scroll":sr,"blots/text":Et,"modules/clipboard":Yd,"modules/history":Jd,"modules/keyboard":_s,"modules/uploader":Qd,"modules/input":iw,"modules/uiNode":cw});class uw extends Tt{add(e,n){let r=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;r=n==="+1"?i+1:i-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const dw=new uw("indent","ql-indent",{scope:W.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class cl extends De{}$(cl,"blotName","blockquote"),$(cl,"tagName","blockquote");class ul extends De{static formats(e){return this.tagName.indexOf(e.tagName)+1}}$(ul,"blotName","header"),$(ul,"tagName",["H1","H2","H3","H4","H5","H6"]);class mi extends Dn{}mi.blotName="list-container";mi.tagName="OL";class bi extends De{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){k.register(mi)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const o=this.statics.formats(n,e);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}bi.blotName="list";bi.tagName="LI";mi.allowedChildren=[bi];bi.requiredContainer=mi;class li extends Dt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}$(li,"blotName","bold"),$(li,"tagName",["STRONG","B"]);class dl extends li{}$(dl,"blotName","italic"),$(dl,"tagName",["EM","I"]);class an extends Dt{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return ef(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}$(an,"blotName","link"),$(an,"tagName","A"),$(an,"SANITIZED_URL","about:blank"),$(an,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function ef(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class fl extends Dt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}$(fl,"blotName","script"),$(fl,"tagName",["SUB","SUP"]);class hl extends li{}$(hl,"blotName","strike"),$(hl,"tagName",["S","STRIKE"]);class gl extends Dt{}$(gl,"blotName","underline"),$(gl,"tagName","U");class Qi extends Gl{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}$(Qi,"blotName","formula"),$(Qi,"className","ql-formula"),$(Qi,"tagName","SPAN");const Mc=["alt","height","width"];class ml extends nt{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return Mc.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return ef(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){Mc.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}$(ml,"blotName","image"),$(ml,"tagName","IMG");const Pc=["height","width"];class es extends at{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return Pc.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return an.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){Pc.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}$(es,"blotName","video"),$(es,"className","ql-video"),$(es,"tagName","IFRAME");const Vr=new Tt("code-token","hljs",{scope:W.INLINE});class Yt extends Dt{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(He.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),Vr.add(this.domNode,r)}format(e,n){e!==Yt.blotName?super.format(e,n):n?Vr.add(this.domNode,n):(Vr.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Vr.value(this.domNode)||this.unwrap()}}Yt.blotName="code-token";Yt.className="ql-token";class lt extends He{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Yt.blotName,!1),super.replaceWith(e,n)}}class Wr extends $n{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===lt.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,i){r===lt.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=lt.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(Dd(c,!1)),new G),l=e(i,s);o.diff(l).reduce((a,c)=>{let{retain:f,attributes:h}=c;return f?(h&&Object.keys(h).forEach(d=>{[lt.blotName,Yt.blotName].includes(d)&&this.formatAt(a,f,d,h[d])}),a+f):a},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?lt.formats(r.domNode):"plain"}">
${Os(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=lt.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Wr.allowedChildren=[lt];lt.requiredContainer=Wr;lt.allowedChildren=[Yt,mr,Et,At];const fw=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class tf extends St{static register(){k.register(Yt,!0),k.register(lt,!0),k.register(Wr,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(k.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Wr))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=n.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),n.appendChild(o)}),n.addEventListener("change",()=>{e.format(lt.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=lt.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(k.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(k.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Wr):[e]).forEach(s=>{s.highlight(this.highlightBlot,n)}),this.quill.update(k.sources.SILENT),r!=null&&this.quill.setSelection(r,k.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Os(e).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[He.blotName]:n}),i.insert(s)),new G);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(He.className),r.innerHTML=fw(this.options.hljs,n,e),ea(this.quill.scroll,r,[(i,s)=>{const o=Vr.value(i);return o?s.compose(new G().retain(s.length(),{[Yt.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[He.blotName]:n}),o.insert(l)),s)],new WeakMap)}}tf.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Yr=class Yr extends De{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",ta()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Yr.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};$(Yr,"blotName","table"),$(Yr,"tagName","TD");let yt=Yr;class Xt extends Dn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),i=n.next.formats();if(r.table!==i.table){const s=this.splitAfter(n);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}$(Xt,"blotName","table-row"),$(Xt,"tagName","TR");class Rt extends Dn{}$(Rt,"blotName","table-body"),$(Rt,"tagName","TBODY");class pr extends Dn{balanceCells(){const e=this.descendants(Xt),n=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=yt.formats(r.children.head.domNode));const s=this.scroll.create(yt.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Rt);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(Rt);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(e),s=yt.formats(r.children.head.domNode),o=this.scroll.create(yt.blotName,s);r.insertBefore(o,i)})}insertRow(e){const[n]=this.descendant(Rt);if(n==null||n.children.head==null)return;const r=ta(),i=this.scroll.create(Xt.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(yt.blotName,r);i.appendChild(o)});const s=n.children.at(e);n.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}$(pr,"blotName","table-container"),$(pr,"tagName","TABLE");pr.allowedChildren=[Rt];Rt.requiredContainer=pr;Rt.allowedChildren=[Xt];Xt.requiredContainer=Rt;Xt.allowedChildren=[yt];yt.requiredContainer=Xt;function ta(){return`row-${Math.random().toString(36).slice(2,6)}`}class hw extends St{static register(){k.register(yt),k.register(Xt),k.register(Rt),k.register(pr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(pr).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(k.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(k.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(k.sources.USER),this.quill.setSelection(n,k.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==yt.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+e),this.quill.update(k.sources.USER);let l=i.rowOffset();e===0&&(l+=1),this.quill.setSelection(n.index+l,n.length,k.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const o=i.rowOffset();r.insertRow(o+e),this.quill.update(k.sources.USER),e>0?this.quill.setSelection(n,k.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,k.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const o=new Array(n).fill(`
`).join("");return s.insert(o,{table:ta()})},new G().retain(r.index));this.quill.updateContents(i,k.sources.USER),this.quill.setSelection(r.index,k.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(k.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(k.events.TEXT_CHANGE,(r,i,s)=>{s===k.sources.USER&&this.balanceTables()}),!0):!1)})}}const qc=tn("quill:toolbar");class na extends St{constructor(e,n){var r,i;if(super(e,n),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),gw(s,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){qc.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var l;const o=(l=this.options.handlers)==null?void 0:l[s];o&&this.addHandler(s,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(k.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){qc.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,s);else if(this.quill.scroll.query(n).prototype instanceof nt){if(s=prompt(`Enter ${n}`),!s)return;this.quill.updateContents(new G().retain(o.index).delete(o.length).insert({[n]:s}),k.sources.USER)}else this.quill.format(n,s,k.sources.USER);this.update(o)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(n[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(n[i])){let l=n[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=n[i],l=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const o=n[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}na.DEFAULTS={};function Dc(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function gw(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")Dc(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?mw(r,s,o):Dc(r,s,o)}}),t.appendChild(r)})}function mw(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),t.appendChild(r)}na.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,W.INLINE)!=null&&this.quill.format(n,!1,k.sources.USER)})}else this.quill.removeFormat(t.index,t.length,k.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",k.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,k.sources.USER),this.quill.format("direction",t,k.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,k.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,k.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,k.sources.USER):this.quill.format("list","unchecked",k.sources.USER):this.quill.format("list",t,k.sources.USER)}}};const bw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',pw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',yw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',vw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',ww='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',xw='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Ew='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Tw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',$c='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Aw='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Sw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Cw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Lw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Nw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Ow='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',_w='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',kw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Iw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Rw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Mw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Pw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',qw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Dw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',$w='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Bw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Fw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Kw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',jw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Uw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',zw='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Hw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Vw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Gw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ai={align:{"":bw,center:pw,right:yw,justify:vw},background:ww,blockquote:xw,bold:Ew,clean:Tw,code:$c,"code-block":$c,color:Aw,direction:{"":Sw,rtl:Cw},formula:Lw,header:{1:Nw,2:Ow,3:_w,4:kw,5:Iw,6:Rw},italic:Mw,image:Pw,indent:{"+1":qw,"-1":Dw},link:$w,list:{bullet:Bw,check:Fw,ordered:Kw},script:{sub:jw,super:Uw},strike:zw,table:Hw,underline:Vw,video:Gw},Ww='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Bc=0;function Fc(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class ks{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Fc(this.label,"aria-expanded"),Fc(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Ww,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Bc}`,Bc+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class nf extends ks{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class rf extends ks{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Zw=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};let sf=class{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Zw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${n+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${n+o}px`),s.bottom>i.bottom){const l=s.bottom-s.top,a=e.bottom-e.top+l;this.root.style.top=`${r-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const Yw=[!1,"center","right","justify"],Xw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Jw=[!1,"serif","monospace"],Qw=["1","2","3",!1],e2=["small",!1,"large","huge"];class pi extends br{constructor(e,n){super(e,n);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),n[s]!=null))if(s==="direction")r.innerHTML=n[s][""]+n[s].rtl;else if(typeof n[s]=="string")r.innerHTML=n[s];else{const o=r.value||"";o!=null&&n[s][o]&&(r.innerHTML=n[s][o])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Fr(i,Yw),typeof n.align=="object"))return new rf(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Fr(i,Xw,s==="background"?"#ffffff":"#000000"),new nf(i,n[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Fr(i,Jw):i.classList.contains("ql-header")?Fr(i,Qw):i.classList.contains("ql-size")&&Fr(i,e2)),new ks(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(H.events.EDITOR_CHANGE,r)}}pi.DEFAULTS=un({},br.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class of extends sf{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,H.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,H.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=t2(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,H.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",H.sources.USER),this.quill.setSelection(r+2,H.sources.USER)}break}}this.textbox.value="",this.hide()}}function t2(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Fr(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),t.appendChild(i)})}const n2=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class lf extends of{constructor(e,n){super(e,n),this.quill.on(H.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===H.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===H.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const a=this.quill.getBounds(i);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),f=Math.min(a.length()-1,i.index+i.length-c),h=this.quill.getBounds(new In(c,f));h!=null&&this.position(h)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(H.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}$(lf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class af extends pi{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=n2),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new lf(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),ai),this.buildPickers(e.container.querySelectorAll("select"),ai))}}af.DEFAULTS=un({},pi.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,k.sources.USER)}}}}});const r2=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class cf extends of{constructor(){super(...arguments);$(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,H.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(H.events.SELECTION_CHANGE,(n,r,i)=>{if(n!=null){if(n.length===0&&i===H.sources.USER){const[s,o]=this.quill.scroll.descendant(an,n.index);if(s!=null){this.linkRange=new In(n.index-o,s.length());const l=an.formats(s.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}$(cf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class uf extends pi{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=r2),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),ai),this.buildPickers(e.container.querySelectorAll("select"),ai),this.tooltip=new cf(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}uf.DEFAULTS=un({},pi.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,k.sources.USER)}}}}});k.register({"attributors/attribute/direction":jd,"attributors/class/align":Bd,"attributors/class/background":xv,"attributors/class/color":wv,"attributors/class/direction":Ud,"attributors/class/font":Vd,"attributors/class/size":Wd,"attributors/style/align":Fd,"attributors/style/background":Yl,"attributors/style/color":Zl,"attributors/style/direction":zd,"attributors/style/font":Gd,"attributors/style/size":Zd},!0);k.register({"formats/align":Bd,"formats/direction":Ud,"formats/indent":dw,"formats/background":Yl,"formats/color":Zl,"formats/font":Vd,"formats/size":Wd,"formats/blockquote":cl,"formats/code-block":He,"formats/header":ul,"formats/list":bi,"formats/bold":li,"formats/code":Xl,"formats/italic":dl,"formats/link":an,"formats/script":fl,"formats/strike":hl,"formats/underline":gl,"formats/formula":Qi,"formats/image":ml,"formats/video":es,"modules/syntax":tf,"modules/table":hw,"modules/toolbar":na,"themes/bubble":af,"themes/snow":uf,"ui/icons":ai,"ui/picker":ks,"ui/icon-picker":rf,"ui/color-picker":nf,"ui/tooltip":sf},!0);const[i2,s2]=hs({open:!1,onSelectCallback:()=>{}}),H2={get:i2,set:s2},[o2,l2]=hs({open:!1,onSelectCallback:()=>{},selectedLink:null}),V2={get:o2,set:l2};$t(["keydown","input"]);const[a2,c2]=hs({open:!1,onSelectCallback:()=>{},collectionKey:void 0}),G2={get:a2,set:c2},u2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xi=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=u2[n[t]&63];return e};const[ts,Te]=hs({bricks:[],fieldsErrors:[],brickErrors:[],locked:!1,documentMutated:!1,autoSaveCounter:0,collectionTranslations:!1,imagePreview:{open:!1,data:void 0},focusState:null,reset(){Te("bricks",[]),Te("fieldsErrors",[]),Te("brickErrors",[]),Te("documentMutated",!1),Te("autoSaveCounter",0),Te("collectionTranslations",!1),Te("focusState",null)},setBricks(t,e){Te("bricks",gt(n=>{n.push({ref:"collection-pseudo-brick",key:"collection-pseudo-brick",order:-1,type:"collection-fields",open:!1,fields:(t==null?void 0:t.fields)||[]});for(const r of(t==null?void 0:t.bricks)||[])n.push(r);for(const r of(e==null?void 0:e.fixedBricks)||[])n.findIndex(s=>s.key===r.key&&s.type==="fixed")===-1&&n.push({ref:Xi(),key:r.key,fields:[],type:"fixed",open:!1,order:-1})}))},addBrick(t){Te("bricks",gt(e=>{const n=e==null?void 0:e.reduce((r,i)=>r.order>i.order?r:i);e.push({ref:Xi(),key:t.brickConfig.key,order:n?n.order+1:0,type:"builder",open:!1,fields:[]})})),Te("documentMutated",!0)},removeBrick(t){Te("bricks",gt(e=>{e[t].type==="builder"&&e.splice(t,1)})),Te("documentMutated",!0)},toggleBrickOpen(t){Te("bricks",gt(e=>{e[t].open=e[t].open!==!0})),Te("documentMutated",!0)},swapBrickOrder(t){Te("bricks",gt(e=>{const n=e.find(s=>s.ref===t.brickRef),r=e.find(s=>s.ref===t.targetBrickRef);if(!n||!r)return;const i=n.order;n.order=r.order,r.order=i,e.sort((s,o)=>s.order-o.order)})),Te("documentMutated",!0)},setFieldValue(t){Te("bricks",gt(e=>{const n=Xn.findFieldRecursive({fields:e[t.brickIndex].fields,targetKey:t.key,groupRef:t.ref,repeaterKey:t.repeaterKey});n&&(t.fieldConfig.config.useTranslations===!0&&ts.collectionTranslations===!0?(n.translations||(n.translations={}),n.meta||(n.meta={}),n.translations[t.contentLocale]=t.value,n.meta[t.contentLocale]=t.meta||void 0):(n.value=t.value,n.meta=t.meta||void 0))})),Te("documentMutated",!0),Te("autoSaveCounter",e=>e+1)},addField(t){const e={key:t.fieldConfig.key,type:t.fieldConfig.type};if(t.fieldConfig.type!=="repeater")if(t.fieldConfig.config.useTranslations===!0&&ts.collectionTranslations===!0){e.translations={};for(const n of t.locales)e.translations[n]=t.fieldConfig.config.default}else e.value=t.fieldConfig.config.default;return yi.set("bricks",gt(n=>{var o;const r=n[t.brickIndex];if(!r)return;if(t.ref===void 0){r.fields.push(e);return}if(t.repeaterKey===void 0)return;const i=Xn.findFieldRecursive({fields:r.fields,targetKey:t.repeaterKey,groupRef:t.ref});if(!i||i.type!=="repeater")return;const s=(o=i.groups)==null?void 0:o.find(l=>l.ref===t.ref);s&&s.fields.push(e)})),e},addRepeaterGroup(t){Te("bricks",gt(e=>{var s;const n=Xn.findFieldRecursive({fields:e[t.brickIndex].fields,targetKey:t.key,groupRef:t.ref,repeaterKey:t.parentRepeaterKey});if(!n||n.type!=="repeater")return;n.groups===void 0&&(n.groups=[]);const r=[];for(const o of t.fieldConfig){const l={key:o.key,type:o.type};if(o.type!=="repeater")if(o.config.useTranslations===!0&&ts.collectionTranslations===!0){l.translations={};for(const a of t.locales)l.translations[a]=o.config.default}else l.value=o.config.default;r.push(l)}if(n.groups.length===0){n.groups=[{ref:Xi(),order:0,open:!1,fields:r}];return}const i=(s=n.groups)==null?void 0:s.reduce((o,l)=>o.order>l.order?o:l);n.groups.push({ref:Xi(),order:i.order+1,open:!1,fields:r})})),Te("documentMutated",!0)},removeRepeaterGroup(t){Te("bricks",gt(e=>{const n=Xn.findFieldRecursive({fields:e[t.brickIndex].fields,targetKey:t.repeaterKey,groupRef:t.ref,repeaterKey:t.parentRepeaterKey});if(!n||n.type!=="repeater"||n.groups===void 0)return;const r=n.groups.findIndex(i=>i.ref===t.targetRef);r!==-1&&n.groups.splice(r,1)})),Te("documentMutated",!0)},swapGroupOrder(t){Te("bricks",gt(e=>{const n=Xn.findFieldRecursive({fields:e[t.brickIndex].fields,targetKey:t.repeaterKey,groupRef:t.ref,repeaterKey:t.parentRepeaterKey});if(!n||n.type!=="repeater")return;n.groups===void 0&&(n.groups=[]);const r=n.groups.findIndex(o=>o.ref===t.selectedRef),i=n.groups.findIndex(o=>o.ref===t.targetRef);if(r===-1||i===-1)return;const s=n.groups[r].order;n.groups[r].order=n.groups[i].order,n.groups[i].order=s,n.groups.sort((o,l)=>o.order-l.order)})),Te("documentMutated",!0)},toggleGroupOpen:t=>{Te("bricks",gt(e=>{const n=Xn.findFieldRecursive({fields:e[t.brickIndex].fields,targetKey:t.repeaterKey,groupRef:t.parentRef,repeaterKey:t.parentRepeaterKey});if(!n||!n.groups)return;const r=n.groups.find(i=>i.ref===t.ref);r&&(r.open=r.open!==!0)})),Te("documentMutated",!0)}}),yi={get:ts,set:Te},bl=t=>{var e;for(const n of t.fields){if(!t.repeaterKey&&n.key===t.targetKey&&(!n.groupRef||n.groupRef===t.groupRef))return n;if(t.repeaterKey&&n.key===t.repeaterKey&&n.type==="repeater"&&n.groups){for(const r of n.groups)if(!t.groupRef||r.ref===t.groupRef)for(const i of r.fields){if(i.key===t.targetKey&&(!i.groupRef||i.groupRef===t.groupRef))return i;if(i.type==="repeater"){const s=bl({fields:((e=i.groups)==null?void 0:e.flatMap(o=>o.fields))||[],targetKey:t.targetKey,groupRef:t.groupRef,repeaterKey:t.repeaterKey});if(s)return s}}}else if(n.groups){const r=bl({fields:n.groups.flatMap(i=>i.fields),targetKey:t.targetKey,groupRef:t.groupRef,repeaterKey:t.repeaterKey});if(r)return r}}return null},d2=()=>{const t=yi.get.bricks.find(e=>e.type==="collection-fields");return t?t.fields:[]},f2=()=>yi.get.bricks.filter(t=>t.type!=="collection-fields"),h2=t=>t.groupRef===void 0?`field-${t.key}-${t.brickIndex}`:`field-${t.key}-${t.brickIndex}-${t.groupRef}`,g2=t=>{var n;if(!t.fieldData)return;const e=t.collectionTranslations??yi.get.collectionTranslations;return t.fieldConfig.config.useTranslations===!0&&e===!0?(n=t.fieldData.translations)==null?void 0:n[t.contentLocale]:t.fieldData.value},m2=t=>{var n;if(!t.fieldData)return;const e=t.collectionTranslations??yi.get.collectionTranslations;return t.fieldConfig.config.useTranslations===!0&&e===!0?(n=t.fieldData.meta)==null?void 0:n[t.contentLocale]:t.fieldData.meta},b2=t=>{const e=n=>{var r;return n.localeCode!==void 0&&n.localeCode!==t.currentLocale?!0:(r=n.groupErrors)!=null&&r.length?n.groupErrors.some(i=>i.fields.some(s=>e(s))):!1};return t.fieldErrors.some(e)?!0:t.brickErrors.some(n=>n.fields.some(e))},df=t=>t.reduce((e,n)=>{var r;return n&&(e[n.key]={...n,groups:(r=n.groups)==null?void 0:r.map(i=>({...i,fields:df(i.fields||[])}))}),e},{}),Xn={findFieldRecursive:bl,getCollectionPseudoBrickFields:d2,getUpsertBricks:f2,customFieldId:h2,getFieldValue:g2,getFieldMeta:m2,hasErrorsOnOtherLocale:b2,objectifyFields:df};var p2=Y("<div><input type=checkbox class=hidden><button type=button><span>");const W2=t=>{let e;return(()=>{var n=p2(),r=n.firstChild,i=r.nextSibling,s=i.firstChild;r.addEventListener("change",l=>{t.onChange(l.currentTarget.checked)});var o=e;return typeof o=="function"?or(o,r):e=r,i.$$click=()=>{e==null||e.click()},I(s,C(pl,{size:10,get class(){return ie("fill-current",{hidden:!t.value})}})),I(i,()=>t.copy.label,null),ce(l=>{var a=t.id,c=t.name,f=t.disabled,h=ie("flex items-center gap-2 h-9 px-2 text-sm rounded-md relative disabled:cursor-not-allowed disabled:opacity-50 focus:outline-hidden ring-1 ring-border focus:ring-1 ring-inset focus:ring-primary-base group duration-200 transition-colors",{"bg-input-base text-title hover:bg-secondary-hover hover:text-secondary-contrast":!t.value,"bg-primary-base hover:bg-primary-hover text-primary-contrast":t.value&&t.theme==="primary","bg-error-base hover:bg-error-hover text-error-contrast":t.value&&t.theme==="error"}),d=t.value,g=t.disabled,m=ie("rounded-sm size-4 border inline-flex items-center justify-center transition-colors duration-200",{"border-border bg-background-base group-hover:bg-background-base/20":!t.value,"bg-secondary-base border-secondary-base text-secondary-contrast":t.value});return a!==l.e&&le(r,"id",l.e=a),c!==l.t&&le(r,"name",l.t=c),f!==l.a&&(r.disabled=l.a=f),h!==l.o&&be(i,l.o=h),d!==l.i&&le(i,"aria-pressed",l.i=d),g!==l.n&&(i.disabled=l.n=g),m!==l.s&&be(s,l.s=m),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),ce(()=>r.checked=t.value),n})()};$t(["click"]);var y2=Y('<a class="mt-2 flex items-start text-sm">');const yn=t=>C(he,{get when(){var e;return(e=t.errors)==null?void 0:e.message},get children(){var e=y2();return I(e,C(Lf,{size:16,class:"text-error-base mt-[3px] mr-2"}),null),I(e,()=>{var n,r;return typeof((n=t.errors)==null?void 0:n.message)=="string"&&((r=t.errors)==null?void 0:r.message)},null),ce(()=>le(e,"href",`#${t.id}`)),e}});var v2=Y('<div class="text-sm mt-2 border-l-4 border-primary-base/40 pl-2">');const vn=t=>C(he,{get when(){return t==null?void 0:t.describedBy},get children(){var e=v2();return I(e,()=>t==null?void 0:t.describedBy),ce(()=>le(e,"id",`${t.id}-description`)),e}});var w2=Y('<span class="text-error-base mr-1 inline">'),x2=Y("<span>"),E2=Y('<span class="text-error-base ml-1 inline text-xs">*'),T2=Y('<span class="text-unfocused text-xs">'),A2=Y('<label><span class="flex items-center">');const wn=t=>C(he,{get when(){return(t==null?void 0:t.label)!==void 0},get children(){var e=A2(),n=e.firstChild;return I(n,C(he,{get when(){return t.fieldColumnIsMissing},get children(){var r=w2();return I(r,C(Nf,{size:12})),ce(()=>le(r,"title",xe()("this_field_is_missing_from_the_database"))),r}}),null),I(n,C(he,{get when(){return t.localised},get children(){var r=x2();return I(r,C(Of,{size:12})),ce(i=>{var s=ie("mr-1 inline",{"text-error-base":t.altLocaleError}),o=t.altLocaleError?xe()("this_filed_has_errors_in_other_locales"):xe()("this_field_supports_translations");return s!==i.e&&be(r,i.e=s),o!==i.t&&le(r,"title",i.t=o),i},{e:void 0,t:void 0}),r}}),null),I(n,()=>t==null?void 0:t.label,null),I(n,C(he,{get when(){return t.required},get children(){return E2()}}),null),I(e,C(he,{get when(){return!t.required&&!t.hideOptionalText},get children(){var r=T2();return I(r,()=>xe()("optional")),r}}),null),ce(r=>{var i=t.id,s=ie("text-sm transition-colors duration-200 ease-in-out flex justify-between text-title",{"text-primary-hover":t.focused,"pt-2 px-2":t.noPadding!==!0&&t.theme==="full","mb-2":t.noPadding===!0});return i!==r.e&&le(e,"for",r.e=i),s!==r.t&&be(e,r.t=s),r},{e:void 0,t:void 0}),e}});var S2=Y('<p class="text-sm text-primary-contrast">');const ff=t=>C(he,{get when(){return t.copy},get children(){return C(Ur.Root,{get children(){return[C(Ur.Trigger,{get class(){return ie("h-4 w-4 cursor-help hover:bg-primary-base absolute bg-primary-base rounded-full fill-primary-contrast flex items-center justify-center duration-200 transition-colors",{"top-1/2 -translate-y-1/2 right-2":t.theme==="full","top-0 right-0":t.theme==="basic"})},get children(){return C(_f,{size:10})}}),C(Ur.Portal,{get children(){return C(Ur.Content,{class:"z-50 bg-primary-base w-80 mt-2 rounded-md p-4 border border-primary-hover shadow-xs",get children(){var e=S2();return I(e,()=>t.copy),e}})}})]}})}});export{fm as $,ps as A,O2 as B,W2 as C,rd as D,_2 as E,fi as F,Mt as G,Wf as H,k2 as I,Xe as J,xs as K,Mf as L,Su as M,Qc as N,dh as O,Ge as P,wn as Q,vn as R,P2 as S,I2 as T,yn as U,k as V,Gc as W,q2 as X,$2 as Y,tm as Z,ui as _,R2 as a,rm as a0,Ue as a1,q as a2,bs as a3,hh as a4,wh as a5,Vf as a6,Zc as a7,ff as a8,M2 as b,gs as c,Je as d,Il as e,ei as f,yl as g,El as h,_e as i,zh as j,Dh as k,gm as l,Oe as m,N2 as n,Me as o,Hh as p,su as q,D2 as r,Cu as s,H2 as t,G2 as u,V2 as v,yi as w,Xn as x,Pm as y,cn as z};
