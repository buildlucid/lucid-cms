import{b as l,e as g,a as e,T as t,j as w,u as _,M as u,g as h,t as a,s as f,i as c,h as v}from"./index-CQ3-BSEL.js";import{I as m,E as b,n as k}from"./Tooltip-C4WAYcWb.js";import{F as P}from"./Form-DkqXFt5b.js";import{g as p}from"./error-helpers-D9jUdhyT.js";import{L as C}from"./logo-icon-B4RyaE9T.js";import"./ErrorMessage-BUQl5hDc.js";const y=i=>{const[n,d]=l(""),[o,s]=l(""),r=g.account.useResetPassword();return e(P,{get state(){return{isLoading:r.action.isPending,errors:r.errors()}},get content(){return{submit:t()("reset_password")}},options:{buttonFullWidth:!0},onSubmit:()=>{r.action.mutate({token:i.token,password:n(),passwordConfirmation:o()})},get children(){return[e(m,{id:"password",name:"password",type:"password",get value(){return n()},onChange:d,get copy(){return{label:t()("password")}},required:!0,autoFoucs:!0,get errors(){return p("password",r.errors)},theme:"full"}),e(m,{id:"passwordConfirmation",name:"passwordConfirmation",type:"password",get value(){return o()},onChange:s,get copy(){return{label:t()("confirm_password")}},required:!0,get errors(){return p("passwordConfirmation",r.errors)},theme:"full"})]}})};var L=a('<img alt="Lucid CMS Logo"class="h-10 mx-auto mb-6">'),x=a('<h1 class="mb-1 text-center">'),$=a('<p class="text-center max-w-sm mx-auto">'),F=a("<div class=my-10>");const T=()=>{const i=w(),n=_(),o=new URLSearchParams(i.search).get("token");o||n("/admin/login");const s=g.account.useVerifyResetToken({queryParams:{location:{token:o}},enabled:()=>o!==null});return e(v,{get children(){return[e(u,{get when(){return s.isLoading},get children(){return e(h,{})}}),e(u,{get when(){return s.isError},get children(){return e(b,{get content(){return{image:k,title:t()("token_provided_invalid"),description:t()("token_provided_invalid_description")}},get link(){return{text:t()("back_to_login"),href:"/admin/login"}}})}}),e(u,{get when(){return s.isSuccess},get children(){return[(()=>{var r=L();return f(r,"src",C),r})(),(()=>{var r=x();return c(r,()=>t()("reset_password_route_title")),r})(),(()=>{var r=$();return c(r,()=>t()("reset_password_route_description")),r})(),(()=>{var r=F();return c(r,e(y,{token:o})),r})()]}})]}})};export{T as default};
