import{t as f,i as c,a,Z as b,V as P,y as h,r as I,d as p,a0 as H,$ as O,_ as T,b as U,f as Z,M as F,T as S,h as z,am as G,D as J,w as K,P as Q,k as W}from"./index-CQ3-BSEL.js";import{_ as X,P as L,o as _,h as k,m as Y,A as ee}from"./Tooltip-C4WAYcWb.js";import"./Tr-Dh-rHsqH.js";var v=f("<li>"),te=f("<ul>"),u={};X(u,{Ellipsis:()=>D,Item:()=>R,Items:()=>j,Next:()=>N,Pagination:()=>ne,Previous:()=>A,Root:()=>V});function D(r){return(()=>{var t=v();return c(t,a(L,b({as:"div"},r))),t})()}var M=O();function x(){const r=T(M);if(r===void 0)throw new Error("[kobalte]: `usePaginationContext` must be used within a `Pagination` component");return r}function R(r){const t=x(),[o,e]=P(r,["page","onClick"]),s=()=>t.page()===o.page,n=()=>{t.setPage(o.page)};return(()=>{var i=v();return c(i,a(k,b({get"aria-current"(){return s()?"page":void 0},get"data-current"(){return s()?"":void 0},get onClick(){return _([o.onClick,n])}},e))),i})()}function j(r){const t=x(),o=h(()=>{const{count:e,siblingCount:s,page:n,fixedItems:i,showFirst:l,showLast:m}=t,C=e()<2*s()+(i()?6:4);if(C)return{renderItemsDirectly:C};const $=l()&&n()-1>s(),E=m()&&e()-n()>s();let w=n()-(l()?2:1)>s(),y=e()-n()-(m()?1:0)>s(),g=Math.min(n()-1,s()),d=Math.min(e()-n(),s());if(i()!==!1){const q=g,B=d;g+=Math.max(s()-B,0),d+=Math.max(s()-q,0),$||d++,E||g++,i()===!0&&(w||d++,y||g++),n()-g-(l()?2:1)===1&&(w=!1,g++),e()-n()-d-(m()?1:0)===1&&(y=!1,d++)}return{showFirst:$,showLast:E,showFirstEllipsis:w,showLastEllipsis:y,previousSiblingCount:g,nextSiblingCount:d,renderItemsDirectly:C}});return a(p,{get when(){return o().renderItemsDirectly},get fallback(){return[a(p,{get when(){return o().showFirst},get children(){return t.renderItem(1)}}),a(p,{get when(){return o().showFirstEllipsis},get children(){return t.renderEllipsis()}}),a(I,{get each(){return[...Array(o().previousSiblingCount).keys()].reverse()},children:e=>h(()=>t.renderItem(t.page()-(e+1)))}),h(()=>t.renderItem(t.page())),a(I,{get each(){return[...Array(o().nextSiblingCount).keys()]},children:e=>h(()=>t.renderItem(t.page()+(e+1)))}),a(p,{get when(){return o().showLastEllipsis},get children(){return t.renderEllipsis()}}),a(p,{get when(){return o().showLast},get children(){return t.renderItem(t.count())}})]},get children(){return a(I,{get each(){return[...Array(t.count()).keys()]},children:e=>h(()=>t.renderItem(e+1))})}})}function N(r){const t=x(),[o,e]=P(r,["onClick"]),s=()=>{t.setPage(t.page()+1)},n=()=>t.page()===t.count();return(()=>{var i=v();return c(i,a(k,b({get tabIndex(){return n()||t.page()===t.count()?-1:void 0},get disabled(){return n()},get"aria-disabled"(){return n()||void 0},get"data-disabled"(){return n()?"":void 0},get onClick(){return _([o.onClick,s])}},e))),i})()}function A(r){const t=x(),[o,e]=P(r,["onClick"]),s=()=>{t.setPage(t.page()-1)},n=()=>t.page()===1;return(()=>{var i=v();return c(i,a(k,b({get tabIndex(){return n()||t.page()===1?-1:void 0},get disabled(){return n()},get"aria-disabled"(){return n()||void 0},get"data-disabled"(){return n()?"":void 0},get onClick(){return _([o.onClick,s])}},e))),i})()}function V(r){const t=`pagination-${H()}`,o=Y({id:t},r),[e,s]=P(o,["page","defaultPage","onPageChange","count","siblingCount","showFirst","showLast","fixedItems","itemComponent","ellipsisComponent","disabled","children"]),n=ee({defaultValue:()=>e.defaultPage??1,onChange:e.onPageChange,value:()=>e.page}),i={count:()=>e.count,siblingCount:()=>e.siblingCount??1,showFirst:()=>e.showFirst??!0,showLast:()=>e.showLast??!0,fixedItems:()=>e.fixedItems??!1,isDisabled:()=>e.disabled??!1,renderItem:l=>e.itemComponent({page:l}),renderEllipsis:e.ellipsisComponent,page:()=>Math.min(n[0]()??1,e.count),setPage:n[1]};return a(M.Provider,{value:i,get children(){return a(L,b({as:"nav",get"data-disabled"(){return e.disabled?"":void 0}},s,{get children(){var l=te();return c(l,()=>e.children),l}}))}})}var ne=Object.assign(V,{Ellipsis:D,Item:R,Items:j,Next:N,Previous:A}),re=f('<div class="flex md:flex-row flex-col justify-between md:items-center gap-2"><span class="text-sm text-body md:mb-0">');const ae=r=>{const[t,o]=U(1),e=h(()=>{var n,i,l;return{page:((n=r.state.meta)==null?void 0:n.currentPage)??1,lastPage:((i=r.state.meta)==null?void 0:i.lastPage)??1,total:((l=r.state.meta)==null?void 0:l.total)??0}}),s=h(()=>{var n;return((n=r.state.meta)==null?void 0:n.lastPage)??1});return Z(()=>{var n;o(((n=r.state.meta)==null?void 0:n.currentPage)??1)}),(()=>{var n=re(),i=n.firstChild;return c(i,a(z,{get children(){return[a(F,{get when(){return e().total===0},get children(){return S()("pagination_empty")}}),a(F,{get when(){return e().total>0},get children(){return S()("pagination_text",{page:e().page,lastPage:e().lastPage,total:e().total})}})]}})),c(n,a(p,{get when(){return s()>1},get children(){return a(u.Root,{class:"flex [&>ul]:flex [&>ul]:border [&>ul]:border-border [&>ul]:rounded-md [&>ul]:overflow-hidden",get page(){return t()},onPageChange:l=>{var m;r.state.searchParams.setParams({pagination:{page:l,perPage:((m=r.state.meta)==null?void 0:m.perPage)||void 0}}),o(l)},get count(){return s()},itemComponent:l=>a(u.Item,{class:"h-9 w-9 flex items-center justify-center data-current:bg-secondary-base data-current:text-secondary-contrast hover:bg-secondary-base hover:text-secondary-contrast duration-200 transition-colors bg-card-base",get page(){return l.page},get children(){return l.page}}),ellipsisComponent:()=>a(u.Ellipsis,{class:"h-9 w-9 flex items-center justify-center bg-card-base",children:"..."}),get children(){return[a(u.Previous,{class:"h-9 w-9 flex items-center justify-center text-title hover:bg-secondary-base hover:text-secondary-contrast duration-200 transition-colors disabled:opacity-50 bg-card-base",get children(){return a(G,{})}}),a(u.Items,{}),a(u.Next,{class:"h-9 w-9 flex items-center justify-center text-title hover:bg-secondary-base hover:text-secondary-contrast duration-200 transition-colors disabled:opacity-50 bg-card-base",get children(){return a(J,{})}})]}})}}),null),n})()};var se=f("<footer>");const ce=r=>(()=>{var t=se();return c(t,a(ae,{get state(){return{meta:r.state.meta,searchParams:r.state.searchParams}}})),K(()=>{var o,e,s;return Q(t,W("border-t border-border",{"p-4 md:p-6":((o=r.options)==null?void 0:o.padding)==="24","p-4":((e=r.options)==null?void 0:e.padding)==="16","p-0 mt-4 border-t-0":(s=r.options)==null?void 0:s.embedded}))}),t})();export{ce as P};
