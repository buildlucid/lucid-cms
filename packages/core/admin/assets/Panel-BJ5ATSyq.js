import{b as C,f as k,a as r,t as c,i,h as z,M as x,w as y,P as h,k as b,d as m,F as B,T as D,z as w}from"./index-CQ3-BSEL.js";import{E as O,n as F,B as j}from"./Tooltip-C4WAYcWb.js";import{d as g}from"./ISASYZ5H-BKhR2em3.js";import{E as M}from"./ErrorMessage-BUQl5hDc.js";import{C as A}from"./ContentLocaleSelect-Cb-MBOKh.js";var N=c("<div>"),R=c('<div class="flex items-center h-full justify-center">'),T=c("<h2>"),q=c('<p class="mt-1 text-sm">'),H=c("<span class=sr-only>"),I=c("<div class=mt-2>"),V=c('<div><div class="flex justify-between items-start gap-x-10"><div>'),X=c('<form class="grow flex flex-col justify-between"><div></div><div><div class="flex min-w-max gap-2">'),G=c('<div class="fixed inset-4 z-40 flex justify-end">');const Y=n=>{const[p,P]=C(null),[v,f]=C(void 0),_=()=>{var e;if(!((e=n.langauge)!=null&&e.useDefaultcontentLocale))return w.get.contentLocale;const o=w.get.locales.find(l=>l.isDefault);return o?o.code:w.get.contentLocale};return k(()=>{var o,e;n.state.open&&(P(document.activeElement),f(_())),n.state.open===!1&&((e=(o=n.callbacks)==null?void 0:o.reset)==null||e.call(o))}),k(()=>{const o=_();v()===void 0&&o!==void 0&&f(o)}),r(g.Root,{get open(){return n.state.open},onOpenChange:()=>n.state.setOpen(!n.state.open),get children(){return r(g.Portal,{get children(){return[r(g.Overlay,{class:"fixed inset-0 z-40 bg-background-base/80 animate-animate-overlay-hide cursor-pointer duration-200 transition-colors data-expanded:animate-animate-overlay-show"}),(()=>{var o=G();return i(o,r(g.Content,{class:"w-full relative flex flex-col rounded-xl scrollbar border border-border  max-w-[800px] bg-background-base animate-animate-slide-from-right-out data-expanded:animate-animate-slide-from-right-in outline-hidden overflow-y-auto",onPointerDownOutside:e=>{e.target.hasAttribute("data-panel-ignore")&&(e.stopPropagation(),e.preventDefault())},onCloseAutoFocus:()=>{let e=p();(e instanceof HTMLBodyElement||!e)&&(e=document.querySelector("button:not([tabindex='-1']), a:not([tabindex='-1'])")),e&&"focus"in e&&e.focus()},get children(){return r(z,{get children(){return[r(x,{get when(){var e;return!n.state.open||((e=n.fetchState)==null?void 0:e.isLoading)},get children(){var e=N();return y(()=>{var l,d;return h(e,b("skeleton absolute rounded-xl overflow-hidden",{"inset-4":((l=n.options)==null?void 0:l.padding)==="16","inset-6 md:inset-5":((d=n.options)==null?void 0:d.padding)==="24"}))}),e}}),r(x,{get when(){var e;return(e=n.fetchState)==null?void 0:e.isError},get children(){var e=R();return i(e,r(O,{get content(){var l;return{image:F,title:(l=n.copy)==null?void 0:l.fetchError}}})),e}}),r(x,{get when(){return n.state.open},get children(){return[(()=>{var e=V(),l=e.firstChild,d=l.firstChild;return i(d,r(m,{get when(){var a;return(a=n.copy)==null?void 0:a.title},get children(){var a=T();return i(a,()=>{var t;return(t=n.copy)==null?void 0:t.title}),a}}),null),i(d,r(m,{get when(){var a;return(a=n.copy)==null?void 0:a.description},get children(){var a=q();return i(a,()=>{var t;return(t=n.copy)==null?void 0:t.description}),a}}),null),i(l,r(g.CloseButton,{class:"flex items-center text-body hover:text-title w-6 h-6 min-w-6 rounded-full focus:outline-hidden focus:ring-1 ring-primary-base bg-background-base justify-center",get children(){return[r(B,{class:"text-current"}),(()=>{var a=H();return i(a,()=>D()("back")),a})()]}}),null),i(e,r(m,{get when(){var a;return(a=n.langauge)==null?void 0:a.contentLocale},get children(){var a=I();return i(a,r(A,{get value(){return v()},setValue:f,get hasError(){var t;return(t=n.langauge)==null?void 0:t.hascontentLocaleError},showShortcut:!0})),a}}),null),y(()=>{var a,t;return h(e,b("border-b border-border",{"mx-4 py-4 mb-4":((a=n.options)==null?void 0:a.padding)==="16","mx-4 md:mx-6 py-4 md:pt-6 mb-4":((t=n.options)==null?void 0:t.padding)==="24"}))}),e})(),(()=>{var e=X(),l=e.firstChild,d=l.nextSibling,a=d.firstChild;return e.addEventListener("submit",t=>{var s,u;t.preventDefault(),(s=n.callbacks)!=null&&s.onSubmit&&((u=n.callbacks)==null||u.onSubmit())}),i(l,()=>n.children({contentLocale:v,setContentLocale:f})),i(a,r(m,{get when(){var t;return(t=n.copy)==null?void 0:t.submit},get children(){return r(j,{type:"submit",theme:"primary",size:"medium",get loading(){var t;return(t=n.mutateState)==null?void 0:t.isLoading},get disabled(){var t;return(t=n.mutateState)==null?void 0:t.isDisabled},get children(){var t;return(t=n.copy)==null?void 0:t.submit}})}}),null),i(a,r(j,{size:"medium",theme:"border-outline",type:"button",onClick:()=>n.state.setOpen(!1),get children(){return D()("close")}}),null),i(d,r(m,{get when(){var t,s;return(s=(t=n.mutateState)==null?void 0:t.errors)==null?void 0:s.message},get children(){return r(M,{theme:"basic",get message(){var t,s;return(s=(t=n.mutateState)==null?void 0:t.errors)==null?void 0:s.message}})}}),null),y(t=>{var $,L,S,E;var s=b({"px-4":(($=n.options)==null?void 0:$.padding)==="16","px-4 md:px-6":((L=n.options)==null?void 0:L.padding)==="24"}),u=b("flex justify-between items-center gap-4",{"mx-4 py-4":((S=n.options)==null?void 0:S.padding)==="16","mx-4 md:mx-6 py-4 md:py-6 ":((E=n.options)==null?void 0:E.padding)==="24"});return s!==t.e&&h(l,t.e=s),u!==t.t&&h(d,t.t=u),t},{e:void 0,t:void 0}),e})()]}})]}})}})),o})()]}})}})};export{Y as P};
