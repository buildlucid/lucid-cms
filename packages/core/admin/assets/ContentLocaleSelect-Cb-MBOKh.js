import{t as v,i as o,T as s,a as i,d as w,w as _,P as x,k as L,y as m,M as u,h as E,Q as S,X as M,z as g}from"./index-CQ3-BSEL.js";import{B as $,W as P,E as f,n as K,a as b}from"./Tooltip-C4WAYcWb.js";const B="/admin/assets/no-permission-BsBGQNVy.svg";var I=v('<div><div class="text-center flex flex-col items-center"><h2 class=mb-2></h2><p class="max-w-96 text-sm">');const N=e=>(()=>{var c=I(),t=c.firstChild,r=t.firstChild,n=r.nextSibling;return o(r,()=>{var a;return((a=e.copy)==null?void 0:a.title)||s()("no_entries_title")}),o(n,()=>{var a;return((a=e.copy)==null?void 0:a.description)||s()("no_entries_description")}),o(t,i(w,{get when(){var a;return((a=e.callbacks)==null?void 0:a.action)!==void 0},get children(){return i($,{theme:"primary",size:"medium",classes:"mt-6",get onClick(){var a;return(a=e.callbacks)==null?void 0:a.action},get permission(){var a;return(a=e.permissions)==null?void 0:a.create},get children(){var a;return((a=e.copy)==null?void 0:a.button)||s()("create_entry")}})}}),null),_(()=>{var a;return x(c,L("flex items-center justify-center p-4 md:p-6",e.class,{"flex-grow":(a=e.options)==null?void 0:a.grow}))}),c})();var D=v("<div>");const V=e=>(()=>{var c=D();return o(c,i(P,{size:"md"})),_(()=>x(c,L("flex items-center justify-center"))),c})();var y=v('<div class="flex-1 flex items-center justify-center">'),z=v("<div>");const q=e=>[(()=>{var c=z();return o(c,i(E,{get fallback(){return e.children},get children(){return[i(u,{get when(){var t;return(t=e.state)==null?void 0:t.isError},get children(){var t=y();return o(t,i(f,{get content(){var r,n,a,l;return{image:K,title:(n=(r=e.copy)==null?void 0:r.error)==null?void 0:n.title,description:(l=(a=e.copy)==null?void 0:a.error)==null?void 0:l.description}}})),t}}),i(u,{get when(){var t,r;return((t=e.state)==null?void 0:t.isEmpty)&&((r=e.options)==null?void 0:r.hideNoEntries)!==!0},get children(){var t=y();return o(t,i(w,{get when(){var r,n;return!((n=(r=e.state)==null?void 0:r.searchParams)!=null&&n.hasFiltersApplied())},get children(){return i(N,{get copy(){var r,n,a,l,h,d;return{title:(n=(r=e.copy)==null?void 0:r.noEntries)==null?void 0:n.title,description:(l=(a=e.copy)==null?void 0:a.noEntries)==null?void 0:l.description,button:(d=(h=e.copy)==null?void 0:h.noEntries)==null?void 0:d.button}},get callbacks(){var r;return{action:(r=e.callback)==null?void 0:r.createEntry}},get permissions(){var r;return{create:(r=e.permissions)==null?void 0:r.create}}})}}),null),o(t,i(w,{get when(){var r,n;return(n=(r=e.state)==null?void 0:r.searchParams)==null?void 0:n.hasFiltersApplied()},get children(){return i(f,{get content(){return{title:s()("no_results"),description:s()("no_results_message")}},get children(){return i($,{type:"submit",theme:"primary",size:"medium",onClick:()=>{var r,n;(n=(r=e.state)==null?void 0:r.searchParams)==null||n.resetFilters()},get children(){return s()("reset_filters")}})}})}}),null),t}}),i(u,{get when(){var t;return(t=e.state)==null?void 0:t.isLoading},get children(){var t=y();return o(t,i(V,{})),t}}),i(u,{get when(){var t;return((t=e.state)==null?void 0:t.hasPermission)===!1},get children(){return i(f,{get content(){return{image:B,title:s()("no_permission"),description:s()("no_permission_description")}}})}}),i(u,{get when(){var t;return(t=e.state)==null?void 0:t.isSuccess},get children(){return e.children}})]}})),_(()=>{var t,r,n;return x(c,L("flex flex-col",e.class,{"p-4 md:p-6":((t=e.options)==null?void 0:t.padding)==="24","p-4":((r=e.options)==null?void 0:r.padding)==="16","flex-1 h-full":((n=e.options)==null?void 0:n.inline)!==!0}))}),c})(),m(()=>{var c;return(c=e.slot)==null?void 0:c.footer})],j=()=>/Mac|iPod|iPhone|iPad/.test(navigator.userAgent),A=j()?"âŒ˜":"Ctrl",C={changeLocale:`${A}+Shift+L`},F=()=>!!document.querySelector('[role="dialog"][data-expanded]'),G=e=>{const c=t=>{var r,n;(r=e.changeLocale)!=null&&r.permission()&&(t.metaKey||t.ctrlKey)&&t.shiftKey&&t.key.toLowerCase()==="l"&&(t.preventDefault(),t.stopPropagation(),e.changeLocale.callback()),(n=e.newEntry)!=null&&n.permission()&&t.shiftKey&&t.key.toLowerCase()==="t"&&(t.preventDefault(),e.newEntry.callback())};S(()=>{window.addEventListener("keydown",c)}),M(()=>{window.removeEventListener("keydown",c)})},R=e=>{G({changeLocale:{permission:()=>{const n=F(),a=e.value===void 0,l=e.value!==void 0;return!(a&&n||l&&!n)},callback:()=>{const n=e.value!==void 0?e.value:c(),a=t(),h=(a.findIndex(k=>k.code===n)+1)%a.length,d=a[h].code;e.value!==void 0&&e.setValue?e.setValue(d):g.get.setContentLocale(d)}}});const c=m(()=>g.get.contentLocale),t=m(()=>g.get.locales),r=m(()=>t().map(n=>({value:n.code,label:`${n.name?`${n.name} (${n.code})`:n.code}`}))||[]);return i(E,{get children(){return[i(u,{get when(){return e.value===void 0},get children(){return i(b,{id:"content-locale",get value(){return c()},onChange:n=>{n?g.get.setContentLocale(n.toString()):g.get.setContentLocale(void 0)},name:"content-locale",get options(){return r()},noMargin:!0,noClear:!0,get hasError(){return e.hasError},theme:"basic-small",get shortcut(){return e.showShortcut?C.changeLocale:void 0}})}}),i(u,{get when(){return e.value!==void 0},get children(){return i(b,{id:"content-locale",get value(){return e.value},onChange:n=>{var a,l;n?(l=e.setValue)==null||l.call(e,n.toString()):(a=e.setValue)==null||a.call(e,void 0)},name:"content-locale",get options(){return r()},noMargin:!0,noClear:!0,get hasError(){return e.hasError},theme:"basic-small",get shortcut(){return e.showShortcut?C.changeLocale:void 0}})}})]}})};export{R as C,q as D,N,G as u};
