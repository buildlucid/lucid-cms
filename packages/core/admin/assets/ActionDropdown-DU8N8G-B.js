import{$ as G,_ as W,f as w,X as B,a,Z as m,a0 as X,b as C,y as E,V as S,Y as j,d as O,aM as se,t as _,i as h,aN as ie,k as I,w as z,P as K,T as L,aO as le,r as de,h as ce,M as H,A as ue,D as U,a9 as V,aa as ge}from"./index-CQ3-BSEL.js";import{m as y,P as F,a2 as l,f as q,g as Y,a3 as fe,d as A,_ as be,s as he,c as me,a4 as pe,a5 as ve,a6 as Ce,i as R,a7 as ye,R as xe,a8 as ke,U as Ie,z as T,D as we,W as _e}from"./Tooltip-C4WAYcWb.js";var Fe=["id","name","validationState","required","disabled","readOnly"];function Pe(t){const n=`form-control-${X()}`,e=y({id:n},t),[r,o]=C(),[s,g]=C(),[f,i]=C(),[d,p]=C(),x=(u,b,k)=>{const N=k!=null||r()!=null;return[k,r(),N&&b!=null?u:void 0].filter(Boolean).join(" ")||void 0},v=u=>[f(),d(),u].filter(Boolean).join(" ")||void 0,M=E(()=>({"data-valid":l(e.validationState)==="valid"?"":void 0,"data-invalid":l(e.validationState)==="invalid"?"":void 0,"data-required":l(e.required)?"":void 0,"data-disabled":l(e.disabled)?"":void 0,"data-readonly":l(e.readOnly)?"":void 0}));return{formControlContext:{name:()=>l(e.name)??l(e.id),dataset:M,validationState:()=>l(e.validationState),isRequired:()=>l(e.required),isDisabled:()=>l(e.disabled),isReadOnly:()=>l(e.readOnly),labelId:r,fieldId:s,descriptionId:f,errorMessageId:d,getAriaLabelledBy:x,getAriaDescribedBy:v,generateId:Y(()=>l(e.id)),registerLabel:q(o),registerField:q(g),registerDescription:q(i),registerErrorMessage:q(p)}}}var Z=G();function P(){const t=W(Z);if(t===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return t}function De(t){const n=P(),e=y({id:n.generateId("description")},t);return w(()=>B(n.registerDescription(e.id))),a(F,m({as:"div"},()=>n.dataset(),e))}var Re=["id","aria-label","aria-labelledby","aria-describedby"];function Ee(t){const n=P(),e=y({id:n.generateId("field")},t);return w(()=>B(n.registerField(l(e.id)))),{fieldProps:{id:()=>l(e.id),ariaLabel:()=>l(e["aria-label"]),ariaLabelledBy:()=>n.getAriaLabelledBy(l(e.id),l(e["aria-label"]),l(e["aria-labelledby"])),ariaDescribedBy:()=>n.getAriaDescribedBy(l(e["aria-describedby"]))}}}function Se(t){let n;const e=P(),r=y({id:e.generateId("label")},t),[o,s]=S(r,["ref"]),g=fe(()=>n,()=>"label");return w(()=>B(e.registerLabel(s.id))),a(F,m({as:"label",ref(f){var i=A(d=>n=d,o.ref);typeof i=="function"&&i(f)},get for(){return E(()=>g()==="label")()?e.fieldId():void 0}},()=>e.dataset(),s))}function $e(t,n){w(j(t,e=>{if(e==null)return;const r=Me(e);r!=null&&(r.addEventListener("reset",n,{passive:!0}),B(()=>{r.removeEventListener("reset",n)}))}))}function Me(t){return Le(t)?t.form:t.closest("form")}function Le(t){return t.matches("textarea, input, select, button")}function Oe(t){const n=P(),e=y({id:n.generateId("error-message")},t),[r,o]=S(e,["forceMount"]),s=()=>n.validationState()==="invalid";return w(()=>{s()&&B(n.registerErrorMessage(o.id))}),a(O,{get when(){return r.forceMount||s()},get children(){return a(F,m({as:"div"},()=>n.dataset(),o))}})}var D={};be(D,{Checkbox:()=>qe,Control:()=>Q,Description:()=>ee,ErrorMessage:()=>te,Indicator:()=>re,Input:()=>ne,Label:()=>oe,Root:()=>ae});var J=G();function $(){const t=W(J);if(t===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return t}function Q(t){const n=P(),e=$(),r=y({id:e.generateId("control")},t),[o,s]=S(r,["onClick","onKeyDown"]);return a(F,m({as:"div",onClick:i=>{var d;R(i,o.onClick),e.toggle(),(d=e.inputRef())==null||d.focus()},onKeyDown:i=>{var d;R(i,o.onKeyDown),i.key===ye.Space&&(e.toggle(),(d=e.inputRef())==null||d.focus())}},()=>n.dataset(),()=>e.dataset(),s))}function ee(t){const n=$();return a(De,m(()=>n.dataset(),t))}function te(t){const n=$();return a(Oe,m(()=>n.dataset(),t))}function re(t){const n=P(),e=$(),[r,o]=C(),s=y({id:e.generateId("indicator")},t),[g,f]=S(s,["ref","forceMount"]),{present:i}=he({show:()=>g.forceMount||e.indeterminate()||e.checked(),element:()=>r()??null});return a(O,{get when(){return i()},get children(){return a(F,m({as:"div",ref(d){var p=A(o,g.ref);typeof p=="function"&&p(d)}},()=>n.dataset(),()=>e.dataset(),f))}})}function ne(t){let n;const e=P(),r=$(),o=y({id:r.generateId("input")},t),[s,g,f]=S(o,["ref","style","onChange","onFocus","onBlur"],Re),{fieldProps:i}=Ee(g),[d,p]=C(!1),x=c=>{if(R(c,s.onChange),c.stopPropagation(),!d()){const u=c.target;r.setIsChecked(u.checked),u.checked=r.checked()}p(!1)},v=c=>{R(c,s.onFocus),r.setIsFocused(!0)},M=c=>{R(c,s.onBlur),r.setIsFocused(!1)};return w(j([()=>r.checked(),()=>r.value()],()=>{p(!0),n==null||n.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),n==null||n.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),w(j([()=>n,()=>r.indeterminate(),()=>r.checked()],([c,u])=>{c&&(c.indeterminate=u)})),a(F,m({as:"input",ref(c){var u=A(b=>{r.setInputRef(b),n=b},s.ref);typeof u=="function"&&u(c)},type:"checkbox",get id(){return i.id()},get name(){return e.name()},get value(){return r.value()},get checked(){return r.checked()},get required(){return e.isRequired()},get disabled(){return e.isDisabled()},get readonly(){return e.isReadOnly()},get style(){return me(pe,s.style)},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return e.validationState()==="invalid"||void 0},get"aria-required"(){return e.isRequired()},get"aria-disabled"(){return e.isDisabled()},get"aria-readonly"(){return e.isReadOnly()},onChange:x,onFocus:v,onBlur:M},()=>e.dataset(),()=>r.dataset(),f))}function oe(t){const n=$();return a(Se,m(()=>n.dataset(),t))}function ae(t){let n;const e=`checkbox-${X()}`,r=y({value:"on",id:e},t),[o,s,g]=S(r,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],Fe),[f,i]=C(),[d,p]=C(!1),{formControlContext:x}=Pe(s),v=ve({isSelected:()=>o.checked,defaultIsSelected:()=>o.defaultChecked,onSelectedChange:b=>{var k;return(k=o.onChange)==null?void 0:k.call(o,b)},isDisabled:()=>x.isDisabled(),isReadOnly:()=>x.isReadOnly()});$e(()=>n,()=>v.setIsSelected(o.defaultChecked??!1));const M=b=>{R(b,o.onPointerDown),d()&&b.preventDefault()},c=E(()=>({"data-checked":v.isSelected()?"":void 0,"data-indeterminate":o.indeterminate?"":void 0})),u={value:()=>o.value,dataset:c,checked:()=>v.isSelected(),indeterminate:()=>o.indeterminate??!1,inputRef:f,generateId:Y(()=>l(s.id)),toggle:()=>v.toggle(),setIsChecked:b=>v.setIsSelected(b),setIsFocused:p,setInputRef:i};return a(Z.Provider,{value:x,get children(){return a(J.Provider,{value:u,get children(){return a(F,m({as:"div",ref(b){var k=A(N=>n=N,o.ref);typeof k=="function"&&k(b)},role:"group",get id(){return l(s.id)},onPointerDown:M},()=>x.dataset(),c,g,{get children(){return a(Be,{state:u,get children(){return o.children}})}}))}})}})}function Be(t){const n=se(()=>{const e=t.children;return Ce(e)?e(t.state):e});return E(n)}var qe=Object.assign(ae,{Control:Q,Description:ee,ErrorMessage:te,Indicator:re,Input:ne,Label:oe}),Ae=_('<div class="absolute inset-0 flex justify-center items-center">'),Ne=_("<div>");const Ge=t=>{const[n,e]=C(!1);return(()=>{var r=Ne();return h(r,a(D.Root,{class:"flex items-center",get required(){return t.required},get name(){return t.name},get checked(){return t.value},get onChange(){return t.onChange},get id(){return t.id},get children(){return[a(D.Input,{onFocus:()=>e(!0),onBlur:()=>e(!1)}),a(D.Control,{onClick:o=>{o.stopPropagation()},get class(){return I("h-5 w-5 min-w-[20px] text-primary-contrast rounded-md border-border border cursor-pointer hover:border-primary-base bg-input-base data-checked:bg-primary-base data-checked:border-primary-hover data-checked:fill-primary-contrast transition-colors duration-200",{"border-primary-base":n()})},get children(){return a(D.Indicator,{class:"w-full h-full relative",get children(){var o=Ae();return h(o,a(ie,{size:10})),o}})}}),E(()=>E(()=>!!t.copy.label)()&&a(D.Label,{get class(){return I("text-sm transition-colors duration-200 ease-in-out ml-2.5",{"text-primary-hover":n()})},get children(){return t.copy.label}}))]}}),null),h(r,a(xe,{get id(){return t.id},get describedBy(){var o;return(o=t.copy)==null?void 0:o.describedBy}}),null),h(r,a(ke,{get copy(){var o;return(o=t.copy)==null?void 0:o.tooltip},theme:void 0}),null),h(r,a(Ie,{get id(){return t.id},get errors(){return t.errors}}),null),z(()=>K(r,I("relative",t.class,{"mb-0":t.noMargin,"mb-4 last:mb-0":!t.noMargin,"mb-2.5 last:mb-0":!t.noMargin&&t.theme==="basic","w-full":t.theme!=="fit"}))),r})()};var Te=_("<span class=sr-only>"),je=_('<ul class="flex flex-col gap-y-1">'),ze=_('<span class="line-clamp-1 mr-2.5">'),Ke=_('<button type=button><span class="line-clamp-1 mr-2.5">'),He=_("<li>");const We=t=>{const n="flex justify-between items-center px-2 rounded-md hover:bg-dropdown-hover w-full text-sm text-left py-1 text-title fill-dropdown-contrast";return a(T.Root,{get placement(){var e;return(e=t.options)==null?void 0:e.placement},get children(){return[a(T.Trigger,{onClick:e=>{e.stopPropagation()},get class(){var e;return I("dropdown-trigger pointer-events-auto min-w-7 w-7 h-7 bg-background-base outline-none ring-0 focus:ring-1 focus:ring-primary-base rounded-md flex justify-center items-center hover:bg-background-hover",{"border border-border":(e=t.options)==null?void 0:e.border})},get children(){return[(()=>{var e=Te();return h(e,()=>L()("show_options")),e})(),a(T.Icon,{get children(){return a(le,{class:"text-body pointer-events-none"})}})]}}),a(we,{options:{class:"w-[200px] p-1.5!",rounded:!0},get children(){var e=je();return h(e,a(de,{get each(){return t.actions},children:r=>a(O,{get when(){return r.hide!==!0},get children(){var o=He();return h(o,a(ce,{get children(){return[a(H,{get when(){return r.type==="link"},get children(){return a(ue,{get href(){return r.href||"/"},get class(){return I(n,{"cursor-not-allowed":r.permission===!1})},onClick:s=>{s.stopPropagation(),r.permission===!1&&(V({title:L()("no_permission_toast_title"),message:L()("no_permission_toast_message"),status:"warning"}),s.preventDefault())},get children(){return[(()=>{var s=ze();return h(s,()=>r.label),s})(),a(U,{size:14})]}})}}),a(H,{get when(){return r.type==="button"},get children(){var s=Ke(),g=s.firstChild;return s.$$click=f=>{var i;if(f.stopPropagation(),r.permission===!1){V({title:L()("no_permission_toast_title"),message:L()("no_permission_toast_message"),status:"warning"});return}(i=r.onClick)==null||i.call(r)},h(g,()=>r.label),h(s,a(O,{get when(){return r.isLoading!==!0},get children(){return a(U,{size:14})}}),null),h(s,a(O,{get when(){return r.isLoading},get children(){return a(_e,{size:"sm"})}}),null),z(()=>K(s,I(n,{"cursor-not-allowed":r.permission===!1,"hover:bg-error-hover hover:text-error-contrast":r.theme==="error","hover:bg-primary-base hover:text-primary-contrast":r.theme==="primary"}))),s}})]}})),z(()=>K(o,I("flex border-b border-border last:border-b-0 pb-1 last:pb-0",{"opacity-50":r.permission===!1}))),o}})})),e}})]}})};ge(["click"]);export{We as A,Ge as C};
