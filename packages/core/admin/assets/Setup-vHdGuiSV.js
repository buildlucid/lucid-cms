import{b as s,e as w,a as e,t as _,i as d,T as r,u as N,f as x,M as c,g as S,s as q,h as L}from"./index-CQ3-BSEL.js";import{F as $}from"./Form-DkqXFt5b.js";import{I as n,E as F,n as E}from"./Tooltip-C4WAYcWb.js";import{g as o}from"./error-helpers-D9jUdhyT.js";import{L as P}from"./logo-icon-B4RyaE9T.js";import"./ErrorMessage-BUQl5hDc.js";var R=_('<div class="grid grid-cols-2 gap-4">');const I=()=>{const[l,a]=s(""),[i,m]=s(""),[u,g]=s(""),[f,b]=s(""),[h,C]=s(""),[v,y]=s(""),t=w.auth.useSetup();return e($,{get state(){return{isLoading:t.action.isPending,errors:t.errors()}},get content(){return{submit:r()("create_initial_admin")}},options:{buttonFullWidth:!0},onSubmit:()=>{t.action.mutate({email:l(),username:i(),firstName:u()||void 0,lastName:f()||void 0,password:h()})},get children(){return[(()=>{var p=R();return d(p,e(n,{id:"firstName",name:"firstName",type:"text",get value(){return u()},onChange:g,get copy(){return{label:r()("first_name")}},autoFoucs:!0,get errors(){return o("firstName",t.errors)},theme:"full"}),null),d(p,e(n,{id:"lastName",name:"lastName",type:"text",get value(){return f()},onChange:b,get copy(){return{label:r()("last_name")}},get errors(){return o("lastName",t.errors)},theme:"full"}),null),p})(),e(n,{id:"username",name:"username",type:"text",get value(){return i()},onChange:m,get copy(){return{label:r()("username")}},required:!0,get errors(){return o("username",t.errors)},theme:"full"}),e(n,{id:"email",name:"email",type:"email",get value(){return l()},onChange:a,get copy(){return{label:r()("email")}},required:!0,autoComplete:"email",get errors(){return o("email",t.errors)},theme:"full"}),e(n,{id:"password",name:"password",type:"password",get value(){return h()},onChange:C,get copy(){return{label:r()("password")}},required:!0,autoComplete:"new-password",get errors(){return o("password",t.errors)},theme:"full"}),e(n,{id:"passwordConfirmation",name:"passwordConfirmation",type:"password",get value(){return v()},onChange:y,get copy(){return{label:r()("confirm_password")}},required:!0,autoComplete:"new-password",get errors(){return o("passwordConfirmation",t.errors)},theme:"full"})]}})};var k=_('<div class="mb-10 text-center"><img alt="Lucid CMS Logo"class="h-10 mx-auto mb-6"><h1 class=mb-1></h1><p class="max-w-sm mx-auto">');const U=()=>{const l=N(),a=w.auth.useSetupRequired({queryParams:{}});return x(()=>{a.isSuccess&&!a.data.data.setupRequired&&l("/admin/login")}),e(L,{get children(){return[e(c,{get when(){return a.isLoading},get children(){return e(S,{})}}),e(c,{get when(){return a.isError},get children(){return e(F,{get content(){return{image:E,title:r()("error_title"),description:r()("error_message")}},get link(){return{text:r()("back_to_login"),href:"/admin/login"}}})}}),e(c,{get when(){return a.isSuccess&&a.data.data.setupRequired},get children(){return[(()=>{var i=k(),m=i.firstChild,u=m.nextSibling,g=u.nextSibling;return q(m,"src",P),d(u,()=>r()("setup_route_title")),d(g,()=>r()("setup_route_description")),i})(),e(I,{})]}})]}})};export{U as default};
