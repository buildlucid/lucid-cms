import{a0 as mt,V as Fe,b as T,f as A,X as de,y as g,a as n,Z as Pe,$ as ht,an as vt,d as F,_ as yt,Q as Me,t as y,i as c,w as O,k as S,P as M,af as kt,z as se,M as E,T as I,B as L,h as ne,ao as pe,F as Ve,A as Ce,a5 as Ct,ap as Je,aq as xt,ar as wt,as as $t,at as Dt,ai as It,aa as p,s as B,r as X,ae as J,e as _t,au as Lt,av as et,aw as Ke,ax as Et,H as St,ay as Rt,az as Tt,aA as Ft,u as Pt,x as ie}from"./index-CQ3-BSEL.js";import{C as Mt,D as Vt}from"./ContentLocaleSelect-Cb-MBOKh.js";import{_ as Kt,F as tt,m as rt,e as Ot,s as Bt,G as Se,H as zt,J as xe,f as At,g as qt,K as nt,d as it,P as Nt,M as jt,c as Gt,N as Ht,O as Ut,i as ae,Q as he,R as ve,U as ye,V as Jt,B as q,t as Qt,v as Wt,u as Yt,x as V,W as Qe,w as D,I as Zt,r as Xt,X as pt,Y as er,a as at,T as tr,y as rr}from"./Tooltip-C4WAYcWb.js";import{D as Re}from"./DateText-zHyly9WS.js";import{A as ke,M as lt,i as we,S as nr,d as ir}from"./Tr-Dh-rHsqH.js";import{d as fe}from"./ISASYZ5H-BKhR2em3.js";import{P as Te}from"./Pill-BBVDx-5p.js";import{g as We}from"./error-helpers-D9jUdhyT.js";var ge={};Kt(ge,{Arrow:()=>tt,Content:()=>dt,Portal:()=>st,Root:()=>ct,Tooltip:()=>or,Trigger:()=>ut});var ot=ht();function Oe(){const e=yt(ot);if(e===void 0)throw new Error("[kobalte]: `useTooltipContext` must be used within a `Tooltip` component");return e}function dt(e){const d=Oe(),a=rt({id:d.generateId("content")},e),[s,i]=Fe(a,["ref","style"]);return A(()=>de(d.registerContentId(i.id))),n(F,{get when(){return d.contentPresent()},get children(){return n(nt.Positioner,{get children(){return n(jt,Pe({ref(r){var t=it(u=>{d.setContentRef(u)},s.ref);typeof t=="function"&&t(r)},role:"tooltip",disableOutsidePointerEvents:!1,get style(){return Gt({"--kb-tooltip-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},s.style)},onFocusOutside:r=>r.preventDefault(),onDismiss:()=>d.hideTooltip(!0)},()=>d.dataset(),i))}})}})}function st(e){const d=Oe();return n(F,{get when(){return d.contentPresent()},get children(){return n(vt,e)}})}function ar(e,d,a){const s=e.split("-")[0],i=d.getBoundingClientRect(),r=a.getBoundingClientRect(),t=[],u=i.left+i.width/2,o=i.top+i.height/2;switch(s){case"top":t.push([i.left,o]),t.push([r.left,r.bottom]),t.push([r.left,r.top]),t.push([r.right,r.top]),t.push([r.right,r.bottom]),t.push([i.right,o]);break;case"right":t.push([u,i.top]),t.push([r.left,r.top]),t.push([r.right,r.top]),t.push([r.right,r.bottom]),t.push([r.left,r.bottom]),t.push([u,i.bottom]);break;case"bottom":t.push([i.left,o]),t.push([r.left,r.top]),t.push([r.left,r.bottom]),t.push([r.right,r.bottom]),t.push([r.right,r.top]),t.push([i.right,o]);break;case"left":t.push([u,i.top]),t.push([r.right,r.top]),t.push([r.left,r.top]),t.push([r.left,r.bottom]),t.push([r.right,r.bottom]),t.push([u,i.bottom]);break}return t}var re={},lr=0,le=!1,Z,ue,oe;function ct(e){const d=`tooltip-${mt()}`,a=`${++lr}`,s=rt({id:d,openDelay:700,closeDelay:300,skipDelayDuration:300},e),[i,r]=Fe(s,["id","open","defaultOpen","onOpenChange","disabled","triggerOnFocusOnly","openDelay","closeDelay","skipDelayDuration","ignoreSafeArea","forceMount"]);let t;const[u,o]=T(),[l,f]=T(),[m,h]=T(),[w,k]=T(r.placement),v=Ot({open:()=>i.open,defaultOpen:()=>i.defaultOpen,onOpenChange:$=>{var K;return(K=i.onOpenChange)==null?void 0:K.call(i,$)}}),{present:b}=Bt({show:()=>i.forceMount||v.isOpen(),element:()=>m()??null}),C=()=>{re[a]=R},P=()=>{for(const $ in re)$!==a&&(re[$](!0),delete re[$])},R=($=!1)=>{$||i.closeDelay&&i.closeDelay<=0?(window.clearTimeout(t),t=void 0,v.close()):t||(t=window.setTimeout(()=>{t=void 0,v.close()},i.closeDelay)),window.clearTimeout(Z),Z=void 0,i.skipDelayDuration&&i.skipDelayDuration>=0&&(oe=window.setTimeout(()=>{window.clearTimeout(oe),oe=void 0},i.skipDelayDuration)),le&&(window.clearTimeout(ue),ue=window.setTimeout(()=>{delete re[a],ue=void 0,le=!1},i.closeDelay))},z=()=>{clearTimeout(t),t=void 0,P(),C(),le=!0,v.open(),window.clearTimeout(Z),Z=void 0,window.clearTimeout(ue),ue=void 0,window.clearTimeout(oe),oe=void 0},j=()=>{P(),C(),!v.isOpen()&&!Z&&!le?Z=window.setTimeout(()=>{Z=void 0,le=!0,z()},i.openDelay):v.isOpen()||z()},W=($=!1)=>{!$&&i.openDelay&&i.openDelay>0&&!t&&!oe?j():z()},Q=()=>{window.clearTimeout(Z),Z=void 0,le=!1},G=()=>{window.clearTimeout(t),t=void 0},Y=$=>xe(l(),$)||xe(m(),$),x=$=>{const K=l(),N=m();if(!(!K||!N))return ar($,K,N)},H=$=>{const K=$.target;if(Y(K)){G();return}if(!i.ignoreSafeArea){const N=x(w());if(N&&Ht(Ut($),N)){G();return}}t||R()};A(()=>{if(!v.isOpen())return;const $=Se();$.addEventListener("pointermove",H,!0),de(()=>{$.removeEventListener("pointermove",H,!0)})}),A(()=>{const $=l();if(!$||!v.isOpen())return;const K=ee=>{const te=ee.target;xe(te,$)&&R(!0)},N=zt();N.addEventListener("scroll",K,{capture:!0}),de(()=>{N.removeEventListener("scroll",K,{capture:!0})})}),de(()=>{clearTimeout(t),re[a]&&delete re[a]});const _={dataset:g(()=>({"data-expanded":v.isOpen()?"":void 0,"data-closed":v.isOpen()?void 0:""})),isOpen:v.isOpen,isDisabled:()=>i.disabled??!1,triggerOnFocusOnly:()=>i.triggerOnFocusOnly??!1,contentId:u,contentPresent:b,openTooltip:W,hideTooltip:R,cancelOpening:Q,generateId:qt(()=>s.id),registerContentId:At(o),isTargetOnTooltip:Y,setTriggerRef:f,setContentRef:h};return n(ot.Provider,{value:_,get children(){return n(nt,Pe({anchorRef:l,contentRef:m,onCurrentPlacementChange:k},r))}})}function ut(e){let d;const a=Oe(),[s,i]=Fe(e,["ref","onPointerEnter","onPointerLeave","onPointerDown","onClick","onFocus","onBlur"]);let r=!1,t=!1,u=!1;const o=()=>{r=!1},l=()=>{!a.isOpen()&&(t||u)&&a.openTooltip(u)},f=C=>{a.isOpen()&&!t&&!u&&a.hideTooltip(C)},m=C=>{ae(C,s.onPointerEnter),!(C.pointerType==="touch"||a.triggerOnFocusOnly()||a.isDisabled()||C.defaultPrevented)&&(t=!0,l())},h=C=>{ae(C,s.onPointerLeave),C.pointerType!=="touch"&&(t=!1,u=!1,a.isOpen()?f():a.cancelOpening())},w=C=>{ae(C,s.onPointerDown),r=!0,Se(d).addEventListener("pointerup",o,{once:!0})},k=C=>{ae(C,s.onClick),t=!1,u=!1,f(!0)},v=C=>{ae(C,s.onFocus),!(a.isDisabled()||C.defaultPrevented||r)&&(u=!0,l())},b=C=>{ae(C,s.onBlur);const P=C.relatedTarget;a.isTargetOnTooltip(P)||(t=!1,u=!1,f(!0))};return de(()=>{Se(d).removeEventListener("pointerup",o)}),n(Nt,Pe({as:"button",ref(C){var P=it(R=>{a.setTriggerRef(R),d=R},s.ref);typeof P=="function"&&P(C)},get"aria-describedby"(){return g(()=>!!a.isOpen())()?a.contentId():void 0},onPointerEnter:m,onPointerLeave:h,onPointerDown:w,onClick:k,onFocus:v,onBlur:b},()=>a.dataset(),i))}var or=Object.assign(ct,{Arrow:tt,Content:dt,Portal:st,Trigger:ut}),dr=y('<div><div><div class="[&amp;>.ql-editor]:min-h-72">');const sr=e=>{const[d,a]=T(!1),[s,i]=T(void 0);let r;return Me(()=>{var u;if(!r)return;const t=new Jt(r,{theme:"snow",placeholder:(u=e.copy)==null?void 0:u.placeholder,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}});t.on("text-change",()=>{e.disabled||e.value!==t.root.innerHTML&&e.onChange(t.root.innerHTML)}),t.root.innerHTML=e.value,i(t)}),de(()=>{r&&s()&&(r.remove(),i(void 0))}),A(()=>{const t=s(),u=e.value;t&&t.root.innerHTML!==u&&(t.root.innerHTML=u)}),(()=>{var t=dr(),u=t.firstChild,o=u.firstChild;c(t,n(he,{get id(){return e.id},get label(){var f;return(f=e.copy)==null?void 0:f.label},get focused(){return d()},get required(){return e.required},theme:"basic",get altLocaleError(){return e.altLocaleError},get localised(){return e.localised},get fieldColumnIsMissing(){return e.fieldColumnIsMissing}}),u),o.addEventListener("blur",()=>a(!1)),o.addEventListener("focus",()=>a(!0));var l=r;return typeof l=="function"?kt(l,o):r=o,c(t,n(ve,{get id(){return e.id},get describedBy(){var f;return(f=e.copy)==null?void 0:f.describedBy}}),null),c(t,n(ye,{get id(){return e.id},get errors(){return e.errors}}),null),O(f=>{var m=S("w-full max-w-full",{"mb-0":e.noMargin,"mb-5 last:mb-0":!e.noMargin}),h=S("mt-1 bg-input-base rounded-md",{"cursor-not-allowed opacity-80 pointer-events-none":e.disabled});return m!==f.e&&M(t,f.e=m),h!==f.t&&M(u,f.t=h),f},{e:void 0,t:void 0}),t})()};var cr=y('<div class="w-full border border-border rounded-md bg-input-base"><div class="p-2 flex items-center justify-center relative"><div class="w-full max-w-xs rounded-md overflow-hidden border border-border"></div></div><div class="grid grid-cols-2 gap-2 p-2 bg-card-base border-t border-border">'),ur=y('<div><div class="mt-2.5 w-full">');const gr=e=>{const d=i=>{if(i)return i.map(r=>r.replace(".","")).join(",")},a=()=>{Qt.set({onSelectCallback:i=>{e.onChange(i.id,{id:i.id,url:i.url,key:i.key,mimeType:i.meta.mimeType,extension:i.meta.extension,fileSize:i.meta.fileSize,type:i.type,width:i.meta.width??null,height:i.meta.height??null,blurHash:i.meta.blurHash??null,averageColor:i.meta.averageColor??null,isDark:i.meta.isDark??null,isLight:i.meta.isLight??null,title:i.title.reduce((r,t)=>(t.localeCode&&(r[t.localeCode]=t.value??""),r),{}),alt:i.alt.reduce((r,t)=>(t.localeCode&&(r[t.localeCode]=t.value??""),r),{}),isDeleted:i.isDeleted??null})},open:!0,extensions:d(e.extensions),type:e.type,selected:e.value})},s=g(()=>se.get.contentLocale);return(()=>{var i=ur(),r=i.firstChild;return c(i,n(he,{get id(){return e.id},get label(){var t;return(t=e.copy)==null?void 0:t.label},get required(){return e.required},theme:"basic",get altLocaleError(){return e.altLocaleError},get localised(){return e.localised},get fieldColumnIsMissing(){return e.fieldColumnIsMissing}}),r),c(r,n(ne,{get children(){return[n(E,{get when(){return typeof e.value!="number"},get children(){return n(q,{type:"button",theme:"secondary",size:"small",onClick:a,get disabled(){return e.disabled},classes:"capitalize",get children(){return I()("select_media",{type:e.type||"media"})}})}}),n(E,{get when(){return typeof e.value=="number"},get children(){var t=cr(),u=t.firstChild,o=u.firstChild,l=u.nextSibling;return c(o,n(F,{get when(){var f;return(f=e.meta)==null?void 0:f.isDeleted},get children(){return n(Te,{theme:"red",class:"absolute top-2 right-2 z-10",get children(){return I()("deleted")}})}}),null),c(o,n(ke,{ratio:"16:9",get innerClass(){var f;return S({"opacity-50":(f=e.meta)==null?void 0:f.isDeleted})},get children(){return n(lt,{get media(){var f,m;return{url:((f=e.meta)==null?void 0:f.url)||"",type:((m=e.meta)==null?void 0:m.type)||"image"}},get alt(){var f;return L.getRecordTranslation((f=e.meta)==null?void 0:f.alt,s())},richPreview:!0})}}),null),c(l,n(q,{type:"button",theme:"border-outline",size:"small",onClick:a,get disabled(){return e.disabled},classes:"capitalize",get children(){return I()("select_new_media",{type:e.type||"media"})}}),null),c(l,n(q,{type:"button",theme:"border-outline",size:"small",onClick:()=>{e.onChange(null,null)},get disabled(){return e.disabled},classes:"capitalize",get children(){return I()("remove_media",{type:e.type||"media"})}}),null),t}})]}})),c(i,n(ve,{get id(){return e.id},get describedBy(){var t;return(t=e.copy)==null?void 0:t.describedBy}}),null),c(i,n(ye,{get id(){return e.id},get errors(){return e.errors}}),null),O(()=>M(i,S("w-full",{"mb-0":e.noMargin,"mb-2.5 last:mb-0":!e.noMargin}))),i})()};var fr=y("<span class=line-clamp-1>"),br=y('<span class="ml-2 flex items-center border-l border-current pl-2">'),mr=y("<span class=sr-only>"),hr=y('<div class="w-full flex items-center gap-2">'),vr=y('<div><div class="mt-2 w-full flex flex-wrap gap-2">');const yr=e=>{const d=()=>{Wt.set({onSelectCallback:s=>{e.onChange(s)},open:!0,selectedLink:e.value})},a=()=>{const s=e.value;return(s==null?void 0:s.label)||(s==null?void 0:s.url)};return(()=>{var s=vr(),i=s.firstChild;return c(s,n(he,{get id(){return e.id},get label(){var r;return(r=e.copy)==null?void 0:r.label},get required(){return e.required},theme:"basic",get altLocaleError(){return e.altLocaleError},get localised(){return e.localised},get fieldColumnIsMissing(){return e.fieldColumnIsMissing}}),i),c(i,n(ne,{get children(){return[n(E,{get when(){return!a()},get children(){return n(q,{type:"button",theme:"secondary",size:"small",onClick:d,get disabled(){return e.disabled},get children(){return I()("select_link")}})}}),n(E,{get when(){return e.value},get children(){var r=hr();return c(r,n(q,{type:"button",theme:"secondary",size:"small",onClick:d,get disabled(){return e.disabled},classes:"capitalize",get children(){return[(()=>{var t=fr();return c(t,a),t})(),(()=>{var t=br();return c(t,n(pe,{size:12,class:"text-current"})),t})()]}}),null),c(r,n(q,{type:"button",theme:"border-outline",size:"icon",onClick:()=>{e.onChange(null)},get disabled(){return e.disabled},classes:"capitalize",get children(){return[n(Ve,{}),(()=>{var t=mr();return c(t,()=>I()("clear")),t})()]}}),null),r}})]}})),c(s,n(ve,{get id(){return e.id},get describedBy(){var r;return(r=e.copy)==null?void 0:r.describedBy}}),null),c(s,n(ye,{get id(){return e.id},get errors(){return e.errors}}),null),O(()=>M(s,S("w-full",{"mb-0":e.noMargin,"mb-2.5 last:mb-0":!e.noMargin}))),s})()};var kr=y("<span class=line-clamp-1>"),Cr=y('<span class="ml-2.5 flex items-center border-l border-current pl-2.5">'),xr=y("<span class=sr-only>"),wr=y('<div class="w-full flex items-center gap-2.5">'),$r=y('<div><div class="mt-2.5 w-full">');const Dr=e=>{const d=()=>{Yt.set({onSelectCallback:a=>{e.onChange(a.id,{id:a.id,collectionKey:a.collectionKey,fields:V.objectifyFields(a.fields||[])})},open:!0,collectionKey:e.collection,selected:e.value})};return(()=>{var a=$r(),s=a.firstChild;return c(a,n(he,{get id(){return e.id},get label(){var i;return(i=e.copy)==null?void 0:i.label},get required(){return e.required},theme:"basic",get altLocaleError(){return e.altLocaleError},get localised(){return e.localised},get fieldColumnIsMissing(){return e.fieldColumnIsMissing}}),s),c(s,n(ne,{get children(){return[n(E,{get when(){return typeof e.value!="number"},get children(){return n(q,{type:"button",theme:"secondary",size:"small",onClick:d,get disabled(){return e.disabled},classes:"capitalize",get children(){return I()("select_document")}})}}),n(E,{get when(){return typeof e.value=="number"},get children(){var i=wr();return c(i,n(q,{type:"button",theme:"secondary",size:"small",onClick:d,get disabled(){return e.disabled},classes:"capitalize",get children(){return[(()=>{var r=kr();return c(r,()=>I()("selected_document",{id:e.value})),r})(),(()=>{var r=Cr();return c(r,n(pe,{size:12,class:"text-current"})),r})()]}}),null),c(i,n(q,{type:"button",theme:"border-outline",size:"icon",onClick:()=>{e.onChange(null,null)},get disabled(){return e.disabled},classes:"capitalize",get children(){return[n(Ve,{}),(()=>{var r=xr();return c(r,()=>I()("clear")),r})()]}}),null),i}})]}})),c(a,n(ve,{get id(){return e.id},get describedBy(){var i;return(i=e.copy)==null?void 0:i.describedBy}}),null),c(a,n(ye,{get id(){return e.id},get errors(){return e.errors}}),null),O(()=>M(a,S("w-full",{"mb-0":e.noMargin,"mb-2.5 last:mb-0":!e.noMargin}))),a})()};var Ir=y("<div><div>"),_r=y('<div class="fixed inset-0 z-50">');const Lr=e=>n(fe.Root,{get open(){return e.state.open},onOpenChange:()=>e.state.setOpen(!e.state.open),get children(){return n(fe.Portal,{get children(){return[n(fe.Overlay,{class:"fixed inset-0 z-40 bg-black/80 animate-animate-overlay-hide cursor-pointer duration-200 transition-colors data-expanded:animate-animate-overlay-show"}),(()=>{var d=_r();return c(d,n(fe.Content,{class:"overflow-y-auto h-full p-4 pointer-events-none! flex items-center justify-center animate-animate-modal-hide data-expanded:animate-animate-modal-show",get children(){var a=Ir(),s=a.firstChild;return c(s,()=>e.children),O(i=>{var u,o;var r=S("max-w-2xl w-full bg-background-base rounded-xl overflow-hidden border-border border m-auto pointer-events-auto",{"max-w-7xl":((u=e.options)==null?void 0:u.size)==="large"}),t=S({"p-4 md:p-6":!((o=e.options)!=null&&o.noPadding)});return r!==i.e&&M(a,i.e=r),t!==i.t&&M(s,i.t=t),i},{e:void 0,t:void 0}),a}})),d})()]}})}});var Er=y("<h1> - #"),Ye=y("<h1> "),$e=y('<span class="absolute -bottom-px -left-2 w-[9px] h-2 z-20 bg-background-base">'),De=y('<span class="absolute -bottom-px -right-2 w-[9px] h-2 z-20 bg-background-base">'),Ie=y('<span class="absolute -bottom-px -left-2 w-2 z-21 h-2 bg-background-base rounded-br-xl border-b border-r border-border">'),_e=y('<span class="absolute -bottom-px -right-2 w-2 z-21 h-2 bg-background-base rounded-bl-xl border-b border-l border-border">'),Le=y('<span class="absolute -bottom-px -left-2 -right-2 h-px z-20 bg-background-base">'),Ze=y("<li class=relative>"),Sr=y('<header class="bg-background-base w-full -mt-4 pt-6 px-6 pb-px border-x border-border z-31"><nav class="-mb-px bg-background-base mt-4"><ul class="flex gap-2"><li class=relative>');const Jn=e=>(()=>{var d=Sr(),a=d.firstChild,s=a.firstChild,i=s.firstChild;return c(d,n(F,{get when(){return e.mode==="edit"},get children(){var r=Er(),t=r.firstChild;return c(r,()=>e.state.collectionSingularName(),t),c(r,()=>e.state.documentID(),null),r}}),a),c(d,n(F,{get when(){return e.mode==="create"},get children(){var r=Ye(),t=r.firstChild;return c(r,()=>I()("create"),t),c(r,()=>e.state.collectionSingularName(),null),r}}),a),c(d,n(F,{get when(){return e.mode==="revisions"},get children(){var r=Ye(),t=r.firstChild;return c(r,()=>e.state.collectionSingularName(),t),c(r,()=>I()("revisions"),null),r}}),a),c(s,n(F,{get when(){var r;return(r=e.state.collection())==null?void 0:r.config.useDrafts},get children(){var r=Ze();return c(r,n(Ce,{get href(){var t;return g(()=>e.mode!=="create")()?Ct("edit",{collectionKey:e.state.collectionKey(),useDrafts:(t=e.state.collection())==null?void 0:t.config.useDrafts,documentId:e.state.documentID()}):"#"},get class(){return S("flex px-4 py-2 font-medium relative z-10 border-transparent border-x border-t rounded-t-xl",{"bg-background-base !border-border focus:ring-0":e.version==="draft"})},get children(){return[g(()=>I()("draft")),n(F,{get when(){return e.version==="draft"},get children(){return[$e(),De(),Ie(),_e(),Le()]}})]}})),r}}),i),c(i,n(Ce,{get href(){return g(()=>!!e.state.canNavigateToPublished())()?`/admin/collections/${e.state.collectionKey()}/published/${e.state.documentID()}`:"#"},get class(){return S("flex px-4 py-2 font-medium relative z-10 border-transparent border-x border-t rounded-t-xl",{"opacity-50 cursor-not-allowed focus:ring-0 hover:text-inherit":!e.state.canNavigateToPublished(),"cursor-pointer":e.state.canNavigateToPublished(),"bg-background-base !border-border focus:ring-0":e.version==="published"})},get"aria-disabled"(){return!e.state.canNavigateToPublished()},get title(){return g(()=>!e.state.canNavigateToPublished())()?I()("document_not_published"):""},get children(){return[g(()=>I()("published")),n(F,{get when(){return e.version==="published"},get children(){return[$e(),De(),Ie(),_e(),Le()]}})]}})),c(s,n(F,{get when(){return e.state.showRevisionNavigation()},get children(){var r=Ze();return c(r,n(Ce,{get href(){return`/admin/collections/${e.state.collectionKey()}/revisions/${e.state.documentID()}/latest`},get class(){return S("flex px-4 py-2 font-medium relative z-10 border-transparent border-x border-t rounded-t-xl",{"bg-background-base !border-border focus:ring-0":e.mode==="revisions"})},get children(){return[g(()=>I()("revisions")),n(F,{get when(){return e.mode==="revisions"},get children(){return[$e(),De(),Ie(),_e(),Le()]}})]}})),r}}),null),d})();var Rr=y('<div class="flex items-center gap-1.5 px-2.5 py-1 bg-background-hover rounded-md border border-border"><span class="font-medium text-body lowercase">'),Tr=y('<div class="flex items-center gap-1.5 px-2.5 py-1 bg-background-hover rounded-md border border-border"><span class="font-medium text-body">'),Fr=y('<div class="absolute inset-0 flex items-center justify-center bg-background-hover rounded-md">'),Pr=y('<div class="flex relative items-center gap-1.5 px-2.5 py-1 bg-background-hover rounded-md border border-border"><span class=text-body>'),Xe=y('<div class="flex items-center gap-1.5 text-body"><span class=text-sm>:'),Mr=y("<div class=w-full>"),Vr=y('<div class="flex items-center"><span class="ml-2.5 text-base font-medium text-body"> (<!>)'),Kr=y("<span class=sr-only>"),Or=y('<div class="absolute inset-0 bg-black/60 z-50 flex items-center justify-center rounded-b-xl gap-2.5"><span class=text-body>'),Br=y('<div class="sticky top-0 z-30 w-full px-4 md:px-6 py-4 md:py-6 gap-x-5 gap-y-2.5 bg-background-base border border-border rounded-b-xl flex flex-col flex-wrap"><div class="flex items-center gap-3 w-full text-sm overflow-x-auto"><div class="flex items-center gap-1"></div></div><div class="flex items-center gap-2.5 w-full"><div class="flex items-center gap-2.5 w-full justify-between"></div><div class="flex items-center gap-2.5">');const Qn=e=>{const d=g(()=>se.get.locales.find(a=>a.isDefault));return(()=>{var a=Br(),s=a.firstChild,i=s.firstChild,r=s.nextSibling,t=r.firstChild,u=t.nextSibling;return c(i,n(F,{get when(){return e.mode==="edit"||e.mode==="revisions"},get children(){var o=Rr(),l=o.firstChild;return c(o,n(Je,{size:12,get class(){return S({"text-green-600":e.version==="published","text-amber-600":e.version==="draft","text-yellow-400":e.mode==="revisions"})}}),l),c(l,()=>e.version??I()("revision")),o}}),null),c(i,n(F,{get when(){return e.version&&e.mode==="create"},get children(){var o=Tr(),l=o.firstChild;return c(o,n(Je,{size:12,class:"text-red-600"}),l),c(l,()=>I()("unsaved")),o}}),null),c(i,n(F,{get when(){var o,l;return(l=(o=e.state.ui).useAutoSave)==null?void 0:l.call(o)},get children(){var o=Pr(),l=o.firstChild;return c(o,n(xt,{size:12,class:"text-body"}),l),c(l,(()=>{var f=g(()=>{var m,h;return!!((h=(m=e.state.ui).hasAutoSavePermission)!=null&&h.call(m))});return()=>f()?I()("enabled"):I()("disabled")})()),c(o,n(F,{get when(){var f,m;return(m=(f=e.state.ui).isAutoSaving)==null?void 0:m.call(f)},get children(){var f=Fr();return c(f,n(Qe,{size:"sm"})),f}}),null),o}}),null),c(s,n(F,{get when(){return e.mode!=="create"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,f=l.firstChild;return c(o,n(wt,{size:12}),l),c(l,()=>I()("created"),f),c(o,n(Re,{get date(){var m;return(m=e.state.document())==null?void 0:m.createdAt}}),null),o})(),(()=>{var o=Xe(),l=o.firstChild,f=l.firstChild;return c(o,n($t,{size:12}),l),c(l,()=>I()("modified"),f),c(o,n(Re,{get date(){var m;return(m=e.state.document())==null?void 0:m.updatedAt}}),null),o})()]}}),null),c(t,n(F,{get when(){var o;return(o=e.state.collection())==null?void 0:o.config.useTranslations},get children(){var o=Mr();return c(o,n(Mt,{get hasError(){var l,f;return(f=(l=e.state.ui).brickTranslationErrors)==null?void 0:f.call(l)},showShortcut:!0})),o}}),null),c(t,n(F,{get when(){return g(()=>{var o;return((o=e.state.collection())==null?void 0:o.config.useTranslations)!==!0})()&&d()},get children(){var o=Vr(),l=o.firstChild,f=l.firstChild,m=f.nextSibling;return m.nextSibling,c(o,n(Dt,{size:20}),l),c(l,()=>{var h;return(h=d())==null?void 0:h.name},f),c(l,()=>{var h;return(h=d())==null?void 0:h.code},m),o}}),null),c(u,n(F,{get when(){var o,l;return(l=(o=e.state.ui).showUpsertButton)==null?void 0:l.call(o)},get children(){return n(q,{type:"button",theme:"secondary",size:"small",onClick:()=>{var o,l,f;(o=e.state.autoSave)==null||o.debouncedAutoSave.clear(),(f=(l=e.actions)==null?void 0:l.upsertDocumentAction)==null||f.call(l)},get disabled(){var o,l;return(l=(o=e.state.ui).canSaveDocument)==null?void 0:l.call(o)},get permission(){var o,l;return(l=(o=e.state.ui).hasSavePermission)==null?void 0:l.call(o)},get children(){return I()("save")}})}}),null),c(u,n(F,{get when(){var o,l;return(l=(o=e.state.ui).showPublishButton)==null?void 0:l.call(o)},get children(){return n(q,{type:"button",theme:"secondary",size:"small",onClick:()=>{var o,l,f;(o=e.state.autoSave)==null||o.debouncedAutoSave.clear(),(f=(l=e.actions)==null?void 0:l.publishDocumentAction)==null||f.call(l,e.state.document())},get disabled(){var o,l;return!((l=(o=e.state.ui).canPublishDocument)!=null&&l.call(o))},get permission(){var o,l;return(l=(o=e.state.ui).hasPublishPermission)==null?void 0:l.call(o)},get children(){return I()("publish")}})}}),null),c(u,n(F,{get when(){var o,l;return(l=(o=e.state.ui).showRestoreRevisionButton)==null?void 0:l.call(o)},get children(){return n(q,{type:"button",theme:"secondary",size:"small",get onClick(){return e.actions.restoreRevisionAction},get disabled(){var o,l;return((l=(o=e.state).selectedRevision)==null?void 0:l.call(o))===void 0},get permission(){var o,l;return(l=(o=e.state.ui).hasRestorePermission)==null?void 0:l.call(o)},get children(){return I()("restore_revision")}})}}),null),c(u,n(F,{get when(){var o,l;return(l=(o=e.state.ui).showDeleteButton)==null?void 0:l.call(o)},get children(){return n(q,{theme:"border-outline",size:"icon",type:"button",onClick:()=>{var o,l;return(l=(o=e.state.ui)==null?void 0:o.setDeleteOpen)==null?void 0:l.call(o,!0)},get permission(){var o,l;return(l=(o=e.state.ui).hasDeletePermission)==null?void 0:l.call(o)},get children(){return[(()=>{var o=Kr();return c(o,()=>I()("delete")),o})(),n(It,{})]}})}}),null),c(a,n(F,{get when(){return e.state.ui.isSaving()},get children(){var o=Or(),l=o.firstChild;return c(o,n(Qe,{size:"sm"}),l),c(l,()=>I()("saving")),o}}),null),a})()};var zr=y('<span class="skeleton block w-full h-full rounded-b-none">'),Ar=y('<li class="bg-background-base border-border border rounded-md"><div class=p-2.5><span class="skeleton block h-5 w-1/2 mb-2"></span><span class="skeleton block h-5 w-full">'),qr=y('<li><div class="p-2 border-t border-border"><h3 class="line-clamp-1 text-sm">');const Wn=()=>(()=>{var e=Ar(),d=e.firstChild;return c(e,n(ke,{ratio:"16:9",get children(){return zr()}}),d),e})(),Yn=e=>{const d=g(()=>L.getTranslation(e.media.title,e.contentLocale)),a=g(()=>L.getTranslation(e.media.alt,e.contentLocale));return(()=>{var s=qr(),i=s.firstChild,r=i.firstChild;return s.$$keydown=t=>{var u;t.key==="Enter"&&((u=e.onClick)==null||u.call(e))},s.$$click=()=>{var t;(t=e.onClick)==null||t.call(e)},c(s,n(ke,{ratio:"16:9",innerClass:"overflow-hidden",get children(){return n(lt,{get media(){return e.media},get alt(){return a()||d()||""}})}}),i),c(r,()=>d()||I()("no_translation")),O(()=>M(s,S("bg-card-base border-border border rounded-md group overflow-hidden relative cursor-pointer",{"border-primary-base":e.current}))),s})()};p(["click","keydown"]);const Nr="/admin/assets/brick-placeholder-33dnngbX.jpg";var jr=y('<img class="w-full h-full object-cover"alt="Brick Placeholder"loading=lazy>',!0,!1,!1);const Gr=e=>n(ke,{ratio:"16:9",get children(){return n(we.Root,{fallbackDelay:100,get class(){var d;return S("w-full h-full overflow-hidden block",{"rounded-md":(d=e.options)==null?void 0:d.rounded})},get children(){return[n(we.Img,{get src(){var d;return(d=e.data.brick)==null?void 0:d.image},get alt(){var d;return(d=e.data.brick)==null?void 0:d.title},loading:"lazy",class:"w-full h-full object-cover"}),n(we.Fallback,{class:"",get children(){var d=jr();return B(d,"src",Nr),d}})]}})}});var Hr=y("<div>");const Ur=e=>(()=>{var d=Hr();return c(d,n(ne,{get children(){return[n(E,{get when(){return e.type==="text"},children:"Aa"}),n(E,{get when(){return e.type==="wysiwyg"},children:"W"}),n(E,{get when(){return e.type==="textarea"},children:"T"}),n(E,{get when(){return e.type==="number"},children:"#"}),n(E,{get when(){return e.type==="select"},children:"S"}),n(E,{get when(){return e.type==="datetime"},children:"D"}),n(E,{get when(){return e.type==="checkbox"},children:"C"}),n(E,{get when(){return e.type==="repeater"},children:"R"}),n(E,{get when(){return e.type==="user"},children:"Ur"}),n(E,{get when(){return e.type==="link"},children:"L"}),n(E,{get when(){return e.type==="json"},children:"J"}),n(E,{get when(){return e.type==="media"},children:"M"}),n(E,{get when(){return e.type==="color"},children:"C"}),n(E,{get when(){return e.type==="document"},children:"Do"})]}})),O(()=>M(d,S("absolute top-0 left-0 w-7 h-7 min-w-[28px] mr-2.5 flex items-center justify-center  border-opacity-40 rounded-md text-black text-opacity-50 text-sm",{"bg-[#75f175] border-[#6ae06a]":e.type==="text"||e.type==="wysiwyg"||e.type==="textarea","bg-[#87b6ec] border-[#7aa6d9]":e.type==="number"||e.type==="select"||e.type==="datetime"||e.type==="checkbox","bg-[#e9bc81] border-[#d8ad74]":e.type==="repeater","bg-[#f080ea] border-[#dd72d8]":e.type==="link","bg-[#f88bbc] border-[#e17ba9]":e.type==="json","bg-[#9693f8] border-[#8481e0]":e.type==="media","bg-[#84f0dc] border-[#78dbc9]":e.type==="color","bg-[#dae095] border-[#ccd289]":e.type==="user","bg-[#f2f2f2] border-[#d8d8d8]":e.type==="document"}))),d})();var Jr=y("<div>"),Qr=y("<div><div>");const Be=e=>{const d=g(()=>se.get.contentLocale??""),a=g(()=>e.state.fieldConfig),s=g(()=>se.get.locales),i=g(()=>{var m;if(e.state.fieldConfig.type==="tab")return;const f=(m=e.state.fields)==null?void 0:m.find(h=>h.key===e.state.fieldConfig.key);return f||D.get.addField({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,locales:s().map(h=>h.code)})}),r=g(()=>{var f,m;return e.state.fieldConfig.type==="repeater"||((m=(f=a())==null?void 0:f.config)==null?void 0:m.useTranslations)!==!0||D.get.collectionTranslations!==!0?e.state.fieldErrors.find(h=>h.key===e.state.fieldConfig.key):e.state.fieldErrors.find(h=>h.key===e.state.fieldConfig.key&&h.localeCode===d())}),t=g(()=>{var f,m;return((m=(f=e.state.fieldConfig)==null?void 0:f.config)==null?void 0:m.useTranslations)&&D.get.collectionTranslations}),u=g(()=>e.state.fieldErrors.some(f=>f.key===e.state.fieldConfig.key&&f.localeCode&&f.localeCode!==d())),o=g(()=>a().type!=="tab"?!0:a().type==="tab"&&e.state.activeTab===a().key),l=g(()=>e.state.missingFieldColumns.includes(a().key));return(()=>{var f=Qr(),m=f.firstChild;return c(f,n(F,{get when(){return a().type!=="tab"},get children(){return n(Ur,{get type(){return a().type}})}}),m),c(m,n(ne,{get children(){return[n(E,{get when(){return a().type==="tab"},get children(){var h=Jr();return c(h,n(X,{get each(){return a().fields},children:w=>n(Be,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:w,fields:e.state.fields,activeTab:e.state.activeTab,groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,repeaterDepth:e.state.repeaterDepth,fieldErrors:e.state.fieldErrors,missingFieldColumns:e.state.missingFieldColumns}}})})),O(()=>M(h,S("transition-opacity duration-200 ease-in-out",{"visible h-full opacity-100":o(),"invisible h-0 opacity-0":!o()}))),h}}),n(E,{get when(){return a().type==="repeater"},get children(){return n(pr,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,parentRepeaterKey:e.state.repeaterKey,repeaterDepth:e.state.repeaterDepth??0,fieldError:r(),missingFieldColumns:e.state.missingFieldColumns}}})}}),n(E,{get when(){return a().type==="text"},get children(){return n(Ee,{type:"text",get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="user"},get children(){return n(un,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="document"},get children(){return n(bn,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="number"},get children(){return n(Ee,{type:"number",get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="datetime"},get children(){return n(Ee,{type:"datetime-local",get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="checkbox"},get children(){return n(en,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="color"},get children(){return n(rn,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="json"},get children(){return n(nn,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="link"},get children(){return n(an,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="media"},get children(){return n(ln,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="select"},get children(){return n(on,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="textarea"},get children(){return n(dn,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}}),n(E,{get when(){return a().type==="wysiwyg"},get children(){return n(sn,{get state(){return{brickIndex:e.state.brickIndex,fieldConfig:a(),fieldData:i(),groupRef:e.state.groupRef,repeaterKey:e.state.repeaterKey,contentLocale:d(),fieldError:r(),altLocaleError:u(),localised:t(),fieldColumnIsMissing:l()}}})}})]}})),O(h=>{var v,b;var w=S("w-full mb-4 last:mb-0 relative",{"mb-0!":!o(),"invisible h-0 opacity-0 mb-0!":a().type!=="tab"?((b=(v=a())==null?void 0:v.config)==null?void 0:b.isHidden)===!0:!1}),k=S("w-full h-full",{"pl-[38px]":a().type!=="tab"});return w!==h.e&&M(f,h.e=w),k!==h.t&&M(m,h.t=k),h},{e:void 0,t:void 0}),f})()};var Wr=y("<div class=w-full>");const gt=e=>{const[d,a]=T(!1),[s,i]=T(void 0),[r,t]=T(void 0),[u,o]=T(!1),l=(v,b)=>{if(!f(b))return;const C=s(),P=r();if(C===void 0||P===void 0||C.ref===P.ref)return;const R=()=>{e.sortOrder(C.ref,P.ref)};u()?document.startViewTransition(R):R()},f=v=>{let b=!1;const C=s(),P=r();if(C===void 0||P===void 0)return!1;const R=z=>{var j;if(((j=z.dataset)==null?void 0:j.dragkey)===(P==null?void 0:P.key)){b=!0;return}z.parentNode&&R(z.parentNode)};return R(v),b},m=(v,b)=>{var C;(C=v.dataTransfer)==null||C.setDragImage(new Image,0,0),v.stopPropagation(),i(b),t(b),a(!0)},h=v=>{v.preventDefault();const b=v.target;l(!1,b),i(void 0),t(void 0),a(!1)},w=(v,b)=>{v.preventDefault(),f(v.target)&&t(b)},k=v=>{v.preventDefault()};return Me(()=>{o("startViewTransition"in document)}),(()=>{var v=Wr();return c(v,()=>e.children({dragDrop:{getIsDragging:d,getDragging:s,getDraggingTarget:r,onDragStart:m,onDragEnd:h,onDragEnter:w,onDragOver:k}})),v})()};var Yr=y('<div class="w-full border-border bg-input-base border p-4 md:p-6 rounded-md flex items-center flex-col justify-center text-center"><span class="text-sm text-unfocused capitalize">'),Zr=y("<span>/"),Xr=y('<div><p class="block text-sm transition-colors duration-200 ease-in-out mb-2"></p><div class="w-full flex justify-between items-center mt-4">');const pr=e=>{const d=g(()=>se.get.locales.map(m=>m.code)||[]),a=g(()=>e.state.fieldConfig),s=g(()=>e.state.brickIndex),i=g(()=>{var m;return((m=e.state.fieldData)==null?void 0:m.groups)||[]}),r=g(()=>{var m,h;return(m=a().validation)!=null&&m.maxGroups?i().length<(((h=a().validation)==null?void 0:h.maxGroups)||0):!0}),t=g(()=>`${a().key}-${e.state.parentRepeaterKey||""}-${e.state.groupRef||""}`),u=g(()=>!r()||a().config.isDisabled||D.get.locked),o=g(()=>{var m;return((m=e.state.fieldError)==null?void 0:m.groupErrors)||[]}),l=g(()=>e.state.missingFieldColumns),f=()=>{a().fields&&D.get.addRepeaterGroup({brickIndex:s(),fieldConfig:a().fields||[],key:a().key,ref:e.state.groupRef,parentRepeaterKey:e.state.parentRepeaterKey,locales:d()})};return(()=>{var m=Xr(),h=m.firstChild,w=h.nextSibling;return c(h,()=>{var k;return L.getLocaleValue({value:(k=a().details)==null?void 0:k.label})}),c(m,n(ne,{get children(){return[n(E,{get when(){return i().length>0},get children(){return n(gt,{sortOrder:(k,v)=>{D.get.swapGroupOrder({brickIndex:e.state.brickIndex,repeaterKey:a().key,selectedRef:k,targetRef:v,ref:e.state.groupRef,parentRepeaterKey:e.state.parentRepeaterKey})},children:({dragDrop:k})=>n(X,{get each(){return i()},children:(v,b)=>n(kn,{get state(){return{brickIndex:s(),fieldConfig:a(),dragDropKey:t(),fields:v.fields,ref:v.ref,groupOpen:v.open,dragDrop:k,repeaterKey:a().key,groupIndex:b(),repeaterDepth:e.state.repeaterDepth,parentRepeaterKey:e.state.parentRepeaterKey,parentRef:e.state.groupRef,groupErrors:o(),missingFieldColumns:l()}}})})})}}),n(E,{get when(){return i().length===0},get children(){var k=Yr(),v=k.firstChild;return c(v,()=>I()("no_entries")),k}})]}}),w),c(w,n(q,{type:"button",theme:"secondary",size:"small",onClick:f,get disabled(){return u()},get children(){return I()("add_entry")}}),null),c(w,n(F,{get when(){var k;return((k=a().validation)==null?void 0:k.maxGroups)!==void 0},get children(){var k=Zr(),v=k.firstChild;return c(k,()=>i().length,v),c(k,()=>{var b;return(b=a().validation)==null?void 0:b.maxGroups},null),O(()=>M(k,S("text-body text-sm font-body font-normal mr-[25px]",{"text-error-base":!r()}))),k}}),null),O(()=>M(m,S("mb-2.5 last:mb-0 w-full",{"mt-5":e.state.repeaterDepth>0}))),m})()},Ee=e=>{const[d,a]=T(""),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{const t=i();switch(e.type){case"number":{a(typeof t!="number"?"":t.toString());break}default:{a(typeof t!="string"?"":t);break}}}),n(Zt,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:e.type==="number"?Number(t):t,contentLocale:e.state.contentLocale}),a(t)})},get name(){return e.state.fieldConfig.key},get type(){return e.type},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary}),placeholder:L.getLocaleValue({value:e.state.fieldConfig.details.placeholder})}},get errors(){return e.state.fieldError},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return r()},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing},theme:"basic"})},en=e=>{const[d,a]=T(!1),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i()||!1)}),n(Xt,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t,contentLocale:e.state.contentLocale}),a(t)})},get name(){return e.state.fieldConfig.key},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary}),true:L.getLocaleValue({value:e.state.fieldConfig.details.true}),false:L.getLocaleValue({value:e.state.fieldConfig.details.false})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})};var tn=y("<div>");const rn=e=>{const[d,a]=T(""),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i()||"")}),(()=>{var t=tn();return c(t,n(pt,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:u=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:u,contentLocale:e.state.contentLocale}),a(u)})},get name(){return e.state.fieldConfig.key},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get presets(){return e.state.fieldConfig.presets},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var u;return((u=e.state.fieldConfig.validation)==null?void 0:u.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})),t})()},nn=e=>{const[d,a]=T(""),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(JSON.stringify(i()??"",null,4))}),n(er,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{try{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:JSON.parse(t),contentLocale:e.state.contentLocale}),a(t)})}catch{}},get name(){return e.state.fieldConfig.key},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary}),placeholder:L.getLocaleValue({value:e.state.fieldConfig.details.placeholder})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing},theme:"basic"})},an=e=>{const[d,a]=T(),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i())}),n(yr,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t,contentLocale:e.state.contentLocale}),a(t)})},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})},ln=e=>{const[d,a]=T(),[s,i]=T(),r=g(()=>e.state.fieldData),t=g(()=>V.getFieldValue({fieldData:r(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),u=g(()=>V.getFieldMeta({fieldData:r(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),o=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(t()),i(u())}),n(gr,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},get meta(){return s()},onChange:(l,f)=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:l,meta:f,contentLocale:e.state.contentLocale}),a(l??void 0),i(f??void 0)})},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return o()},get extensions(){var l;return(l=e.state.fieldConfig.validation)==null?void 0:l.extensions},get type(){var l;return(l=e.state.fieldConfig.validation)==null?void 0:l.type},get errors(){return e.state.fieldError},get required(){var l;return((l=e.state.fieldConfig.validation)==null?void 0:l.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})},on=e=>{const[d,a]=T(null),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i()||null)}),n(at,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()||void 0},get options(){return e.state.fieldConfig.options.map((t,u)=>({label:L.getLocaleValue({value:t.label,fallback:I()("option_label",{count:u})}),value:t.value}))||[]},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t||null,contentLocale:e.state.contentLocale}),a(t||null)})},get name(){return e.state.fieldConfig.key},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get noClear(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing},theme:"basic"})},dn=e=>{const[d,a]=T(""),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i()||"")}),n(tr,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t,contentLocale:e.state.contentLocale}),a(t)})},get name(){return e.state.fieldConfig.key},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary}),placeholder:L.getLocaleValue({value:e.state.fieldConfig.details.placeholder})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},theme:"basic"})},sn=e=>{const[d,a]=T(""),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i()||"")}),n(sr,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},onChange:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t,contentLocale:e.state.contentLocale}),a(t)})},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary}),placeholder:L.getLocaleValue({value:e.state.fieldConfig.details.placeholder})}},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return r()},get errors(){return e.state.fieldError},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})},cn=e=>{const[d,a]=T(""),s=_t.users.useGetMultiple({queryParams:{filters:{username:d()!==""?d:void 0,isDeleted:0}}});return n(at,{get id(){return e.id},get value(){return e.value},get onChange(){return e.setValue},get copy(){return{...e.copy,searchPlaceholder:I()("search_by_username")}},get name(){return e.name},get search(){return{value:d(),onChange:a,isLoading:s.isLoading}},get options(){var i;return((i=s.data)==null?void 0:i.data.map(r=>({value:r.id,label:L.formatUserName(r,"username")})))||[]},get errors(){return e.errors},get altLocaleError(){return e.altLocaleError},get localised(){return e.localised},get theme(){return e.theme},get disabled(){return e.disabled},get required(){return e.required},noClear:!1,get fieldColumnIsMissing(){return e.fieldColumnIsMissing}})},un=e=>{const[d,a]=T(),s=g(()=>e.state.fieldData),i=g(()=>V.getFieldValue({fieldData:s(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),r=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(i())}),n(cn,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get value(){return d()},setValue:t=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:t===void 0?void 0:Number(t),contentLocale:e.state.contentLocale}),a(t)})},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get name(){return e.state.fieldConfig.key},get errors(){return e.state.fieldError},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing},get disabled(){return r()},get required(){var t;return((t=e.state.fieldConfig.validation)==null?void 0:t.required)||!1},theme:"basic"})};var gn=y("<button type=button>");const fn=e=>{const d=g(()=>{const s=[],i=r=>{for(const t of r)t.type==="tab"||t.type==="repeater"?i(t.fields):s.push(t.key)};return i(e.tab.fields),s}),a=g(()=>d().some(s=>D.get.fieldsErrors.find(i=>i.key===s)));return(()=>{var s=gn();return s.$$click=()=>e.setActiveTab(e.tab.key),c(s,()=>{var i;return L.getLocaleValue({value:(i=e.tab.details)==null?void 0:i.label})}),O(()=>M(s,S("border-b border-border -mb-px text-sm font-medium py-1 px-2 first:pl-0 focus:outline-hidden ring-inset focus:ring-1 ring-primary-base",{"border-primary-base":e.getActiveTab()===e.tab.key,"border-error-base":a()}))),s})()};p(["click"]);const bn=e=>{const[d,a]=T(),[s,i]=T(),r=g(()=>e.state.fieldData),t=g(()=>V.getFieldValue({fieldData:r(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),u=g(()=>V.getFieldMeta({fieldData:r(),fieldConfig:e.state.fieldConfig,contentLocale:e.state.contentLocale})),o=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked);return A(()=>{a(t()),i(u())}),n(Dr,{get id(){return V.customFieldId({key:e.state.fieldConfig.key,brickIndex:e.state.brickIndex,groupRef:e.state.groupRef})},get collection(){return e.state.fieldConfig.collection},get value(){return d()},get meta(){return s()},onChange:(l,f)=>{J(()=>{D.get.setFieldValue({brickIndex:e.state.brickIndex,fieldConfig:e.state.fieldConfig,key:e.state.fieldConfig.key,ref:e.state.groupRef,repeaterKey:e.state.repeaterKey,value:l?Number(l):null,meta:f,contentLocale:e.state.contentLocale}),a(l??void 0),i(f??void 0)})},get copy(){return{label:L.getLocaleValue({value:e.state.fieldConfig.details.label}),describedBy:L.getLocaleValue({value:e.state.fieldConfig.details.summary})}},get errors(){return e.state.fieldError},get altLocaleError(){return e.state.altLocaleError},get localised(){return e.state.localised},get disabled(){return o()},get required(){var l;return((l=e.state.fieldConfig.validation)==null?void 0:l.required)||!1},get fieldColumnIsMissing(){return e.state.fieldColumnIsMissing}})},U="lucid_tab_state",me={getTabState(e,d,a,s){try{const i=localStorage.getItem(U);if(!i)return null;const t=JSON.parse(i)[e];if(!t)return null;const u=t.find(l=>l.documentId===d&&l.brickKey===a&&l.brickOrder===s);if(u)return u.activeTab;const o=t.filter(l=>l.documentId===d&&l.brickKey===a).sort((l,f)=>f.lastUpdated-l.lastUpdated);return o.length>0?o[0].activeTab:null}catch(i){return console.warn("Failed to get tab state from localStorage:",i),null}},setTabState(e,d,a,s,i){try{const r=localStorage.getItem(U),t=r?JSON.parse(r):{};t[e]||(t[e]=[]);const u=t[e].findIndex(l=>l.documentId===d&&l.brickKey===a&&l.brickOrder===s),o={activeTab:i,brickKey:a,brickOrder:s,documentId:d,lastUpdated:Date.now()};u>=0?t[e][u]=o:t[e].push(o),localStorage.setItem(U,JSON.stringify(t))}catch(r){console.warn("Failed to save tab state to localStorage:",r)}},updateBrickOrders(e,d,a){try{const s=localStorage.getItem(U);if(!s)return;const i=JSON.parse(s),r=i[e];if(!r)return;for(const u of r)if(u.documentId===d){const o=a[u.brickKey];o!==void 0&&(u.brickOrder=o,u.lastUpdated=Date.now())}const t=new Map;for(const u of r){const o=`${u.documentId}-${u.brickKey}-${u.brickOrder}`,l=t.get(o);(!l||l.lastUpdated<u.lastUpdated)&&t.set(o,u)}i[e]=Array.from(t.values()),localStorage.setItem(U,JSON.stringify(i))}catch(s){console.warn("Failed to update brick orders in localStorage:",s)}},cleanupOldEntries(){try{const e=localStorage.getItem(U);if(!e)return;const d=JSON.parse(e),a=Date.now()-30*24*60*60*1e3;for(const s in d)d[s]=d[s].filter(i=>i.lastUpdated>a),d[s].length===0&&delete d[s];localStorage.setItem(U,JSON.stringify(d))}catch(e){console.warn("Failed to cleanup old tab state entries:",e)}},clearCollectionTabState(e){try{const d=localStorage.getItem(U);if(!d)return;const a=JSON.parse(d);delete a[e],localStorage.setItem(U,JSON.stringify(a))}catch(d){console.warn("Failed to clear collection tab state:",d)}},clearDocumentTabState(e,d){try{const a=localStorage.getItem(U);if(!a)return;const s=JSON.parse(a),i=s[e];if(!i)return;s[e]=i.filter(r=>r.documentId!==d),s[e].length===0&&delete s[e],localStorage.setItem(U,JSON.stringify(s))}catch(a){console.warn("Failed to clear document tab state:",a)}}};var mn=y('<div class="border-b border-border mb-6 flex flex-wrap">'),hn=y("<div><div>");const ze=e=>{const[d,a]=T(),s=g(()=>{var i;return((i=e.state.configFields)==null?void 0:i.filter(r=>r.type==="tab"))||[]});return Me(()=>{var i,r;if(me.cleanupOldEntries(),e.state.collectionKey&&e.state.documentId&&s().length>0){const t=me.getTabState(e.state.collectionKey,e.state.documentId,e.state.brick.key,e.state.brick.order),u=s().some(o=>o.key===t);if(t&&u)a(t);else{const o=(i=s()[0])==null?void 0:i.key;o&&a(o)}}else if(d()===void 0){const t=(r=s()[0])==null?void 0:r.key;t&&a(t)}}),A(()=>{const i=d();i&&e.state.collectionKey&&e.state.documentId&&me.setTabState(e.state.collectionKey,e.state.documentId,e.state.brick.key,e.state.brick.order,i)}),(()=>{var i=hn(),r=i.firstChild;return c(r,n(F,{get when(){return s().length>0},get children(){var t=mn();return c(t,n(X,{get each(){return s()},children:u=>n(fn,{tab:u,setActiveTab:a,getActiveTab:d})})),t}}),null),c(r,n(X,{get each(){return e.state.configFields},children:t=>n(Be,{get state(){return{fields:e.state.brick.fields,brickIndex:e.state.brickIndex,fieldConfig:t,activeTab:d(),fieldErrors:e.state.fieldErrors,missingFieldColumns:e.state.missingFieldColumns}}})}),null),O(t=>{var u=S("transform-gpu origin-top duration-200 transition-all",{"scale-y-100 h-auto opacity-100 visible":e.state.open,"scale-y-0 h-0 opacity-0 invisible overflow-hidden":!e.state.open}),o=e.state.labelledby,l=S({"p-4 pt-0":e.options.padding==="16","p-6":e.options.padding==="24","pt-4!":e.options.bleedTop});return u!==t.e&&M(i,t.e=u),o!==t.t&&B(i,"aria-labelledby",t.t=o),l!==t.a&&M(r,t.a=l),t},{e:void 0,t:void 0,a:void 0}),i})()};var vn=y("<button type=button>");const ft=e=>{const[d,a]=T(0),s=rr(()=>{a(0)},4e3);return(()=>{var i=vn();return i.$$click=r=>{r.stopPropagation(),d()===1&&e.callback(),a(1),s()},c(i,n(Lt,{class:"w-4"})),O(r=>{var t=S("transition-all duration-200 cursor-pointer focus:outline-hidden focus:ring-1 ring-primary-base disabled:hover:text-icon-base! disabled:opacity-50 disabled:cursor-not-allowed",{"text-icon-base hover:text-error-base":d()===0,"text-error-hover animate-pulse":d()===1}),u=d()===1?I()("confirm_delete"):I()("delete"),o=e.disabled;return t!==r.e&&M(i,r.e=t),u!==r.t&&B(i,"aria-label",r.t=u),o!==r.a&&(i.disabled=r.a=o),r},{e:void 0,t:void 0,a:void 0}),i})()};p(["click"]);var yn=y('<div><div role=button tabindex=0><div class="flex items-center"><button type=button class="text-icon-base mr-2 hover:text-primary-hover transition-colors duration-200 cursor-pointer focus:outline-hidden focus:ring-1 ring-primary-base disabled:hover:text-icon-base! disabled:opacity-50 disabled:cursor-not-allowed"></button><h3 class="text-sm text-body">-</h3></div><div class="flex gap-2"><button type=button tabindex=-1></button></div></div><div><div class=p-4>');const kn=e=>{const[d,a]=T(!!e.state.groupOpen),s=g(()=>e.state.ref),i=g(()=>e.state.brickIndex),r=g(()=>e.state.parentRef),t=g(()=>e.state.parentRepeaterKey),u=g(()=>e.state.repeaterKey),o=g(()=>e.state.fieldConfig.fields),l=g(()=>e.state.repeaterDepth+1),f=g(()=>e.state.fields),m=g(()=>e.state.fieldConfig.config.isDisabled||D.get.locked),h=g(()=>e.state.groupErrors.find(b=>b.ref===e.state.ref)),w=g(()=>{var b;return(b=h())==null?void 0:b.fields}),k=g(()=>e.state.missingFieldColumns),v=()=>{a(!d()),D.get.toggleGroupOpen({brickIndex:i(),repeaterKey:u(),ref:s(),parentRef:r(),parentRepeaterKey:t()})};return(()=>{var b=yn(),C=b.firstChild,P=C.firstChild,R=P.firstChild,z=R.nextSibling,j=z.firstChild,W=P.nextSibling,Q=W.firstChild,G=C.nextSibling,Y=G.firstChild;return b.addEventListener("dragover",x=>e.state.dragDrop.onDragOver(x)),b.addEventListener("dragenter",x=>e.state.dragDrop.onDragEnter(x,{ref:s(),key:e.state.dragDropKey})),b.addEventListener("dragend",x=>e.state.dragDrop.onDragEnd(x)),b.addEventListener("dragstart",x=>e.state.dragDrop.onDragStart(x,{ref:s(),key:e.state.dragDropKey})),C.$$keydown=x=>{x.key==="Enter"&&v()},C.$$click=v,R.addEventListener("dragover",x=>e.state.dragDrop.onDragOver(x)),R.addEventListener("dragenter",x=>e.state.dragDrop.onDragEnter(x,{ref:s(),key:e.state.dragDropKey})),R.addEventListener("dragend",x=>e.state.dragDrop.onDragEnd(x)),R.addEventListener("dragstart",x=>e.state.dragDrop.onDragStart(x,{ref:s(),key:e.state.dragDropKey})),c(R,n(et,{class:"w-4"})),c(z,()=>{var x;return L.getLocaleValue({value:(x=e.state.fieldConfig.details)==null?void 0:x.label})},j),c(z,()=>e.state.groupIndex+1,null),c(W,n(ft,{callback:()=>{D.get.removeRepeaterGroup({brickIndex:i(),repeaterKey:u(),targetRef:s(),ref:r(),parentRepeaterKey:t()})},get disabled(){return m()}}),Q),c(Q,n(Ke,{size:16})),c(Y,n(X,{get each(){return o()},children:x=>n(Be,{get state(){return{brickIndex:i(),fieldConfig:x,fields:f(),groupRef:s(),repeaterKey:u(),repeaterDepth:l(),fieldErrors:w()||[],missingFieldColumns:k()}}})})),O(x=>{var He,Ue;var H=`group-item-${e.state.ref}`,ce=e.state.dragDropKey,_=S("w-full mb-2.5 last:mb-0",{"opacity-60":((He=e.state.dragDrop.getDragging())==null?void 0:He.ref)===s()}),$=S("w-full bg-input-base focus:outline-hidden focus:ring-1 ring-inset ring-primary-base cursor-pointer p-2.5 rounded-md border border-border flex justify-between items-center",{"border-b-0 rounded-b-none":d(),"ring-1 ring-inset":((Ue=e.state.dragDrop.getDraggingTarget())==null?void 0:Ue.ref)===s()}),K=`accordion-header-${s()}`,N=d(),ee=`accordion-content-${s()}`,te=I()("change_order"),Ae=m()===!1,qe=m(),Ne=S("text-2xl text-icon-base hover:text-icon-hover transition-all duration-200",{"transform rotate-180":d()}),je=S("border-border bg-[#181818] transform-gpu origin-top border-x border-b mb-2.5 last:mb-0 rounded-b-md overflow-hidden w-full duration-200 transition-all",{"bg-background-base":e.state.repeaterDepth%2!==0,"scale-y-100 h-auto opacity-100 visible":d(),"scale-y-0 h-0 opacity-0 invisible":!d()}),Ge=`accordion-header-${s()}`;return H!==x.e&&((x.e=H)!=null?b.style.setProperty("view-transition-name",H):b.style.removeProperty("view-transition-name")),ce!==x.t&&B(b,"data-dragkey",x.t=ce),_!==x.a&&M(b,x.a=_),$!==x.o&&M(C,x.o=$),K!==x.i&&B(C,"id",x.i=K),N!==x.n&&B(C,"aria-expanded",x.n=N),ee!==x.s&&B(C,"aria-controls",x.s=ee),te!==x.h&&B(R,"aria-label",x.h=te),Ae!==x.r&&B(R,"draggable",x.r=Ae),qe!==x.d&&(R.disabled=x.d=qe),Ne!==x.l&&M(Q,x.l=Ne),je!==x.u&&M(G,x.u=je),Ge!==x.c&&B(G,"aria-labelledby",x.c=Ge),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),b})()};p(["click","keydown"]);var Cn=y('<button type=button tabindex=-1 class="text-2xl text-icon-base hover:text-icon-hover transition-all duration-200">');const bt=e=>n(F,{get when(){var d,a;return(a=(d=e.brickConfig)==null?void 0:d.preview)==null?void 0:a.image},get children(){var d=Cn();return d.$$click=a=>{var s,i,r,t,u,o;a.stopPropagation(),D.set("imagePreview",{open:!0,data:{title:L.getLocaleValue({value:(s=e.brickConfig)==null?void 0:s.details.name,fallback:(i=e.brickConfig)==null?void 0:i.key}),description:L.getLocaleValue({value:(r=e.brickConfig)==null?void 0:r.details.summary,fallback:(t=e.brickConfig)==null?void 0:t.key}),image:(o=(u=e.brickConfig)==null?void 0:u.preview)==null?void 0:o.image}})},c(d,n(Et,{size:16})),d}});p(["click"]);var xn=y("<ul>"),wn=y('<li class="w-full border-b border-border focus-within:outline-hidden focus-within:ring-1 ring-inset ring-primary-base"><div role=button tabindex=0><div class="flex items-center"><h2></h2></div><div class="flex gap-2"><button type=button tabindex=-1>');const Zn=e=>{const d=g(()=>D.get.bricks.filter(a=>a.type==="fixed").sort((a,s)=>a.order-s.order));return(()=>{var a=xn();return c(a,n(X,{get each(){return d()},children:s=>n($n,{brick:s,get brickConfig(){return e.brickConfig},get collectionMigrationStatus(){return e.collectionMigrationStatus},get collectionKey(){return e.collectionKey},get documentId(){return e.documentId}})})),a})()},$n=e=>{const[d,a]=T(!!e.brick.open),s=g(()=>e.brickConfig.find(o=>o.key===e.brick.key)),i=g(()=>D.get.bricks.findIndex(o=>o.ref===e.brick.ref)),r=g(()=>{var o;return((o=D.get.brickErrors.find(l=>l.key===e.brick.key&&l.ref===e.brick.ref))==null?void 0:o.fields)||[]}),t=g(()=>{var o;return((o=e.collectionMigrationStatus)==null?void 0:o.missingColumns[e.brick.key])||[]}),u=()=>{a(!d()),D.get.toggleBrickOpen(i())};return(()=>{var o=wn(),l=o.firstChild,f=l.firstChild,m=f.firstChild,h=f.nextSibling,w=h.firstChild;return l.$$keydown=k=>{k.key==="Enter"&&u()},l.$$click=u,c(f,n(St,{class:"text-white text-lg mr-2.5"}),m),c(m,()=>{var k,v;return L.getLocaleValue({value:(k=s())==null?void 0:k.details.name,fallback:(v=s())==null?void 0:v.key})}),c(h,n(bt,{get brickConfig(){return s()}}),w),c(w,n(Ke,{size:16})),c(o,n(ze,{get state(){var k;return{open:d(),brick:e.brick,brickIndex:i(),configFields:((k=s())==null?void 0:k.fields)||[],labelledby:`fixed-brick-${e.brick.key}`,fieldErrors:r(),missingFieldColumns:t(),collectionKey:e.collectionKey,documentId:e.documentId}},options:{padding:"24",bleedTop:!0}}),null),O(k=>{var v=S("flex justify-between cursor-pointer pt-4 md:pt-6 px-4 md:px-6 focus:outline-hidden",{"pb-0":d(),"pb-4 md:pb-6":!d()}),b=`fixed-brick-${e.brick.key}`,C=d(),P=`fixed-brick-content-${e.brick.key}`,R=S("text-2xl text-icon-base hover:text-icon-hover transition-all duration-200",{"transform rotate-180":d()});return v!==k.e&&M(l,k.e=v),b!==k.t&&B(l,"id",k.t=b),C!==k.a&&B(l,"aria-expanded",k.a=C),P!==k.o&&B(l,"aria-controls",k.o=P),R!==k.i&&M(w,k.i=R),k},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),o})()};p(["click","keydown"]);const Dn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='19.797'%20height='17'%3e%3cg%20fill='%23fff'%3e%3cpath%20d='m19.798%203.917-11.5%207.838v5.063l11.5-8Z'%20data-name='Path%2010'/%3e%3cpath%20d='M7.39%2011.579.019%208.621%200%2014.23%207.39%2017Z'%20data-name='Path%2011'/%3e%3cpath%20d='m7.897%2010.742%2011.594-7.918L11.897%200%20.261%207.584Zm3.457-4.155L8.321%208.663a1.614%201.614%200%200%201-1.47.194l-.647-.337c-.346-.18-.275-.551.148-.829L9.29%205.765a1.717%201.717%200%200%201%201.37-.207l.694.262c.393.15.398.493-.003.767Zm3.921-4.1.733.192c.416.109.477.392.126.633l-2.657%201.82a1.789%201.789%200%200%201-1.423.215l-.7-.251c-.376-.135-.371-.442%200-.686l2.59-1.7a1.879%201.879%200%200%201%201.328-.218Zm-6.8%201.069%202.5-1.561a1.787%201.787%200%200%201%201.22-.213l.64.167c.363.1.388.351.046.571l-2.568%201.661a1.7%201.7%200%200%201-1.3.208l-.608-.218c-.328-.111-.295-.387.063-.611Zm-4.8%203L6.49%204.8a1.63%201.63%200%200%201%201.255-.2l.6.227c.341.129.313.435-.072.684L5.356%207.392a1.527%201.527%200%200%201-1.337.192l-.554-.292c-.299-.154-.205-.484.199-.736Z'%20data-name='Path%2012'/%3e%3c/g%3e%3c/svg%3e",In=e=>n(F,{get when(){return e.copy},get children(){return n(ge.Root,{placement:"bottom",get children(){return[n(ge.Trigger,{tabIndex:-1,class:"h-6 w-6 cursor-help hover:bg-primary-base absolute top-4 right-4 bg-primary-base rounded-full text-primary-contrast flex items-center justify-center duration-200 transition-colors",get children(){return n(Rt,{size:14})}}),n(ge.Content,{class:"bg-primary-base text-primary-contrast rounded-md text-sm px-2 py-1 shadow-md animate-animate-from-left",get children(){return[n(ge.Arrow,{class:"text-primary-base",size:20}),g(()=>e.copy)]}})]}})}});var _n=y('<button class="absolute top-0 right-4 h-full flex items-center justify-center cursor-pointer"type=button>'),Ln=y('<div class="h-14 w-full relative"><div class="absolute top-0 left-4 h-full flex items-center justify-center pointer-events-none"></div><input class="h-full bg-background-base w-full border-b border-border px-10 focus:outline-hidden text-title placeholder:text-unfocused"placeholder=search>'),En=y('<div class="flex h-96"><div class="w-[40%] p-4 overflow-y-auto h-full"><ul class="h-full w-full"></ul></div><div class="w-[60%] p-4 h-full pl-0"><div class="border border-border h-full rounded-md flex items-center justify-center relative"><div class=w-[80%]>'),Sn=y('<li class=w-full><button type=button><img class="w-6 mr-2.5"loading=lazy>',!0,!1,!1);const Rn=e=>{const[d,a]=T(void 0),[s,i]=T(""),r=g(()=>e.data.brickConfig.filter(u=>s()?L.getLocaleValue({value:u.details.name,fallback:u.key}).toLowerCase().includes(s().toLowerCase()):!0)),t=g(()=>{const u=e.data.brickConfig.find(o=>o.key===d());if(!u){const o=r();o.length>0&&a(o[0].key)}return u});return n(Lr,{get state(){return{open:e.state.open,setOpen:e.state.setOpen}},options:{noPadding:!0},get children(){return[(()=>{var u=Ln(),o=u.firstChild,l=o.nextSibling;return c(o,n(Tt,{class:"w-4 text-unfocused"})),l.$$input=f=>i(f.currentTarget.value),c(u,n(F,{get when(){return s()},get children(){var f=_n();return f.$$click=()=>{i("")},c(f,n(Ve,{class:"w-4 text-error-base"})),f}}),null),O(()=>l.value=s()),u})(),(()=>{var u=En(),o=u.firstChild,l=o.firstChild,f=o.nextSibling,m=f.firstChild,h=m.firstChild;return c(l,n(X,{get each(){return r()},children:w=>(()=>{var k=Sn(),v=k.firstChild,b=v.firstChild;return v.$$click=()=>{D.get.addBrick({brickConfig:w}),e.state.setOpen(!1)},v.addEventListener("focus",()=>a(w.key)),v.$$mouseover=()=>a(w.key),B(b,"src",Dn),c(v,()=>L.getLocaleValue({value:w.details.name,fallback:w.key}),null),O(C=>{var P=S("flex items-center font-medium w-full p-2.5 rounded-md transition-colors duration-200",{"bg-card-base":w.key===d(),"bg-background-base":w.key!==d()}),R=w.key;return P!==C.e&&M(v,C.e=P),R!==C.t&&B(b,"alt",C.t=R),C},{e:void 0,t:void 0}),k})()})),c(h,n(Gr,{get data(){var w,k,v,b;return{brick:{title:L.getLocaleValue({value:(w=t())==null?void 0:w.details.name,fallback:(k=t())==null?void 0:k.key}),image:(b=(v=t())==null?void 0:v.preview)==null?void 0:b.image}}},options:{rounded:!0}})),c(m,n(F,{get when(){var w;return(w=t())==null?void 0:w.details.summary},get children(){return n(In,{get copy(){var w,k;return L.getLocaleValue({value:(w=t())==null?void 0:w.details.summary,fallback:(k=t())==null?void 0:k.key})}})}}),null),u})()]}})};p(["input","click","mouseover"]);var Tn=y('<div class="p-4 md:p-6 border border-dashed border-border rounded-md min-h-60 flex items-center justify-center"><div class="max-w-sm text-center mx-auto"><h3 class=mb-1></h3><p class=text-sm>'),Fn=y("<ol class=w-full>"),Pn=y('<div class=p-6><div class="flex justify-between mb-4"><div class="flex items-center"><h2>:'),Mn=y('<li data-dragkey=builder-bricks-zone><div role=button tabindex=0><div class="flex items-center"><button type=button class="text-icon-base mr-2 hover:text-primary-hover transition-colors duration-200 cursor-pointer focus:outline-hidden focus:ring-1 ring-primary-base disabled:hover:text-icon-base! disabled:opacity-50 disabled:cursor-not-allowed"></button><h3></h3></div><div class="flex gap-2"><button type=button tabindex=-1>');const Xn=e=>{const[d,a]=T(!1),s=g(()=>D.get.bricks.filter(r=>r.type==="builder").sort((r,t)=>r.order-t.order)),i=g(()=>D.get.locked);return n(F,{get when(){return e.brickConfig.length>0},get children(){return[(()=>{var r=Pn(),t=r.firstChild,u=t.firstChild,o=u.firstChild,l=o.firstChild;return c(u,n(Ft,{class:"text-white text-xl mr-2.5"}),o),c(o,()=>I()("builder_area"),l),c(t,n(q,{type:"button",theme:"secondary",size:"small",onClick:()=>{a(!0)},get disabled(){return i()},get children(){return I()("add_brick")}}),null),c(r,n(ne,{get children(){return[n(E,{get when(){return s().length===0},get children(){var f=Tn(),m=f.firstChild,h=m.firstChild,w=h.nextSibling;return c(h,()=>I()("builder_area_title")),c(w,()=>I()("builder_area_empty")),f}}),n(E,{get when(){return s().length>0},get children(){var f=Fn();return c(f,n(gt,{sortOrder:(m,h)=>{D.get.swapBrickOrder({brickRef:m,targetBrickRef:h}),e.collectionKey&&e.documentId&&me.updateBrickOrders(e.collectionKey,e.documentId,s().map(w=>({[w.key]:w.order})))},children:({dragDrop:m})=>n(X,{get each(){return s()},children:h=>n(Vn,{brick:h,get brickConfig(){return e.brickConfig},get collectionMigrationStatus(){return e.collectionMigrationStatus},dragDrop:m,get collectionKey(){return e.collectionKey},get documentId(){return e.documentId}})})})),f}})]}}),null),r})(),n(Rn,{get state(){return{open:d(),setOpen:a}},get data(){return{brickConfig:e.brickConfig}}})]}})},be="builder-bricks-zone",Vn=e=>{const[d,a]=T(!!e.brick.open),s=g(()=>e.brickConfig.find(l=>l.key===e.brick.key)),i=g(()=>D.get.bricks.findIndex(l=>l.ref===e.brick.ref)),r=g(()=>D.get.locked),t=g(()=>{var l;return((l=D.get.brickErrors.find(f=>f.key===e.brick.key&&f.ref===e.brick.ref))==null?void 0:l.fields)||[]}),u=g(()=>{var l;return((l=e.collectionMigrationStatus)==null?void 0:l.missingColumns[e.brick.key])||[]}),o=()=>{a(!d()),D.get.toggleBrickOpen(i())};return(()=>{var l=Mn(),f=l.firstChild,m=f.firstChild,h=m.firstChild,w=h.nextSibling,k=m.nextSibling,v=k.firstChild;return l.addEventListener("dragover",b=>e.dragDrop.onDragOver(b)),l.addEventListener("dragenter",b=>e.dragDrop.onDragEnter(b,{ref:e.brick.ref,key:be})),l.addEventListener("dragend",b=>e.dragDrop.onDragEnd(b)),l.addEventListener("dragstart",b=>e.dragDrop.onDragStart(b,{ref:e.brick.ref,key:be})),f.$$keydown=b=>{b.key==="Enter"&&o()},f.$$click=o,h.addEventListener("dragover",b=>e.dragDrop.onDragOver(b)),h.addEventListener("dragenter",b=>e.dragDrop.onDragEnter(b,{ref:e.brick.ref,key:be})),h.addEventListener("dragend",b=>e.dragDrop.onDragEnd(b)),h.addEventListener("dragstart",b=>e.dragDrop.onDragStart(b,{ref:e.brick.ref,key:be})),c(h,n(et,{class:"w-4"})),c(w,()=>{var b,C;return L.getLocaleValue({value:(b=s())==null?void 0:b.details.name,fallback:(C=s())==null?void 0:C.key})}),c(k,n(bt,{get brickConfig(){return s()}}),v),c(k,n(ft,{callback:()=>{D.get.removeBrick(i())},get disabled(){return r()}}),v),c(v,n(Ke,{size:16})),c(l,n(ze,{get state(){var b;return{open:d(),brick:e.brick,brickIndex:i(),configFields:((b=s())==null?void 0:b.fields)||[],labelledby:`builder-brick-${e.brick.key}`,fieldErrors:t(),missingFieldColumns:u(),collectionKey:e.collectionKey,documentId:e.documentId}},options:{padding:"16"}}),null),O(b=>{var x,H;var C=`brick-item-${e.brick.ref}`,P=S("drag-item w-full bg-card-base border border-border rounded-md mb-4 last:mb-0 focus-within:outline-hidden focus-within:ring-1 ring-inset ring-primary-base",{"opacity-60":((x=e.dragDrop.getDragging())==null?void 0:x.ref)===e.brick.ref,"ring-1 ring-inset":((H=e.dragDrop.getDraggingTarget())==null?void 0:H.ref)===e.brick.ref}),R=S("flex items-center justify-between cursor-pointer px-4 py-2.5 rounded-md focus:outline-hidden"),z=d(),j=`bulder-brick-content-${e.brick.key}`,W=r()===!1,Q=I()("change_order"),G=r(),Y=S("text-2xl text-icon-base hover:text-icon-hover transition-all duration-200",{"transform rotate-180":d()});return C!==b.e&&((b.e=C)!=null?l.style.setProperty("view-transition-name",C):l.style.removeProperty("view-transition-name")),P!==b.t&&M(l,b.t=P),R!==b.a&&M(f,b.a=R),z!==b.o&&B(f,"aria-expanded",b.o=z),j!==b.i&&B(f,"aria-controls",b.i=j),W!==b.n&&B(h,"draggable",b.n=W),Q!==b.s&&B(h,"aria-label",b.s=Q),G!==b.h&&(h.disabled=b.h=G),Y!==b.r&&M(v,b.r=Y),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),l})()};p(["click","keydown"]);var Kn=y('<div class="p-4 md:p-6 border-b border-border">');const pn=e=>{const d=g(()=>{const r=D.get.bricks.filter(t=>t.type==="collection-fields");return r.length>0?r[0]:void 0}),a=g(()=>D.get.bricks.findIndex(r=>{var t;return r.ref===((t=d())==null?void 0:t.ref)})),s=g(()=>D.get.fieldsErrors),i=g(()=>{var r;return((r=e.collectionMigrationStatus)==null?void 0:r.missingColumns["document-fields"])||[]});return n(F,{get when(){return d()!==void 0},get children(){var r=Kn();return c(r,n(ze,{get state(){return{open:!0,brick:d(),brickIndex:a(),configFields:e.fields,fieldErrors:s(),missingFieldColumns:i(),collectionKey:e.collectionKey,documentId:e.documentId}},options:{}})),r}})};var On=y('<aside class="w-full lg:max-w-[300px] flex flex-col justify-between bg-card-base border-b lg:border-b-0 lg:border-l border-border"><div><div class="flex items-center justify-between border-b border-border gap-2.5 px-6 py-4"><h3></h3></div></div><div class="p-4 md:p-6 border-t border-border">'),Bn=y('<button type=button><h3 class="mb-0.5 text-base"> #</h3><div class="mt-2.5 flex gap-2.5">');const ei=e=>{const d=Pt();return(()=>{var a=On(),s=a.firstChild,i=s.firstChild,r=i.firstChild,t=s.nextSibling;return c(r,()=>I()("revisions")),c(i,n(nr,{get sorts(){return[{label:I()("created_at"),key:"createdAt"}]},get searchParams(){return e.state.searchParams}}),null),c(s,n(Vt,{get state(){return{isError:e.state.isError(),isSuccess:e.state.isSuccess(),isLoading:e.state.isLoading(),isEmpty:e.state.isSuccess()&&e.state.revisions.length===0,hasPermission:!0}},get copy(){return{noEntries:{title:I()("no_revisions_found"),description:I()("no_revisions_found_message"),button:I()("back_to_document")},error:{title:I()("error_title"),description:I()("error_message")}}},get options(){return{padding:"24",hideNoEntries:e.state.hideNoEntries}},get children(){return n(X,{get each(){return e.state.revisions},children:u=>(()=>{var o=Bn(),l=o.firstChild,f=l.firstChild,m=l.nextSibling;return o.$$click=()=>{d(`/admin/collections/${e.state.collectionKey()}/revisions/${e.state.documentId()}/${u.id}`)},c(l,()=>I()("revision"),f),c(l,()=>u.id,null),c(o,n(Re,{get date(){return u.createdAt}}),m),c(m,n(Te,{theme:"grey",get children(){return["Bricks ",g(()=>{var h,w;return((w=(h=u.bricks)==null?void 0:h.builder)==null?void 0:w.length)??0})]}}),null),c(m,n(Te,{theme:"grey",get children(){return["Fixed ",g(()=>{var h,w;return((w=(h=u.bricks)==null?void 0:h.fixed)==null?void 0:w.length)??0})]}}),null),O(()=>M(o,S("bg-card-base border-border border text-left rounded-md mb-2.5 last:mb-0 flex flex-col p-4 focus:ring-1 focus:ring-primary-base duration-200 transition-colors hover:border-primary-base",{"border-primary-base":u.id===e.state.versionId()}))),o})()})}}),null),c(t,n(ir,{get state(){return{meta:e.state.meta,searchParams:e.state.searchParams}}})),a})()};p(["click"]);function ti(e){const d=g(()=>se.get.contentLocale),[a,s]=T(!1),[i,r]=T(!1),t=g(()=>e.collectionQuery.isLoading||e.documentQuery.isLoading),u=g(()=>e.mode==="create"?e.collectionQuery.isSuccess:e.collectionQuery.isSuccess&&e.documentQuery.isSuccess),o=g(()=>{var _,$;return((_=e.createSingleVersionMutation)==null?void 0:_.action.isPending)||(($=e.createDocumentMutation)==null?void 0:$.action.isPending)}),l=g(()=>{var _;return((_=e.updateSingleVersionMutation)==null?void 0:_.action.isPending)||!1}),f=g(()=>{var _,$;return((_=e.createSingleVersionMutation)==null?void 0:_.errors())||(($=e.createDocumentMutation)==null?void 0:$.errors())}),m=g(()=>V.hasErrorsOnOtherLocale({fieldErrors:We("fields",f())||[],brickErrors:We("bricks",f())||[],currentLocale:d()||""})),h=g(()=>{var _,$;return(($=(_=e.collection())==null?void 0:_.migrationStatus)==null?void 0:$.requiresMigration)===!0}),w=g(()=>{var _;return(_=e.collection())==null?void 0:_.config.useAutoSave}),k=g(()=>w()?!1:!D.get.documentMutated&&!o()),v=g(()=>{var _,$,K;return(($=(_=e.document())==null?void 0:_.version.published)==null?void 0:$.promotedFrom)===((K=e.document())==null?void 0:K.versionId)?!1:!D.get.documentMutated&&!o()&&!f()}),b=g(()=>{var _,$,K;return e.mode==="revisions"||((_=e.collection())==null?void 0:_.config.isLocked)===!0||(($=e.document())==null?void 0:$.isDeleted)===!0?!0:e.version==="published"&&e.mode==="edit"?((K=e.collection())==null?void 0:K.config.useDrafts)??!1:!1}),C=g(()=>{var _,$,K,N,ee,te;return((K=($=(_=e.document())==null?void 0:_.version)==null?void 0:$.published)==null?void 0:K.id)!==null&&((te=(ee=(N=e.document())==null?void 0:N.version)==null?void 0:ee.published)==null?void 0:te.id)!==void 0}),P=g(()=>{var _;return(_=e.collection())!=null&&_.config.useDrafts?C():e.mode==="revisions"?!0:C()}),R=g(()=>{var _;return e.mode==="create"?!1:((_=e.collection())==null?void 0:_.config.useRevisions)??!1}),z=g(()=>{var _;return b()?!1:e.mode==="create"||e.version==="draft"||e.version==="published"&&((_=e.collection())==null?void 0:_.config.useDrafts)===!1}),j=g(()=>!(e.mode==="create"||b()||e.version==="published")),W=g(()=>{var _,$;return(_=e.document())!=null&&_.isDeleted?!1:e.mode==="edit"&&(($=e.collection())==null?void 0:$.mode)==="multiple"}),Q=g(()=>e.mode==="create"?ie.get.hasPermission(["create_content"]).all:ie.get.hasPermission(["update_content"]).all),G=g(()=>{var _,$,K;return e.mode==="create"||e.mode==="revisions"||e.version==="published"&&((_=e.collection())==null?void 0:_.config.useDrafts)===!0||($=e.document())!=null&&$.isDeleted?!1:ie.get.hasPermission(["update_content"]).all&&((K=e.collection())==null?void 0:K.config.useAutoSave)}),Y=g(()=>ie.get.hasPermission(["publish_content"]).all),x=g(()=>ie.get.hasPermission(["delete_content"]).all),H=g(()=>{var _,$;return!((_=e.document())!=null&&_.isDeleted||e.mode!=="revisions"||(($=e.selectedRevision)==null?void 0:$.call(e))===void 0||!e.restoreRevisionAction)}),ce=g(()=>ie.get.hasPermission(["restore_content"]).all);return{getDeleteOpen:a,setDeleteOpen:s,getPanelOpen:i,setPanelOpen:r,isLoading:t,isSuccess:u,isSaving:o,isAutoSaving:l,brickTranslationErrors:m,canSaveDocument:k,canPublishDocument:v,isBuilderLocked:b,isPublished:C,canNavigateToPublished:P,showRevisionNavigation:R,showUpsertButton:z,hasSavePermission:Q,hasPublishPermission:Y,showPublishButton:j,showDeleteButton:W,hasDeletePermission:x,showRestoreRevisionButton:H,hasRestorePermission:ce,collectionNeedsMigrating:h,useAutoSave:w,hasAutoSavePermission:G}}export{Qn as A,Gr as B,pn as C,Zn as F,Jn as H,Lr as M,ei as R,Yn as a,Wn as b,Xn as c,ti as u};
