import{b as o,e as R,y as c,B as A,a as r,t as g,i as u,T as t,d as F,x as b,a2 as L,a3 as O,a4 as T,v as B,W as M}from"./index-CQ3-BSEL.js";import{S as U}from"./Standard-DQ0Jv3GR.js";import"./Tr-Dh-rHsqH.js";import"./MediaFolderCard-DV834B6M.js";import{I as i,a as q}from"./Tooltip-C4WAYcWb.js";import{D as E}from"./ContentLocaleSelect-Cb-MBOKh.js";import{I as m}from"./InfoRow-j4GZ1DzO.js";import{g as l}from"./error-helpers-D9jUdhyT.js";import{F as W}from"./Form-DkqXFt5b.js";import"./ActionDropdown-DU8N8G-B.js";import"./ErrorMessage-BUQl5hDc.js";var j=g("<h3 class=mb-4>"),k=g('<div class="grid grid-cols-2 gap-4">'),z=g("<div class=mt-5><h3 class=mb-4>");const G=a=>{const[e,P]=o(a.firstName??""),[p,x]=o(a.lastName??""),[w,S]=o(a.username??""),[f,$]=o(a.email??""),[h,_]=o(""),[d,N]=o(""),[C,y]=o(""),n=R.account.useUpdateMe({onSuccess:()=>{_(""),N(""),y("")}}),v=c(()=>A.updateData({firstName:a.firstName,lastName:a.lastName,username:a.username,email:a.email,currentPassword:"",newPassword:"",passwordConfirmation:""},{firstName:e(),lastName:p(),username:w(),email:f(),currentPassword:h(),newPassword:d(),passwordConfirmation:C()})),D=c(()=>!v().changed);return r(W,{get state(){return{isLoading:n.action.isPending,errors:n.errors(),isDisabled:D()}},get content(){return{submit:t()("update")}},onSubmit:()=>{n.action.mutate(v().data)},get children(){return[(()=>{var s=j();return u(s,()=>t()("details")),s})(),(()=>{var s=k();return u(s,r(i,{id:"firstName",name:"firstName",type:"text",get value(){return e()},onChange:P,get copy(){return{label:t()("first_name")}},get errors(){return l("firstName",n.errors)},theme:"full"}),null),u(s,r(i,{id:"lastName",name:"lastName",type:"text",get value(){return p()},onChange:x,get copy(){return{label:t()("last_name")}},get errors(){return l("lastName",n.errors)},theme:"full"}),null),s})(),r(i,{id:"username",name:"username",type:"text",get value(){return w()},onChange:S,get copy(){return{label:t()("username")}},required:!0,get errors(){return l("username",n.errors)},theme:"full"}),r(i,{id:"email",name:"email",type:"email",get value(){return f()},onChange:$,get copy(){return{label:t()("email")}},required:!0,get errors(){return l("email",n.errors)},theme:"full"}),(()=>{var s=z(),I=s.firstChild;return u(I,()=>t()("update_password")),u(s,r(i,{id:"currentPassword",name:"currentPassword",type:"password",get value(){return h()},onChange:_,get copy(){return{label:t()("current_password")}},get errors(){return l("currentPassword",n.errors)},theme:"full",hideOptionalText:!0}),null),u(s,r(i,{id:"newPassword",name:"newPassword",type:"password",get value(){return d()},onChange:N,get copy(){return{label:t()("new_password")}},get errors(){return l("newPassword",n.errors)},theme:"full",hideOptionalText:!0}),null),u(s,r(F,{get when(){return d()!==""},get children(){return r(i,{id:"passwordConfirmation",name:"passwordConfirmation",type:"password",get value(){return C()},onChange:y,get copy(){return{label:t()("confirm_password")}},get errors(){return l("passwordConfirmation",n.errors)},theme:"full",hideOptionalText:!0})}}),null),s})()]}})},H=()=>{const a=c(()=>b.get.user);return r(E,{options:{padding:"24"},get children(){return[r(m.Root,{get title(){return t()("account_details")},get description(){return t()("account_details_description")},get children(){return r(m.Content,{get children(){return r(G,{get firstName(){var e;return((e=a())==null?void 0:e.firstName)??void 0},get lastName(){var e;return((e=a())==null?void 0:e.lastName)??void 0},get username(){var e;return((e=a())==null?void 0:e.username)??void 0},get email(){var e;return((e=a())==null?void 0:e.email)??void 0}})}})}}),r(m.Root,{get title(){return t()("configuration")},get description(){return t()("configuration_description")},get children(){return r(m.Content,{get title(){return t()("cms_locale")},get description(){return t()("cms_locale_description")},get children(){return r(q,{id:"cms-locale",get value(){return T()},get options(){return O.map(e=>({label:e.name||e.code,value:e.code}))},onChange:e=>{L(e)},name:"cms-locale",noClear:!0,theme:"basic"})}})}})]}})},se=()=>{const a=c(()=>b.get.user);return r(M,{get slots(){return{topBar:r(B,{style:"layout",get alerts(){var e;return[{type:"error",message:t()("please_reset_password_message"),show:((e=a())==null?void 0:e.triggerPasswordReset)===!0}]}}),header:r(U,{get copy(){return{title:t()("account_route_title"),description:t()("account_route_description")}}})}},get children(){return r(H,{})}})};export{se as default};
